"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9263],{33576:function(e,t,r){r.d(t,{z:function(){return b}});var n=r(72664),s=r(37051),i=r(89676),u=r(58506),o=r(41108),a=r(98192),c=r(97831),l=r(66595),h=r(23941),d=r(44574),f=r(1814),p=r(16035),v=["refetchPage"];function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var b=function(e){(0,o.Z)(n,e);var t,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,c.Z)(n);return e=t?Reflect.construct(r,arguments,(0,c.Z)(this).constructor):r.apply(this,arguments),(0,a.Z)(this,e)});function n(e,t){var s;return(0,i.Z)(this,n),(s=r.call(this)).client=e,s.options=t,s.trackedProps=new Set,s.selectError=null,s.bindMethods(),s.setOptions(t),s}return(0,u.Z)(n,[{key:"bindMethods",value:function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}},{key:"onSubscribe",value:function(){1===this.listeners.length&&(this.currentQuery.addObserver(this),m(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}},{key:"onUnsubscribe",value:function(){this.listeners.length||this.destroy()}},{key:"shouldFetchOnReconnect",value:function(){return O(this.currentQuery,this.options,this.options.refetchOnReconnect)}},{key:"shouldFetchOnWindowFocus",value:function(){return O(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}},{key:"destroy",value:function(){this.listeners=[],this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}},{key:"setOptions",value:function(e,t){var r=this.options,n=this.currentQuery;if(this.options=this.client.defaultQueryOptions(e),(0,l.VS)(r,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled)throw Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=r.queryKey),this.updateQuery();var s=this.hasListeners();s&&g(this.currentQuery,n,this.options,r)&&this.executeFetch(),this.updateResult(t),s&&(this.currentQuery!==n||this.options.enabled!==r.enabled||this.options.staleTime!==r.staleTime)&&this.updateStaleTimeout();var i=this.computeRefetchInterval();s&&(this.currentQuery!==n||this.options.enabled!==r.enabled||i!==this.currentRefetchInterval)&&this.updateRefetchInterval(i)}},{key:"getOptimisticResult",value:function(e){var t=this.client.getQueryCache().build(this.client,e);return this.createResult(t,e)}},{key:"getCurrentResult",value:function(){return this.currentResult}},{key:"trackResult",value:function(e){var t=this,r={};return Object.keys(e).forEach(function(n){Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:function(){return t.trackedProps.add(n),e[n]}})}),r}},{key:"getCurrentQuery",value:function(){return this.currentQuery}},{key:"remove",value:function(){this.client.getQueryCache().remove(this.currentQuery)}},{key:"refetch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refetchPage,r=(0,s.Z)(e,v);return this.fetch(R(R({},r),{},{meta:{refetchPage:t}}))}},{key:"fetchOptimistic",value:function(e){var t=this,r=this.client.defaultQueryOptions(e),n=this.client.getQueryCache().build(this.client,r);return n.isFetchingOptimistic=!0,n.fetch().then(function(){return t.createResult(n,r)})}},{key:"fetch",value:function(e){var t,r=this;return this.executeFetch(R(R({},e),{},{cancelRefetch:null==(t=e.cancelRefetch)||t})).then(function(){return r.updateResult(),r.currentResult})}},{key:"executeFetch",value:function(e){this.updateQuery();var t=this.currentQuery.fetch(this.options,e);return null!=e&&e.throwOnError||(t=t.catch(l.ZT)),t}},{key:"updateStaleTimeout",value:function(){var e=this;if(this.clearStaleTimeout(),!l.sk&&!this.currentResult.isStale&&(0,l.PN)(this.options.staleTime)){var t=(0,l.Kp)(this.currentResult.dataUpdatedAt,this.options.staleTime);this.staleTimeoutId=setTimeout(function(){e.currentResult.isStale||e.updateResult()},t+1)}}},{key:"computeRefetchInterval",value:function(){var e;return"function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.currentResult.data,this.currentQuery):null!=(e=this.options.refetchInterval)&&e}},{key:"updateRefetchInterval",value:function(e){var t=this;this.clearRefetchInterval(),this.currentRefetchInterval=e,!l.sk&&!1!==this.options.enabled&&(0,l.PN)(this.currentRefetchInterval)&&0!==this.currentRefetchInterval&&(this.refetchIntervalId=setInterval(function(){(t.options.refetchIntervalInBackground||d.j.isFocused())&&t.executeFetch()},this.currentRefetchInterval))}},{key:"updateTimers",value:function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}},{key:"clearStaleTimeout",value:function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}},{key:"clearRefetchInterval",value:function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}},{key:"createResult",value:function(e,t){var r,n,s=this.currentQuery,i=this.options,u=this.currentResult,o=this.currentResultState,a=this.currentResultOptions,c=e!==s,h=c?e.state:this.currentQueryInitialState,d=c?this.currentResult:this.previousQueryResult,f=e.state,v=f.dataUpdatedAt,y=f.error,R=f.errorUpdatedAt,b=f.fetchStatus,O=f.status,S=!1,Q=!1;if(t._optimisticResults){var E=this.hasListeners(),I=!E&&m(e,t),C=E&&g(e,s,t,i);(I||C)&&(b=(0,p.Kw)(e.options.networkMode)?"fetching":"paused",v||(O="loading")),"isRestoring"===t._optimisticResults&&(b="idle")}if(t.keepPreviousData&&!f.dataUpdatedAt&&null!=d&&d.isSuccess&&"error"!==O)r=d.data,v=d.dataUpdatedAt,O=d.status,S=!0;else if(t.select&&void 0!==f.data){if(u&&f.data===(null==o?void 0:o.data)&&t.select===this.selectFn)r=this.selectResult;else try{this.selectFn=t.select,r=t.select(f.data),r=(0,l.oE)(null==u?void 0:u.data,r,t),this.selectResult=r,this.selectError=null}catch(e){this.selectError=e}}else r=f.data;if(void 0!==t.placeholderData&&void 0===r&&"loading"===O){if(null!=u&&u.isPlaceholderData&&t.placeholderData===(null==a?void 0:a.placeholderData))n=u.data;else if(n="function"==typeof t.placeholderData?t.placeholderData():t.placeholderData,t.select&&void 0!==n)try{n=t.select(n),this.selectError=null}catch(e){this.selectError=e}void 0!==n&&(O="success",r=(0,l.oE)(null==u?void 0:u.data,n,t),Q=!0)}this.selectError&&(y=this.selectError,r=this.selectResult,R=Date.now(),O="error");var P="fetching"===b,T="loading"===O,U="error"===O;return{status:O,fetchStatus:b,isLoading:T,isSuccess:"success"===O,isError:U,isInitialLoading:T&&P,data:r,dataUpdatedAt:v,error:y,errorUpdatedAt:R,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>h.dataUpdateCount||f.errorUpdateCount>h.errorUpdateCount,isFetching:P,isRefetching:P&&!T,isLoadingError:U&&0===f.dataUpdatedAt,isPaused:"paused"===b,isPlaceholderData:Q,isPreviousData:S,isRefetchError:U&&0!==f.dataUpdatedAt,isStale:k(e,t),refetch:this.refetch,remove:this.remove}}},{key:"updateResult",value:function(e){var t=this,r=this.currentResult,n=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!(0,l.VS)(n,r)){this.currentResult=n;var s={cache:!0};(null==e?void 0:e.listeners)!==!1&&function(){if(!r)return!0;var e=t.options.notifyOnChangeProps;if("all"===e||!e&&!t.trackedProps.size)return!0;var n=new Set(null!=e?e:t.trackedProps);return t.options.useErrorBoundary&&n.add("error"),Object.keys(t.currentResult).some(function(e){return t.currentResult[e]!==r[e]&&n.has(e)})}()&&(s.listeners=!0),this.notify(R(R({},s),e))}}},{key:"updateQuery",value:function(){var e=this.client.getQueryCache().build(this.client,this.options);if(e!==this.currentQuery){var t=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(null==t||t.removeObserver(this),e.addObserver(this))}}},{key:"onQueryUpdate",value:function(e){var t={};"success"===e.type?t.onSuccess=!e.manual:"error"!==e.type||(0,p.DV)(e.error)||(t.onError=!0),this.updateResult(t),this.hasListeners()&&this.updateTimers()}},{key:"notify",value:function(e){var t=this;h.V.batch(function(){var r,n,s,i,u,o,a,c;e.onSuccess?(null==(r=(n=t.options).onSuccess)||r.call(n,t.currentResult.data),null==(s=(i=t.options).onSettled)||s.call(i,t.currentResult.data,null)):e.onError&&(null==(u=(o=t.options).onError)||u.call(o,t.currentResult.error),null==(a=(c=t.options).onSettled)||a.call(c,void 0,t.currentResult.error)),e.listeners&&t.listeners.forEach(function(e){e(t.currentResult)}),e.cache&&t.client.getQueryCache().notify({query:t.currentQuery,type:"observerResultsUpdated"})})}}]),n}(f.l);function m(e,t){return!1!==t.enabled&&!e.state.dataUpdatedAt&&!("error"===e.state.status&&!1===t.retryOnMount)||e.state.dataUpdatedAt>0&&O(e,t,t.refetchOnMount)}function O(e,t,r){if(!1!==t.enabled){var n="function"==typeof r?r(e):r;return"always"===n||!1!==n&&k(e,t)}return!1}function g(e,t,r,n){return!1!==r.enabled&&(e!==t||!1===n.enabled)&&(!r.suspense||"error"!==e.state.status)&&k(e,r)}function k(e,t){return e.isStaleByTime(t.staleTime)}},79584:function(e,t,r){r.d(t,{r:function(){return y}});var n,s=r(67009),i=r(32735),u=r(98712),o=r(23941),a=i.createContext((n=!1,{clearReset:function(){n=!1},reset:function(){n=!0},isReset:function(){return n}})),c=r(88610),l=i.createContext(!1);l.Provider;var h=r(34806),d=function(e,t){(e.suspense||e.useErrorBoundary)&&!t.isReset()&&(e.retryOnMount=!1)},f=function(e){i.useEffect(function(){e.clearReset()},[e])},p=function(e){var t=e.result,r=e.errorResetBoundary,n=e.useErrorBoundary,s=e.query;return t.isError&&!r.isReset()&&!t.isFetching&&(0,h.L)(n,[t.error,s])},v=function(e){e.suspense&&"number"!=typeof e.staleTime&&(e.staleTime=1e3)};function y(e,t){var r,n,h,y=(0,c.NL)({context:e.context}),R=i.useContext(l),b=i.useContext(a),m=y.defaultQueryOptions(e);m._optimisticResults=R?"isRestoring":"optimistic",m.onError&&(m.onError=o.V.batchCalls(m.onError)),m.onSuccess&&(m.onSuccess=o.V.batchCalls(m.onSuccess)),m.onSettled&&(m.onSettled=o.V.batchCalls(m.onSettled)),v(m),d(m,b),f(b);var O=i.useState(function(){return new t(y,m)}),g=(0,s.Z)(O,1)[0],k=g.getOptimisticResult(m);if((0,u.$)(i.useCallback(function(e){return R?function(){}:g.subscribe(o.V.batchCalls(e))},[g,R]),function(){return g.getCurrentResult()},function(){return g.getCurrentResult()}),i.useEffect(function(){g.setOptions(m,{listeners:!1})},[m,g]),r=m,n=k,h=R,(null==r?void 0:r.suspense)&&n.isLoading&&n.isFetching&&!h)throw g.fetchOptimistic(m).then(function(e){var t=e.data;null==m.onSuccess||m.onSuccess(t),null==m.onSettled||m.onSettled(t,null)}).catch(function(e){b.clearReset(),null==m.onError||m.onError(e),null==m.onSettled||m.onSettled(void 0,e)});if(p({result:k,errorResetBoundary:b,useErrorBoundary:m.useErrorBoundary,query:g.getCurrentQuery()}))throw k.error;return m.notifyOnChangeProps?k:g.trackResult(k)}}}]);