"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6701],{57488:function(e,t,r){r.d(t,{es:function(){return n}});var n={HOTEL:"HOTEL",VILLA:"VILLA",APARTMENT:"APARTMENT"}},99180:function(e,t,r){r.d(t,{B:function(){return u},Z:function(){return l}});var n=r(32735),a=r(57488),o=r(74512),i=a.es.HOTEL,c=(0,n.createContext)(i);function l(e){return(0,o.jsx)(c.Provider,{value:e.accomType||a.es.HOTEL,children:e.children})}var u=function(){return(0,n.useContext)(c)}},57730:function(e,t,r){r.d(t,{aQ:function(){return g}});var n=r(32735),a=r(71418),o=r(73903),i=r(71638),c=r(93215),l=r(19846),u=r(91324),s=r(77991),d=r(52031),p=r(11121),f={en:i.Z,id:c.Z,ms:l.Z,vi:u.Z,th:s.Z,ja:d.Z,ko:p.Z},h=function(e){var t={},r={yyyy:{year:"numeric"},yyy:{year:"numeric"},yy:{year:"numeric"},y:{year:"numeric"},MMMM:{month:"long"},MMM:{month:"short"},MM:{month:"short"},M:{month:"narrow"},dd:{day:"numeric"},d:{day:"numeric"},EEEEEE:{weekday:"short"},EEEEE:{weekday:"narrow"},EEEE:{weekday:"long"},EEE:{weekday:"short"},EE:{weekday:"short"},E:{weekday:"short"},eeeeee:{weekday:"short"},eeeee:{weekday:"narrow"},eeee:{weekday:"long"},eee:{weekday:"short"},ee:{weekday:"narrow"},e:{weekday:"narrow"},cccccc:{weekday:"short"},ccccc:{weekday:"narrow"},cccc:{weekday:"long"},ccc:{weekday:"short"},cc:{weekday:"narrow"},c:{weekday:"narrow"},HH:{hour:"2-digit",hour12:!1},H:{hour:"numeric",hour12:!1},hh:{hour:"2-digit",hour12:!0},h:{hour:"numeric",hour12:!0},mm:{minute:"2-digit"},m:{minute:"numeric"},ss:{second:"2-digit"},s:{second:"numeric"},a:{hour12:!0}};return Object.keys(r).forEach(function(n){e.includes(n)&&Object.assign(t,r[n])}),t};function g(){var e,t=(0,a.bU)().language,r=(e=(0,a.bU)().languageTag,(0,n.useCallback)(function(t,r){return new Intl.DateTimeFormat(e,r?h(r):{day:"numeric",month:"short",year:"numeric"}).format(t)},[e]));return(0,n.useCallback)(function(e,n){var a=f[t],i="EEEE, d MMMM yyyy";return"ja"===t||"ko"===t?r(e,null!=n?n:i):(0,o.Z)(e,null!=n?n:i,{locale:a})},[t])}},49487:function(e,t,r){r.d(t,{v:function(){return i}});var n=r(97647),a=r(99180),o=r(57488);function i(){var e=(0,a.B)();return(0,n.Jd)("hotel-child-occupancy").enabled&&e===o.es.HOTEL}},70123:function(e,t,r){r.d(t,{Lo:function(){return f},RZ:function(){return s},S0:function(){return i},Vf:function(){return d},mU:function(){return n},nK:function(){return l},sR:function(){return o},vZ:function(){return a},wY:function(){return c},yB:function(){return u},yN:function(){return p}});var n=1,a=30,o=0,i=6,c=17,l=1,u=8,s=8,d=15,p=3,f=5},778:function(e,t,r){r.d(t,{Gb:function(){return n},Sn:function(){return a}});var n="hotel-max-stay-duration",a="hotel-default-occupancy"},96366:function(e,t,r){var n=r(72664),a=r(67009),o=r(15611),i=r(55516),c=r(25122),l=r(25773),u=r(89793),s=r.n(u),d=r(32735),p=r(71471),f=r(87904),h=r(18662),g=r(9959),m=r(5060),y=r(6907),b=r(74512);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var O=(0,d.forwardRef)(function(e,t){var r=e.testID,n=e.maxHeight,l=e.options,u=e.renderItem,y=e.value,v=e.onOpenDropdown,O=e.onCloseDropdown,P=e.onSelect,x=e.shouldCloseDropdown,R=e.isOpenDropdown,Z=e.isDropdownVisible,w=e.isDisabled,j=e.preload,C=e.contentContainerStyle,T=e.dropdownItemStyle,A=(0,d.useState)(!1),E=A[0],I=A[1],F=(0,d.useState)(!0),k=F[0],_=F[1],L=(0,d.useRef)(null),N=(0,d.useRef)(new p.Z.Value(0)),M=(0,d.useRef)(new p.Z.Value(0)),H=(0,d.useRef)(null),U=(0,o.Z)(),B=(0,a.Z)(U,2),W=B[0],V=B[1];(0,d.useEffect)(function(){return E?document.body.addEventListener("mousedown",J):document.body.removeEventListener("mousedown",J),function(){document.body.removeEventListener("mousedown",J)}},[E]),(0,d.useEffect)(function(){"boolean"==typeof R&&R!==E&&I(R)},[R]);var G=(0,d.useRef)(!0);(0,d.useEffect)(function(){if(G.current){G.current=!1;return}var e=E?n||400:0,t=Number(E),r=E?0:500;p.Z.parallel([p.Z.timing(M.current,{toValue:t,duration:r}),p.Z.timing(N.current,{toValue:e,duration:250})]).start(function(e){e.finished&&_(!0)})},[E]),(0,d.useEffect)(function(){if(E&&H.current){var e=document.getElementById("dropdown-menu-item-selected");if(e){var t,r=e.getBoundingClientRect(),n=H.current.getBoundingClientRect();null===(t=H.current)||void 0===t||t.scrollTo({y:r.top-n.top,animated:!1})}}},[E]);var J=function(e){var t=L.current;t&&!t.contains(e.target)&&(!x||x())&&Y(!0)},K=(0,d.useCallback)(function(){!w&&(_(!1),I(!0),v&&v())},[w,v]),Y=(0,d.useCallback)(function(e){_(!1),I(!1),O&&O({isOnBlur:e||!1})},[O]),q=(0,d.useCallback)(function(e,t){P&&P(e,t),Y()},[P]),z=void 0!==e.content&&e.content;(0,d.useImperativeHandle)(t,function(){return{openDropdown:K,closeDropdown:Y}});var X=d.cloneElement(d.Children.only(e.children),{onFocus:K});return(0,b.jsxs)(f.Z,{testID:r,ref:L,style:D.container,children:[(0,b.jsx)(h.Z,{disabled:w,onPress:K,testID:"touchable-".concat(r),children:(0,b.jsx)(f.Z,S(S({style:[w?D.cursorDisabled:D.cursorPointer]},V),{},{children:X}))}),E||!k||j?(0,b.jsx)(p.Z.View,{style:[D.dropdown,{overflow:k&&Z?"visible":"hidden",minWidth:W.width,opacity:M.current},e.dropdownStyle],children:(0,b.jsx)(p.Z.View,{style:{maxHeight:N.current},children:z?"function"==typeof z?z(Y):z:(0,b.jsx)(g.Z,{ref:H,contentContainerStyle:C,children:l.map(function(e,t){return(0,b.jsx)(m.Z,{onPress:function(){q(e,t)},testID:"dropdown-menu-item",children:(0,b.jsx)(i.Z,{children:function(r){var n=s()(y,e.value),a=r||n,o="dropdown-menu-item".concat(n?"-selected":"");return(0,b.jsx)(f.Z,{style:[D.item,a&&D.itemHovered,T],nativeID:o,children:"function"==typeof u?u(e,t,r):(0,b.jsxs)(b.Fragment,{children:[a&&(0,b.jsx)(f.Z,{style:[D.selectedItemIndicator,r&&D.selectedItemIndicatorHovered]}),(0,b.jsx)(f.Z,{style:!a&&D.unselectedItem,children:(0,b.jsx)(c.Z,{ink:n?"primary-interactive":"primary",children:e.label})})]})})}})},t)})})})}):(0,b.jsx)("div",{})]})});t.Z=O;var D=y.Z.create({container:{zIndex:"initial"},dropdown:{position:"absolute",left:0,zIndex:5,top:"100%",borderWidth:l.Z.border.width.thick,borderColor:"rgba(67,67,67,.17)",borderRadius:l.Z.border.radius.normal,backgroundColor:l.Z.color.uiLightPrimary,boxShadow:"0 1px 3px 0 rgba(27,27,27,.2), 0 4px 8px 0 rgba(27,27,27,.1)"},item:{paddingHorizontal:l.Z.spacing.s,paddingVertical:l.Z.spacing.xs,flexDirection:"row",alignItems:"center"},itemHovered:{backgroundColor:l.Z.color.uiLightNeutral},selectedItemIndicator:{width:l.Z.spacing.xs,height:l.Z.spacing.xs,backgroundColor:l.Z.color.uiBluePrimary,borderRadius:l.Z.border.radius.rounded,marginRight:l.Z.spacing.s},selectedItemIndicatorHovered:{backgroundColor:l.Z.color.uiLightSecondary},unselectedItem:{paddingLeft:l.Z.spacing.ml},cursorPointer:{cursor:"pointer"},cursorDisabled:{cursor:"not-allowed"}})},45216:function(e,t,r){r.d(t,{CP:function(){return c},Lj:function(){return u},NF:function(){return o},V3:function(){return i},c9:function(){return a},cf:function(){return l}});var n=r(76089),a={contentResource:{HotelSearchResultPage:{seeAllLabel:"",seeLessLabel:""}}},o={contentResource:{HotelSearchResultPage:{recentFilterLabel:"",filterClearLabel:""}}},i={contentResource:{HotelSearchResultPage:{filterLabel:"",resetFilterLabel:"",showResultsLabel:""}}},c={contentResource:{HotelSearchResultPage:{popularFilterLabel:""}}},l={contentResource:{HotelSearchResultPage:{filterNewPriceRangeLabel:"",filterPerRoomNight:"",maxPriceErrorLabel:"",filterResetLabel:""}}};(0,n.Z)(a,{imageResource:{HotelSearchImages:{filterGodwit:{link:""}}}},{contentResource:{HotelSearchResultPage:{corporatePriceFilterInfo:"",filterNewPriceRangeLabel:"",filterPerRoomNight:"",maxPriceErrorLabel:"",filterResetLabel:""}}},o,{contentResource:{HotelSearchResultPage:{popularFilterLabel:""}}});var u=(0,n.Z)(a,i,c,l,{contentResource:{HotelSearchResultPage:{recentFilterLabel:""}}},o)},6160:function(e,t,r){r.d(t,{BI:function(){return N},nI:function(){return M}});var n=r(72664),a=r(32735),o=r(82070),i=r.n(o),c=r(87904),l=r(5060),u=r(6907),s=r(20108),d=r(45750),p=r.n(d),f=r(3553),h=r(46122),g=r(72894),m=r(71418),y=r(95060),b=r(34635),v=r(25773),S=r(88232),O=r(21542),D=r(53001),P=r(96366),x=r(99180),R=r(6440),Z=r(87952),w=r(35318),j=r.n(w),C=r(27871),T=r(92149),A=r(74512);function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var F=function(){return(0,A.jsx)(c.Z,{testID:"accom_autocomplete_loading",style:{padding:v.Z.spacing.s,justifyContent:"center",alignItems:"center"},children:(0,A.jsx)(S.Z,{})})},k=i()(function(){return r.e(8445).then(r.bind(r,98445))},{loading:F,loadableGenerated:{webpack:function(){return[98445]}}}),_=i()(function(){return Promise.all([r.e(2933),r.e(8529)]).then(r.bind(r,82933))},{loading:F,loadableGenerated:{webpack:function(){return[82933]}}});t.ZP=function(e){var t=e.initialQuery,r=e.entityTypesFilter,n=e.entryPoint,o=e.defaultInputValue,i=void 0===o?"":o,c=e.onSelect,u=e.onOpenDropdown,d=e.onCloseDropdown,b=e.controlRef,v=e.isTrip,S=e.getTripSpec,w=e.hideLabel,T=e.hideHistory,E=e.inputProps,M=e.autocompleteState,H=void 0===M?"control":M,U=e.isDualName,B=(0,a.useState)(function(){return new s.QueryClient({defaultOptions:{queries:{refetchOnWindowFocus:!1,refetchOnMount:!1}}})})[0],W=(0,a.useState)(t||""),V=W[0],G=W[1],J=(0,a.useState)(!1),K=J[0],Y=J[1],q=(0,a.useRef)(0),z=(0,f.w)(),X=(0,h.hw)(N),Q=(0,g.Z)(),$=(0,m.bU)(),ee=(0,y.U8)(),et=(0,x.B)(),er=(0,Z._)().sendAutocompleteTracking,en=(0,a.useState)(!1),ea=en[0],eo=en[1],ei=(0,a.useRef)(""),ec=(0,a.useRef)(t||""),el=(0,a.useRef)(null),eu=(0,a.useRef)(null),es="treatment"===H&&!v;(0,a.useEffect)(function(){t&&(ec.current=t,G(t))},[t]),(0,a.useImperativeHandle)(b,function(){return{setLastSearchQuery:function(e){ec.current=e}}});var ed=(0,a.useCallback)(function(e){if(!v){if("click"===e.action){var t,r,a=e.item.type===R.DF.PROVIDER_AUTOCOMPLETE?"google":"traveloka",o=e.options.isHistory?"Last_Search":"Popular_Destination",i=null!==(r=e.item)&&void 0!==r&&r.placeId?"".concat(R.DF.PLACE,".").concat(e.item.placeId):"".concat(e.item.type,".").concat(e.item.id);Q("hotel.autocompleteTrackerV2",{action:e.action,areaRecRank:e.options.isAreaRecommendation?e.options.index:0,autoSearch:o,autocompleteId:ei.current,chosenResult:ec.current,country:$.country,currency:ee.code,entryPoint:n,idWithType:i,isAreaRecAvailable:e.options.isAreaRecommendationAvailable,keyword:V,lang:$.language,numDeleteKeyword:q.current,rank:e.options.isAreaRecommendation?0:e.options.index,source:a})}else"close"===e.action&&Q("hotel.autocompleteTrackerV2",{action:e.action,areaRecRank:null,autoSearch:null,autocompleteId:null,chosenResult:null,country:$.country,currency:ee.code,entryPoint:n,idWithType:null,isAreaRecAvailable:null===(t=eu.current)||void 0===t?void 0:t.getIsAreaRecommendationAvailable(),keyword:V,lang:$.language,numDeleteKeyword:null,rank:null,source:"traveloka"})}},[v,Q,$.country,$.language,ee.code,n,V]),ep=(0,a.useCallback)(function(e,t){var r;null===(r=el.current)||void 0===r||r.closeDropdown(),e?ec.current="info"in e&&e.info?"".concat(e.name,", ").concat(e.info):e.name:ec.current="",es?er("CLICK"):e&&t&&"index"in t&&ed({action:"click",item:e,options:t}),Y((null==e?void 0:e.type)===R.DF.CURRENT_LOCATION),c&&c(e,t)},[es,c,er,ed]),ef=(0,a.useCallback)(function(){if(!ea){var e;eo(!0),G(""),null===(e=eu.current)||void 0===e||e.doSearch(""),ei.current=String(new Date().getTime()),u&&u(ei.current),q.current=0}},[ea,u]),eh=(0,a.useCallback)(function(e){var t=e.isOnBlur;eo(!1),d&&d(),t&&(es?er("CLOSE"):ed({action:"close"}))},[d,es,ed,er]),eg=(0,a.useCallback)(p()(function(e){var t;null===(t=eu.current)||void 0===t||t.doSearch(e)},500),[]),em=function(e){e.length<V.length&&(q.current=q.current+1),G(e),eg(e)},ey=z(X.HotelSearch.destinationLabelInfoDynamic,{accomType:et}),eb=z(X.SearchContainerJs.hotelPlaceholderInputDynamic,{accomType:et}),ev=(0,a.useMemo)(function(){return"loading"!==H||v?es?(0,A.jsx)(_,{contentRef:eu,entityTypesFilter:r,onSelect:ep,isDualName:U,merchandisingParams:e.merchandisingParams}):(0,A.jsx)(k,{contentRef:eu,entityTypesFilter:r,onSelect:ep,isTrip:v,getTripSpec:S,hideHistory:T,isDualName:U}):(0,A.jsx)(F,{})},[H,v,es,r,ep,U,e.merchandisingParams,S,T]),eS=(0,a.useMemo)(function(){if(ea)return V;if("loading"===H)return"...";var e=K?X.SearchContainerJs.nearMeLabel:i;return ec.current||e},[H,X.SearchContainerJs.nearMeLabel,i,V,ea,K]);return(0,A.jsx)(s.QueryClientProvider,{client:B,children:(0,A.jsx)(P.Z,{ref:el,content:ev,maxHeight:es?483:516,onOpenDropdown:ef,onCloseDropdown:eh,dropdownStyle:es?L.newDropdown:void 0,children:(0,A.jsx)(O.Z,I({label:w?"":ey,placeholder:eb,iconLeft:(0,A.jsx)(D.Z,{src:j()}),iconRight:!!(ea&&V.length)&&(0,A.jsx)(l.Z,{onPress:function(){return em("")},testID:"tvat-autocompleteClearButton",children:(0,A.jsx)(C.Z,{width:24,height:24})}),onChangeText:em,value:eS,editable:!0,testID:"autocomplete-field"},E))})})};var L=u.Z.create({newDropdown:I(I({borderRadius:20},v.Z.elevation.float),{},{maxWidth:"100%",overflow:"hidden"})}),N=(0,b.lV)({HotelSearch:{destinationLabelInfoDynamic:""},SearchContainerJs:{hotelPlaceholderInputDynamic:"",popularLandmarkOmniLabel:"",popularArea:"",otherLabel:"",hotelLabel:"",locationLabel:"",areaLabel:"",cityLabel:"",regionLabel:"",countryLabel:"",landMarkLabel:"",nearMeLabel:""}},T.A5),M=T.zd},92149:function(e,t,r){r.d(t,{A5:function(){return p},Dq:function(){return c},FO:function(){return a},JZ:function(){return d},KP:function(){return u},PW:function(){return l},QG:function(){return s},np:function(){return i},sy:function(){return o},zd:function(){return f}});var n=r(34635),a={SearchContainerJs:{labelSuggestion:"",lastSearch:"",popularDestination:"",popularAreasInLabel:"",popularityIndicatorLabel:"",numHotelsNearby:"",moreResult:"",areaRecommendationNote:"",noResultInformation:"",noResultSuggestion:"",nearMeLabel:""},TripSearchForm:{hotelLocationDefault:""}},o={contentResource:{SearchContainerJs:{numHotelsNearby:"",otherResultsLabel:"",landmarkRecommendationLabel:"",recentlyViewedLabel:"",frequentBookedLabel:"",seeMoreLabel:"",seeLessLabel:"",clearSearchLabel:"",continueSearchLabel:"",nearMeLabel:"",poweredBy:"",popularDestination:""}},imageResource:{HotelSearchImages:{googleLogo:{link:""}}}},i={contentResource:{SearchContainerJs:{emptyResultTitle:"",emptyResultDescription:""}},imageResource:{HotelSearchImages:{autocompleteNoResultIcon:{link:""}}}},c={contentResource:{SearchContainerJs:{propertyAmount:"",averagePrice:"",areaRecommendationLabel:""}},imageResource:{HotelSearchImages:{noImagePlaceholder:{link:""}}}},l={contentResource:{SearchContainerJs:{propertyAmount:"",averagePrice:"",frequentBookedLabel:""}},imageResource:{HotelSearchImages:{noImagePlaceholder:{link:""}}}},u={contentResource:{SearchContainerJs:{landmarkRecommendationLabel:""}},imageResource:{HotelSearchImages:{noImagePlaceholder:{link:""}}}},s={contentResource:{SearchContainerJs:{averagePrice:"",recentlyViewedLabel:""}},imageResource:{HotelSearchImages:{noImagePlaceholder:{link:""}}}},d={contentResource:{SearchContainerJs:{continueSearchLabel:"",clearSearchLabel:"",seeMoreLabel:"",seeLessLabel:""}}},p=(0,n.lV)(a,o.contentResource,i.contentResource,c.contentResource,l.contentResource,u.contentResource,s.contentResource,d.contentResource),f=(0,n.q_)(o.imageResource,i.imageResource,c.imageResource,l.imageResource,u.imageResource,s.imageResource)},10954:function(e,t,r){r.d(t,{$Q:function(){return a},DO:function(){return n}});var n={contentResource:{SearchContainerJs:{openFilterLabel:""}}},a={contentResource:{SearchContainerJs:{saveFilterLabel:""}}}},33648:function(e,t,r){r.d(t,{Jq:function(){return a},Yn:function(){return o},sl:function(){return n}});var n={GEO:"GEO",LANDMARK:"LANDMARK",HOTEL:"HOTEL",PROVIDER_AUTOCOMPLETE:"PROVIDER_AUTOCOMPLETE",POPULAR_DEST:"POPULAR_DEST",LAST_SEARCH:"LAST_SEARCH",CURRENT_LOCATION:"CURRENT_LOCATION"},a=[n.POPULAR_DEST,n.LAST_SEARCH],o=[n.GEO,n.LANDMARK,n.HOTEL,n.PROVIDER_AUTOCOMPLETE]},87952:function(e,t,r){r.d(t,{Z:function(){return f},_:function(){return h}});var n=r(72664),a=r(32735),o=r(72894);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var c=function(e){var t=(0,a.useRef)(!1),r=(0,a.useRef)(new Map),c=(0,o.Z)();return(0,a.useCallback)(function(a,o,l){if(null!=e&&e.triggerOnce){if(t.current)return;t.current=!0}if(null!=l&&l.triggerOnce){if(r.current.get(a))return;r.current.set(a,!0)}return c(a,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({funnelType:"MAIN_FUNNEL"},o))},[null==e?void 0:e.triggerOnce,c])},l=r(74512);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var d=(0,a.createContext)({sendAutocompleteTracking:function(e){},storeInteractedSection:function(e){},storeDisplayedSections:function(e){},storeSelectedItem:function(e){},getSectionIndex:function(e){return -1},clearTrackingData:function(){}}),p={timestamp:null,country:null,lang:null,keyword:null,sectionName:null,row:null,component:null,eventName:null,result:null,resultType:null,resultId:null,resultPrice:null,displayedSection:[],interactedSection:[],entryPoint:null},f=function(e){var t=e.children,r=e.entryPoint,n=(0,a.useRef)(s({},p)),o=c(),i=(0,a.useCallback)(function(){n.current=s(s({},p),{},{displayedSection:[],interactedSection:[]})},[]),u=(0,a.useCallback)(function(e){n.current=s(s({},n.current),e)},[]),f=(0,a.useCallback)(function(e){var t;null===(t=o("hotel.autocompleteTrackerV3",s(s({},n.current),{},{entryPoint:r,eventName:e})))||void 0===t||t.send(),"CLEAR_LAST_SEARCH_CLICKED"!==e&&i()},[i,r,o]),h=(0,a.useCallback)(function(e){n.current.interactedSection.includes(e)||n.current.interactedSection.push(e)},[]),g=(0,a.useCallback)(function(e){n.current.displayedSection.includes(e)||n.current.displayedSection.push(e)},[]),m=(0,a.useCallback)(function(e){var t=e.isFeaturesFetching,r=e.isInputEmpty,n=e.listCount,a=e.hasAreaRecommendations,o=e.hasFrequentlyBooked,c=e.hasHistory,l=e.hasLandmarkRecommendations,u=e.hasRecentlyViewed,s=e.isMerchEnabled,d=e.isPopularDestinationsEnabled;i(),t&&g("LOADING_FEATURES"),r&&g("NEAR_ME"),n||r||g("NO_RESULT"),n&&!r&&g("HIGHLIGHTED_RESULT"),c&&r&&g("LAST_SEARCH_WITH_SPEC"),a&&g("POPULAR_AREA"),l&&g("POPULAR_LANDMARK"),u&&g("RECENTLY_VIEWED"),o&&g("FREQUENTLY_BOOKED"),n>1&&!r&&g("OTHER_RESULT"),r&&n&&d&&g("POPULAR_DESTINATIONS"),(r||!n)&&s&&g("MERCHANDISING")},[g,i]),y=(0,a.useCallback)(function(e){return n.current.displayedSection.indexOf(e)},[]),b=(0,a.useMemo)(function(){return{sendAutocompleteTracking:f,storeInteractedSection:h,storeDisplayedSections:m,storeSelectedItem:u,clearTrackingData:i,getSectionIndex:y}},[i,y,f,m,h,u]);return(0,l.jsx)(d.Provider,{value:b,children:t})},h=function(){return(0,a.useContext)(d)}},11887:function(e,t,r){r.d(t,{Z:function(){return o},n:function(){return a}});var n=r(46122),a={SearchContainerJs:{popularLandmarkOmniLabel:"",popularArea:"",otherLabel:"",hotelLabel:"",locationLabel:"",areaLabel:"",cityLabel:"",regionLabel:"",countryLabel:"",landMarkLabel:""}};function o(){var e=(0,n.hw)(a);return{renderType:function(t){switch(t){case"SINGLE_LANDMARK":return e.SearchContainerJs.popularLandmarkOmniLabel;case"GEO":return e.SearchContainerJs.popularArea;case"ANY_LANDMARK":return e.SearchContainerJs.otherLabel;case"HOTEL":return e.SearchContainerJs.hotelLabel;case"HOTEL_GEO":return e.SearchContainerJs.locationLabel;case"GEO_AREA":return e.SearchContainerJs.areaLabel;case"GEO_CITY":return e.SearchContainerJs.cityLabel;case"GEO_REGION":return e.SearchContainerJs.regionLabel;case"GEO_COUNTRY":return e.SearchContainerJs.countryLabel;case"LANDMARK":return e.SearchContainerJs.landMarkLabel;default:return""}}}}},91146:function(e,t,r){r.d(t,{Up:function(){return d},pF:function(){return s}});var n=r(72664),a=r(37051),o=r(33648),i=r(6440),c=["autocompleteClickType","filterTrackingData"];function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var s=function(e){if(e.isHistory)return o.sl.LAST_SEARCH;if(e.isPopularDestination)return o.sl.POPULAR_DEST;switch(e.type){case i.DF.CURRENT_LOCATION:return o.sl.CURRENT_LOCATION;case i.DF.PROVIDER_AUTOCOMPLETE:return o.sl.PROVIDER_AUTOCOMPLETE;case i.DF.HOTEL:return o.sl.HOTEL;case i.DF.LANDMARK:return o.sl.LANDMARK;default:return o.sl.GEO}},d=function(e){var t=e.autocompleteClickType,r=e.filterTrackingData,n=(0,a.Z)(e,c),i=o.Yn.includes(t)?t:null,l=o.Jq.includes(t)?t:null;return u(u({},n),{},{autocompleteClickType:i,autocompleteAutoSearch:l,chosenFilter:r?Array.from(r.values()).map(function(e){var t=e.id,r=e.name,n=e.category,a=e.entryPoint;return{id:t,name:r,category:n,type:e.type,entryPoint:a}}):[]})}},6440:function(e,t,r){r.d(t,{DF:function(){return a},Xw:function(){return n}});var n="dd-MM-yyyy",a={GEO_AREA:"GEO_AREA",GEO_CITY:"GEO_CITY",GEO_COUNTRY:"GEO_COUNTRY",GEO_REGION:"GEO_REGION",HOTEL:"HOTEL",HOTEL_BRAND:"HOTEL_BRAND",HOTEL_GEO:"HOTEL_GEO",LANDMARK:"LANDMARK",SUGGESTION:"SUGGESTION",PROVIDER_AUTOCOMPLETE:"PROVIDER_AUTOCOMPLETE",AIRPORT:"AIRPORT",PLACE:"PLACE",CURRENT_LOCATION:"CURRENT_LOCATION"}},75185:function(e,t,r){r.d(t,{M:function(){return a}});var n=r(27589);function a(e){return(0,n.Z)(e)}},43673:function(e,t,r){r.d(t,{Jb:function(){return p},Zr:function(){return d},rT:function(){return s}});var n=r(1972),a=r(19479),o=r(89638),i=r(32735),c=r(3353),l=r(27727),u=r(70123);function s(e){return(0,i.useMemo)(function(){return{history:"v2"===e?function(){try{var e=f(c.BM,[]),t=new Date,r=e.filter(function(e){var r=(0,o.Z)(e.checkInDate,"dd-MM-yyyy",new Date);return(0,a.Z)(r,t)||(0,n.Z)(r,t)});return l.Z.setItem(c.BM,JSON.stringify(r)),r}catch(e){return l.Z.setItem(c.BM,JSON.stringify([])),[]}}():f(c.CD,[]),hotelSpec:f(c.z4,{})}},[e])}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ignoreChildren:!1};try{var r=f(c.BM,[]).filter(function(r){return r.id!==e.id||r.numOfGuests!==e.numOfGuests||r.numOfRooms!==e.numOfRooms||r.checkInDate!==e.checkInDate||r.checkOutDate!==e.checkOutDate||!(null!=t&&t.ignoreChildren)&&r.childAges.length!==e.childAges.length});r.length>=u.Lo&&r.pop(),r.unshift(e),l.Z.setItem(c.BM,JSON.stringify(r))}catch(e){l.Z.setItem(c.BM,JSON.stringify([]))}}function p(){l.Z.removeItem(c.BM)}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];try{var r=l.Z.getItem(e);return JSON.parse(r||"".concat(t))}catch(e){return t}}},96416:function(e,t,r){r.d(t,{Z:function(){return l}});var n=r(67009),a=r(32735),o=r(45684),i={},c=new Date;function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t="/holidays/".concat(e.getFullYear(),"/").concat(e.getMonth()+1,"/12"),r=(0,o.Z)({domain:"holiday",method:"get",path:t,cacheOptions:{key:t,maxAge:36e5}}),l=a.useState(i),u=(0,n.Z)(l,2),s=u[0],d=u[1];return a.useEffect(function(){var e=!0;return r().then(function(t){t.success&&e&&d(t.result.data.holidays)}),function(){e=!1}},[r]),s}},3353:function(e,t,r){r.d(t,{BM:function(){return u},CD:function(){return l},CH:function(){return s},T7:function(){return n},au:function(){return o},oP:function(){return a},ro:function(){return c},z4:function(){return i}});var n="accomAccessCode",a="encryptedAccessCode",o="hotel.booking.tempInfo.revamp",i="hotelSpecStorage",c="logPASearchHistory",l="logSearchHistory",u="logSearchHistoryV2",s="PASpecStorage"},50380:function(e,t,r){r.d(t,{YF:function(){return a},cM:function(){return n}});var n="$flight_visit_id$",a="offlineUTMInfo"},16880:function(e,t,r){r.d(t,{Z:function(){return n}});var n={contentResource:{GeneralLayout:{facebookUrl:"",twitterUrl:"",instagramUrl:"",youtubeUrl:"",telegramUrl:"",tiktokUrl:"",threadUrl:"",whatsappUrl:"",lineUrl:"",travelLicense:""},HomepageMobileWeb:{footerAppDownload_title:"",footerAppDownload_desc:"",partnerPayment:""}},imageSlider:{PaymentPartners:{link:"",linkTo:"",titleText:"",altText:"",captionText:""}},imageResource:{partnerImage:{"huawei-app-black":{link:""}}}}},19360:function(e,t,r){r.d(t,{Zi:function(){return c},bE:function(){return l}});var n=r(82070),a=r.n(n),o=r(17418),i=r(16880),c=a()(function(){return r.e(3543).then(r.bind(r,63543))},{ssr:!1,loadableGenerated:{webpack:function(){return[63543]}}}),l=(0,o.Z)(function(){return r.e(3970).then(r.bind(r,93970))},{id:"mobileFooter"},i.Z);a()(function(){return Promise.all([r.e(4824),r.e(7529)]).then(r.bind(r,94824))},{ssr:!1,loadableGenerated:{webpack:function(){return[94824]}}})},18442:function(e,t,r){r.d(t,{Z:function(){return v}});var n=r(72664),a=r(32735),o=r(85068),i=r(72894),c=r(14618),l=r(58928),u=r(95060),s=r(71418),d=r(61501),p=r(78622),f=r(38177),h=r(12879);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var b=new Map;function v(e,t,r){var m=(0,i.Z)(),v=(0,c.Wn)(),S=function(e,t){var r=(0,u.U8)(),a=(0,s.bU)(),o=(0,d.aF)(),i=(0,l.qr)(),c=(0,h.I)().config;if(null===o||null===c)return null;var m=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({hashedCookieId:o.clientId||"null",sessionId:o.sessionId||null,lang:a.language,country:a.country,currency:r.code,intf:i,userAgent:navigator.userAgent,authLvl:(0,p.X)(o.authorizationLevel),profileId:o.loggedIn?o.id:""},t),y=c[e];return y?(0,f.f)(e,y,m):null}(e,t),O=(0,o.useDevtoolsAPI)(),D=(0,o.useDevtoolsState)("abTest.".concat(e)),P=(0,a.useMemo)(function(){var e={};return Object.keys(D||{}).forEach(function(t){var r=D[t];r&&(e[t]="variant"===t?"control":r)}),e},[D]);return a.useEffect(function(){if(S){O.dangerouslyUpdateSection("abTest.".concat(e),function(e){var t,r=(null===(t=S.nsInstance)||void 0===t?void 0:t.assignments)||{};return y(y({},e),{},{items:Object.keys(r).map(function(e){var t,n=null!==(t=r[e])&&void 0!==t?t:"control";return"variant"===e?{id:e,title:"Use Control variant",description:"Actual variant: ".concat(n),type:"toggle"}:{id:e,title:"Update ".concat(e),description:"Actual ".concat(e,": ").concat(n),type:"input",defaultValue:n}})})});var t,n,a=e+"."+window.location.href;if(!0!==b.get(a)){var o=Object.values((null==S||null===(t=S.nsInstance)||void 0===t?void 0:t.assignments)||{}).join(" | "),i=null===(n=null==r?void 0:r())||void 0===n||n;b.set(a,!0),v("GTM","TRACK",{event_name:"ExperimentLoads",namespace:e,variant:o,url:window.location.pathname}),i&&m(S.eventName,S.log.plogger,{timestamp:S.log.plogger.timestamp})}}},[e,S]),(0,a.useMemo)(function(){return null!=S&&S.nsInstance?y(y(y({},S.nsInstance.assignments),P),{},{variant:(null==P?void 0:P.variant)||S.nsInstance.assignments.variant||"control"}):null},[P,null==S?void 0:S.nsInstance])}},79391:function(e,t,r){r.d(t,{Z:function(){return v}});var n=r(72664),a=r(89594),o=r(67945),i=r.n(o),c=r(32735),l=r(58289),u=r(58928),s=r(76052),d=r(42931),p=r(90603),f=r(71418),h=r(95060),g=r(14618);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function b(){return(b=(0,a.Z)(i().mark(function e(t,r,n){var a,o,c,l,u,d;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.namespace,o=t.fallbackVariant,l=void 0===(c=t.additionalInput)?{}:c,e.prev=1,e.next=4,(0,s.ZP)({domain:"experiment",path:"/v2/fe/variant/evaluate",method:"post",payload:{clientInterface:r,data:{namespace:a,input:y(y({},n),l)},fields:[]}});case 4:if(!(u=e.sent).success){e.next=8;break}return d=u.result.data.variant||o,e.abrupt("return",d);case 8:return console.warn("Failed to fetch experiment config, returning fallback"),e.abrupt("return",o);case 12:return e.prev=12,e.t0=e.catch(1),e.abrupt("return",o);case 15:case"end":return e.stop()}},e,null,[[1,12]])}))).apply(this,arguments)}function v(e){var t=(0,c.useState)(!1),r=t[0],n=t[1],a=(0,c.useState)(null),o=a[0],i=a[1],s=(0,g.Wn)(),m=(0,u.qr)(),y=(0,l.Z)(),v=(0,f.bU)(),S=v.country,O=v.language,D=(0,h.U8)().code,P={language:O,country:S.toUpperCase(),currency:D};if(y&&!r){var x=d.Z.get((0,p.rQ)(e.namespace));x?o!==x&&i(x):(n(!0),(function(e,t,r){return b.apply(this,arguments)})(e,m,P).then(function(t){n(!1),i(t),d.Z.set((0,p.rQ)(e.namespace),t,{expires:new Date(new Date().getTime()+6e4)}),s("GTM","TRACK",{event_name:"ExperimentLoads",namespace:e.namespace,variant:t,url:window.location.pathname})}))}return{isLoading:!o||r,variant:o}}},78622:function(e,t,r){r.d(t,{X:function(){return n}});function n(e){switch(e){case 100:default:return"NOT_VERIFIED";case 400:return"PARTIALLY_VERIFIED";case 500:return"SECURELY_VERIFIED";case 300:return"WEAKLY_VERIFIED"}}},97984:function(e,t,r){r.d(t,{Z:function(){return a}});var n=r(22016);function a(){var e,t,r;return t=(e=(0,n.H)().query).utm_id,(null==(r=e.utm_source)?void 0:r.toLowerCase())==="mini_app"&&!!t}},72153:function(e,t,r){r.d(t,{U_:function(){return o}});var n=r(22016),a=/\/flight\/airline\/.*\/to\/.*/,o=function(e){var t=(0,n.H)().path,r="";return(a.test(t)?r="AirlineDestination":t.includes("/flight/airline")?r="Airline":t.includes("/flight/route")?r="Route":t.includes("/flight/to")&&(r="Destination"),r&&e)?"SEO-".concat(r,"-").concat(e):""}},65422:function(e,t,r){r.d(t,{L6:function(){return n},cZ:function(){return i},sl:function(){return a},u_:function(){return o},zI:function(){return c}});var n="flight_price_average",a="flight_fe_prefetch_experiment",o="flight_search_api_revamp_experiment_web",i="flight_frontend_exp",c="flight_frontend_exp"},18029:function(e,t,r){r.d(t,{K:function(){return n}});var n=function(e){var t;return(null!==(t=null==e?void 0:e.message)&&void 0!==t?t:"").includes("offline")}},28440:function(e,t,r){r.d(t,{Z:function(){return a}});var n=r(32735);function a(e){var t=(0,n.useRef)(null);return function(r){t.current&&clearTimeout(t.current),t.current=setTimeout(r,e)}}},14169:function(e,t,r){r.d(t,{Tr:function(){return i},ZG:function(){return o},ik:function(){return c},kT:function(){return l},rv:function(){return u}});var n=r(25773),a=r(6907),o=n.Z.spacing.ml,i=n.Z.spacing.l,c=50,l=a.Z.create({button:{flexShrink:0,paddingHorizontal:n.Z.spacing.s}}),u="#1ba0e1"},46414:function(e,t,r){var n=r(72664),a=r(67009),o=r(25773),i=r(31416),c=r(25122),l=r(48306),u=r(44205),s=r(46977),d=r(32735),p=r(47556),f=r(87904),h=r(6907),g=r(4567),m=r(54064),y=r(12290),b=r(74512);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var O=(0,g.q)(f.Z),D=o.Z.spacing.xxs+2*o.Z.spacing.xs,P=o.Z.typography.uiBaseline.lineHeight+o.Z.typography.uiTiny.lineHeight+o.Z.spacing.xxs,x=D+P,R=2*o.Z.spacing.xs+o.Z.spacing.l+2*o.Z.spacing.m,Z=1/3,w={mass:1,tension:300,friction:30,clamp:!0},j=(0,d.forwardRef)(function(e,t){var r=e.title,n=e.titleNativeID,u=void 0===n?"".concat(r,"-id"):n,h=e.subtitle,v=e.options,D=e.optionDefaultValue,P=e.onOptionChange,x=e.children,R=e.primaryText,j=e.secondaryText,A=e.onOpen,E=e.onPrimaryPress,I=e.onSecondaryPress,F=e.onDismiss,k=e.urlHash,_=(0,i.Fg)().color,L=(0,d.useState)(!1),N=L[0],M=L[1],H=(0,d.useRef)(null),U=(0,d.useRef)(!1),B=(0,d.useRef)(0),W=(0,d.useCallback)(function(e){var t=e.nativeEvent.layout.height;B.current=t+64},[B]),V=(0,g.q_)(function(){return{trayScale:1,trayContentTranslate:0,config:w}}),G=(0,a.Z)(V,2),J=G[0],K=J.trayScale,Y=J.trayContentTranslate,q=G[1],z=(0,m.c0)(function(e){var t=e.last,r=(0,a.Z)(e.vxvy,2)[1],n=(0,a.Z)(e.movement,2)[1],o=e.velocity;t?n>Math.max(100,B.current*Z)||r>.5?(q({trayScale:0,trayContentTranslate:B.current,immediate:!0,config:S(S({},w),{},{velocity:o}),onRest:function(){return q({trayScale:1,trayContentTranslate:0,immediate:!1,config:w,onRest:void 0})}}),Q()):q({trayScale:1,trayContentTranslate:0,immediate:!1}):q({trayScale:(-n+B.current)/B.current,trayContentTranslate:n,immediate:!0})}),X=(0,d.useCallback)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.syncUrl;(void 0===t||t)&&window.location.assign("#"+k),M(!0),U.current=!0,H.current.open(function(){U.current=!1,(0,p.unstable_batchedUpdates)(function(){"function"==typeof A&&A()})})},[k,A]),Q=(0,d.useCallback)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.syncUrl,r=e.onRest,n=e.ignoreDismissCallback,a=void 0!==n&&n;(void 0===t||t)&&(window.location.hash=""),U.current=!0,H.current.close(function(){U.current=!1,M(!1),(0,p.unstable_batchedUpdates)(function(){"function"!=typeof F||a||F(),"function"==typeof r&&r()})})},[F]);return(0,d.useEffect)(function(){function e(){!0!==U.current&&((0,s.sI)(window.location.hash,k)?X({syncUrl:!1}):null!==H.current&&!0===H.current.isOpen()&&Q({syncUrl:!1}))}return(0,s.sI)(window.location.hash,k)&&X({syncUrl:!1}),window.addEventListener("hashchange",e),function(){window.removeEventListener("hashchange",e)}},[k,X,Q]),(0,d.useImperativeHandle)(t,function(){return{open:X,close:Q}},[X,Q]),(0,b.jsx)(y.Z,{ref:H,overlayProps:S(S({},z()),{},{onClick:Q}),contentStyle:T.trayWrapper,children:N&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(O,S(S({},z()),{},{style:[T.contentHeader,{transform:[{translateY:Y}]}],children:[(0,b.jsx)(f.Z,{style:[T.transparentToggler,{backgroundColor:_.lightSecondary}]}),(0,b.jsxs)(f.Z,{style:[T.contentHeaderWrapper,{backgroundColor:_.lightPrimary,borderBottomColor:_.borderDivide}],children:[(0,b.jsx)(c.Z,{style:o.Z.typography.weightMedium,nativeID:u,children:r}),!!h&&(0,b.jsx)(c.Z,{variant:"ui-tiny",ink:"secondary",children:h})]})]})),(0,b.jsx)(O,S(S({},z()),{},{style:[T.contentBg,{backgroundColor:_.lightPrimary,transform:[{scaleY:K}]}]})),(0,b.jsx)(O,{style:{transform:[{translateY:Y}]},children:(0,b.jsxs)(f.Z,{onLayout:W,style:T.contentWrapper,children:[d.isValidElement(x)?x:null,(0,b.jsx)(O,S(S({},z()),{},{children:v&&v.length>0&&(0,b.jsx)(C,{options:v,defaultValue:D||"",labelID:u,onChange:function(e){void 0!==v&&"function"==typeof P&&P(e)}})}))]})}),(0,b.jsxs)(f.Z,{style:[T.ctaWrapper,{backgroundColor:_.lightPrimary,borderTopColor:_.borderDivide}],children:[!!j&&(0,b.jsx)(l.Z,{text:j,variant:"secondary",testID:"button_tray_secondary",style:{width:"calc(50% - ".concat(o.Z.spacing.m/2,"px)"),marginRight:o.Z.spacing.m},onPress:function(){"function"==typeof I&&I()}}),(0,b.jsx)(l.Z,{text:R,testID:"button_tray_primary",style:{width:j?"calc(50% - ".concat(o.Z.spacing.m/2,"px)"):"100%"},onPress:function(){"function"==typeof E&&E()}})]})]})})});function C(e){var t=e.options,r=e.labelID,n=e.onChange,a=e.defaultValue,o=(0,d.useState)(a),i=o[0],c=o[1];return(0,b.jsx)(u.Z.Group,{labelID:r,value:i,onChange:function(e){e!==i&&(c(e),"function"==typeof n&&n(e))},children:t.map(function(e){return(0,b.jsx)(u.Z.Button,{label:e.label,value:e.value},e.value)})})}t.Z=j;var T=h.Z.create({trayWrapper:{position:"absolute",top:"auto",bottom:0,left:0,right:0,width:"100%",height:"auto"},contentHeader:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",height:x},contentBg:{position:"absolute",zIndex:-1,top:x,left:0,width:"100%",height:"100%",transformOrigin:"bottom center"},transparentToggler:{width:32,height:o.Z.spacing.xxs,marginVertical:o.Z.spacing.xs,borderRadius:8,opacity:.5},contentHeaderWrapper:{width:"100%",height:P,alignItems:"center",justifyContent:"center",borderTopLeftRadius:o.Z.border.radius.normal,borderTopRightRadius:o.Z.border.radius.normal,borderBottomWidth:o.Z.border.width.thick},contentWrapper:{paddingBottom:R},ctaWrapper:{position:"absolute",bottom:0,left:0,right:0,zIndex:10,flexDirection:"row",alignItems:"center",justifyContent:"center",width:"100%",padding:o.Z.spacing.m,borderTopWidth:o.Z.border.width.thick}})},67568:function(e,t,r){r.d(t,{Z:function(){return ea}});var n=r(72664),a=r(67009),o=r(89594),i=r(67945),c=r.n(i),l=r(32735),u=r(95060),s=r(71418),d=r(88739),p=r(96111),f=r(67933),h=r(55152),g=r(70408);function m(e,t,r){var n,o=e.ap.split("."),i=(0,a.Z)(o,2),c=i[0],l=i[1],u=e.dt.split("."),s=(0,a.Z)(u,2),d=s[0],m=s[1],b=e.ps.split(".").map(Number),v=(0,a.Z)(b,3),S=v[0],O=v[1],D=v[2],P=e.sc,x=e.currency,R=e.locale,Z=e.ap.split(".").map(function(e){return e.toUpperCase()}),w=y(d);return{data:{airportOrAreaCodes:Z,couponApplyDisabled:!1,currency:x,dates:[w,y(m)],destinationAirportOrArea:l,flexibleTicket:!1,flightDate:w,isReschedule:!1,locale:R,numSeats:{numAdults:S,numChildren:O,numInfants:D},searchId:r||(0,f.ZP)(),searchSpecRouteIndex:t,searchSpecRoutesTotal:1,seatPublishedClass:P,seqNo:null,sourceAirportOrArea:c,useDateFlow:!1,usePromoFinder:!1,utmId:(0,p.H2)(),utmSource:(0,p.x_)(),metasearchClickId:null===(n=(0,g.Z)())||void 0===n?void 0:n.cid,visitId:(0,h.Z)()}}}function y(e){var t=e.split("-");if(3!==t.length)throw Error("Invalid date format");var r=t.map(Number),n=(0,a.Z)(r,3);return{day:n[0],month:n[1],year:n[2]}}var b=r(97647),v=r(18442),S=r(7467),O=r(65422),D=r(16001);function P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3,r={},n=!1,a=0;return{start:function(){return(0,o.Z)(c().mark(function o(){return c().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(n){o.next=13;break}if(!(a++>0)){o.next=6;break}return o.next=4,function(e){return new Promise(function(t){return setTimeout(t,e)})}(t);case 4:if(!n){o.next=6;break}return o.abrupt("break",13);case 6:return o.next=8,e(r);case 8:if(!("boolean"!=typeof(n=o.sent))){o.next=11;break}throw Error("Expected return value of async function to be boolean, "+"but instead got: ".concat(typeof n,". ")+"Check the function given to createPoller.");case 11:o.next=0;break;case 13:case"end":return o.stop()}},o)}))()},stop:function(){n=!0,a=0}}}var x=r(3553),R=r(46122),Z=r(20830),w=r(34547),j=r(74046),C=new(r(20347)).Z({dbName:j.x,storeName:j.o,maxAgeMs:1/0}),T=r(30384);function A(){var e=(0,b.Jd)(S.FE),t=(0,v.Z)(O.L6);return(0,l.useMemo)(function(){if("forced"===D.qO)return!0;if(!D.qO||!(null!=e&&e.enabled))return!1;var r=T.P[e.properties.productFeature];return"boolean"==typeof r?r:void 0!==(null==t?void 0:t.variant)&&(null==r?void 0:r[t.variant])},[null==t?void 0:t.variant,e])}var E=r(95934),I=r(5511),F=function(e){return"twoway"===e?"flight.twoway":"flight.oneway"};function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function L(){return(L=(0,o.Z)(c().mark(function e(t){var r;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.regularPoller.current=P(function(e){var t,r=e.props,n=e.isPolling,i=e.numOfDecimalPoint,l=e.payload,u=e.mapData,s=e.flightLookup,p=e.preloadAPIKey,f=e.isAvgPriceEnabled,h=e.currentApplicablePromoDataMap,g=e.topPickTitle;return t=(0,o.Z)(c().mark(function e(t){var o,m,y,b,v,S,O,D,P,x,R,w,j,T,A,I,k,L,M,H,U,B,W,V,G;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.currency,m=r.locale,y=r.contentResource,b=r.setValue,v=r.fetcherFn,S=r.searchSpec,D=void 0===(O=t.nextSeqNo)?null:O,x=void 0===(P=t.nextSearchId)?null:P,e.next=5,v({method:"post",domain:"flight",path:d.fE,payload:{data:_(_({},(null==l?void 0:l.data)||{}),{},{nextSeqNo:D,nextSearchId:x,prefetchFlag:!0})}});case 5:if(w=(R=e.sent.data).airlineDataMap,j=R.airportDataMap,T=R.searchCompleted,A=R.searchId,I=R.searchResults,k=R.seqNo,L=R.showRescheduleFare,M=R.applicablePromoDataMap,H=R.topPickFlightSectionTitle,U=R.otherFlightSectionTitle,B=R.currencyDecimalPlaces,t.nextSeqNo=k,t.nextSearchId=A,t.searchCompleted=T,h.current=_(_({},h.current),M),g.current=_(_({},g.current),{},{topPickFlightSectionTitle:H||"",otherFlightSectionTitle:U||""}),B&&!i.current&&(i.current=Number(B)),e.prev=14,!I){e.next=27;break}return W=(0,E.ZP)({airlineDataMap:w,airportDataMap:j,searchSpec:S,contentResource:y,setValue:b,locale:m,isReschedule:!1,showRescheduleFare:L,currency:o,showRescheduleInfoTab:!1,numOfDecimalPoint:i.current,avgPriceEnabled:f}),u.current=function(e,t,r){var n=(0,a.Z)(r,2),o=n[0],i=n[1];return o?r[0]=_(_({},o),e):r[0]=e,i?r[1]=_(_({},i),t):r[1]=t,r}(w,j,u.current),V=new Map,I.forEach(function(e){var t=W.createFlight(e,!1),r=t.journeyId,n=V.get(r);n&&t.routes.length>n.routes.length||V.set(r,t)}),Array.from(V.values()).forEach(function(e){s.current[e.journeyId]=e}),e.next=24,JSON.stringify({searchId:A,seqNo:k,flightLookup:s.current,mapData:u.current,entryTime:new Date().getTime(),preloadAPIKey:p,searchCompleted:t.searchCompleted,applicablePromoDataMap:h.current,topPickTitle:g.current,numOfDecimalPoint:i.current},function(e,t){return N(e,t)});case 24:return G=e.sent,e.next=27,C.set(F("oneway"),G,1/0);case 27:e.next=32;break;case 29:e.prev=29,e.t0=e.catch(14),Z.Z.error("Prefetch Oneway Error: Fail to prefetch data",e.t0);case 32:return n.current||T||(n.current=!0),e.abrupt("return",T);case 34:case"end":return e.stop()}},e,null,[[14,29]])})),function(e){return t.apply(this,arguments)}}(t)),e.prev=1,r=Promise.all([t.regularPoller.current.start()]),e.next=5,r;case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),Z.Z.error("Prefetch Oneway Error: Fail to polling prefetch data",e.t0);case 10:case"end":return e.stop()}},e,null,[[1,7]])}))).apply(this,arguments)}var N=function(e,t){return["airlineFacilityMap"].includes(e)&&"object"==typeof t?Array.from(t):t},M=r(46727),H=r(5568),U={ROUNDTRIP:{oneway:[d.Qz,d.wZ],package:d.XQ},OPEN_JAW:{oneway:[d.fE,d.fE],package:d.LF}};d.Tl,d.CD,d.LK,d.bK,d.bK,d.Xp;var B=r(47556).unstable_batchedUpdates,W=r(86477);function V(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return G(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G(e,void 0)}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw o}}}}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function J(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function K(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?J(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Y(){return(Y=(0,o.Z)(c().mark(function e(t){var r,n,i,l;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=P(q(0,t)),n=P(q(1,t)),i=P(function(e){var t;return t=(0,o.Z)(c().mark(function t(r){var n,o,i,l,u,s,p,f,h,g,m,y,b,v,S,O,P,x,R,w,j,T,A,E,I,k,_,L,N,U,G,J,Y,q,$,ee,et,er,en,ea,eo,ei,ec,el,eu,es,ed,ep,ef,eh,eg,em,ey,eb,ev,eS,eO,eD;return c().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.numOfDecimalPoint,o=e.isPolling,i=e.searchIdRef,l=e.roundTrip,u=e.locale,s=e.contentResource,p=e.formatICU,f=e.fetcherFn,h=e.searchSpecs,g=e.flightStore,m=e.fareStore,y=e.flightStoreV2,b=e.mapDataStore,v=e.preloadAPIKeyRoundTrip,S=e.preloadAPIKeyDepart,O=e.preloadAPIKeyReturn,P=e.fetcherContextData,x=e.isAvgPriceEnabled,R=e.currentApplicablePromoDataMap,w=e.topPickTitle,T=void 0===(j=r.nextSeqNo)?null:j,E=void 0===(A=r.pollingCount)?1:A,I=d.XQ,t.next=5,f({method:"post",domain:"flight",path:I,payload:{data:K(K({},(null==l?void 0:l.data)||{}),{},{seqNo:T,newResult:1===E,prefetchFlag:!0})}});case 5:return _=(k=t.sent.data).airlineDataMap,L=k.airportDataMap,N=k.airlineRoundTripSearchResults,U=k.searchCompleted,G=k.searchId,J=k.seqNo,q=void 0!==(Y=k.searchRanking)&&Y,$=k.currencyDecimalPlaces,ee=k.applicablePromoDataMap,et=k.topPickFlightSectionTitle,er=k.otherFlightSectionTitle,r.nextSeqNo=J,r.nextSearchId=G,r.pollingCount=E+1,i.current=G,$&&!n.current&&(n.current=Number($)),R.current=K(K({},R.current),ee),w.current=K(K({},w.current),{},{topPickFlightSectionTitle:et||"",otherFlightSectionTitle:er||""}),t.prev=15,en=(0,M.ZP)({airlineDataMap:_,airportDataMap:L,contentResource:s,locale:u,formatICU:p,showRescheduleFare:!1,numOfDecimalPoint:n.current,searchSpecs:h,avgPriceEnabled:x}),ea=(0,H.Z)({airlineDataMap:_,searchSpec:h[0],contentResource:s,searchRankingEnabled:q,locale:u,searchSource:"ROUNDTRIP",isReschedule:!1,numOfDecimalPoint:n.current,avgPriceEnabled:x}),b.current=z(_,L,b),P.current=K(K({},P.current),{},{roundTrip:{nextSeqNo:null==r?void 0:r.nextSeqNo,nextSearchId:null==r?void 0:r.nextSearchId,pollingCount:E+1,searchCompleted:U}}),ei=(eo=function(e,t){var r,n,a=[];if("OPEN_JAW"===t){var o=e.gdsOpenJawSearchResults;a=[o.pairingRouteList[0],o.pairingRouteList[1]],r=o.fareTableMap,n=o.topPickInformationMap||{}}else{var i=e.gdsRoundTripSearchResults;a=[i.departingRouteList,i.returningRouteList],r=i.fareTableMap,n=i.topPickInformationMap||{}}return{pkgFlights:a,fareTableMap:r,topPickInformationMap:n}}(k,"ROUNDTRIP")).pkgFlights,ec=eo.fareTableMap,el=eo.topPickInformationMap,eu=[],es=[],ed={},ef=(ep=(0,a.Z)(ei,2))[0],eh=ep[1],ef.length>0&&eh.length>0&&(eg=function(e){return en.createFlight(e)},eu=ef.map(eg),es=eh.map(eg),ed=ea.createPackageFare(ef,eh,ec,el)),em=N.departingRouteList,ey=N.returningRouteList,eb=em.map(function(e){return en.createFlight(e)}),ev=ey.map(function(e){return en.createFlight(e)}),eS=ea.createOneWayFare(em,0,W.Ay.AIRLINE_PACKAGE),eO=ea.createOneWayFare(ey,0,W.Ay.AIRLINE_PACKAGE),B(function(){X(eb,eS,0,W.Ay.AIRLINE_PACKAGE,g,m,y),X(ev,eO,1,W.Ay.AIRLINE_PACKAGE,g,m,y),function(e,t,r,n,a){var o="adult";e.forEach(function(e,t){var n,o={},i=r.current[t],c=V(e);try{for(c.s();!(n=c.n()).done;){var l=n.value,u=l.journeyId,s=o[u];if(!s||!(l.routes.length>s.routes.length)){var d=a.current[u];if(d?d.package=l:a.current[u]={oneway:null,package:l,airlinePackage:null},u in i){i[u].routes=l.routes,i[u].legs=l.legs;continue}o[u]=l}}}catch(e){c.e(e)}finally{c.f()}r.current[t]=i?K(K({},i),o):o}),Object.keys(t).forEach(function(e){if(n.current.package[e]?n.current.package[e]=K(K({},n.current.package[e]),t[e]):n.current.package[e]=t[e],D.BH){var r=n.current.package[e],a=[],i=[],c=[];Object.values(r).forEach(function(e){a.push(Number(e.agentFare[o].amount)),i.push(Number(e.airlineFare[o].amount)),c.push(e.loyaltyPoints[0])}),n.current.cheapestPackageFare[e]=Math.min.apply(Math,a),n.current.cheapestPackageAirlineFare[e]=Math.min.apply(Math,i),n.current.cheapestPackageLoyaltyPoints[e]=Math.min.apply(Math,c)}})}([eu,es],ed,g,m,y)}),t.next=34,JSON.stringify(K({flightStore:g.current,mapDataStore:b.current,flightStoreV2:y.current,fareStore:m.current,entryTime:new Date().getTime(),preloadAPIKeyRoundTrip:v,preloadAPIKeyDepart:S,preloadAPIKeyReturn:O,applicablePromoDataMap:R.current,topPickTitle:w.current},P.current),function(e,t){return Q(e,t)});case 34:return eD=t.sent,t.next=37,C.set(F("twoway"),eD,1/0);case 37:t.next=42;break;case 39:t.prev=39,t.t0=t.catch(15),Z.Z.error("Prefetch Twoway Error: Fail to fetch roundTrip prefetch data",t.t0);case 42:return o.current||U||(o.current=!0),t.abrupt("return",!0===U);case 44:case"end":return t.stop()}},t,null,[[15,39]])})),function(e){return t.apply(this,arguments)}}(t)),t.regularPoller.current=[r,n,i],l=t.regularPoller.current.map(function(e){return e.start().then(function(){return null}).catch(function(e){Z.Z.error("Prefetch Twoway Error: Fail to polling prefetch data",e)})}),e.next=7,Promise.all(l);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function q(e,t){var r;return r=(0,o.Z)(c().mark(function r(n){var a,o,i,l,u,s,d,p,f,h,g,m,y,b,v,S,O,D,P,x,R,w,j,T,A,E,I,k,_,L,N,B,V,G,J,Y,q,$,ee,et,er;return c().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a=t.numOfDecimalPoint,o=t.isPolling,i=t.searchIdRef,l=t.depart,u=t.returnPayload,s=t.locale,d=t.contentResource,p=t.formatICU,f=t.fetcherFn,h=t.searchSpecs,g=t.flightStore,m=t.fareStore,y=t.flightStoreV2,b=t.mapDataStore,v=t.preloadAPIKeyDepart,S=t.preloadAPIKeyReturn,O=t.preloadAPIKeyRoundTrip,D=t.fetcherContextData,P=t.isAvgPriceEnabled,x=t.topPickTitle,R=t.currentApplicablePromoDataMap,j=void 0===(w=n.nextSeqNo)?null:w,T=U.ROUNDTRIP.oneway[e],r.next=5,f({method:"post",domain:"flight",path:T,payload:{data:1===e?K(K({},(null==u?void 0:u.data)||{}),{},{seqNo:j,prefetchFlag:!0}):K(K({},(null==l?void 0:l.data)||{}),{},{seqNo:j,prefetchFlag:!0})}});case 5:if(E=(A=r.sent.data).airlineDataMap,I=A.airportDataMap,k=A.searchCompleted,_=A.searchId,L=A.searchResults,N=A.seqNo,V=void 0!==(B=A.searchRanking)&&B,G=A.showRescheduleFare,J=A.currencyDecimalPlaces,Y=A.applicablePromoDataMap,q=A.topPickFlightSectionTitle,$=A.otherFlightSectionTitle,n.nextSeqNo=N,n.nextSearchId=_,R.current=K(K({},R.current),Y),x.current=K(K({},x.current),{},{topPickFlightSectionTitle:q||"",otherFlightSectionTitle:$||""}),i.current=_,J&&!a.current&&(a.current=Number(J)),b.current=z(E,I,b),1===e?D.current=K(K({},D.current),{},{return2w:{nextSeqNo:null==n?void 0:n.nextSeqNo,nextSearchId:null==n?void 0:n.nextSearchId,searchCompleted:k}}):D.current=K(K({},D.current),{},{depart2w:{nextSeqNo:null==n?void 0:n.nextSeqNo,nextSearchId:null==n?void 0:n.nextSearchId,searchCompleted:k}}),r.prev=16,!(L.length>0)){r.next=28;break}return ee=(0,M.ZP)({airlineDataMap:E,airportDataMap:I,contentResource:d,locale:s,formatICU:p,showRescheduleInfoTab:!1,showRescheduleFare:G,numOfDecimalPoint:t.numOfDecimalPoint.current,searchSpecs:h,avgPriceEnabled:P}),et=(0,H.Z)({airlineDataMap:E,contentResource:d,searchSpec:h[0],searchRankingEnabled:V,locale:s,searchSource:"ROUNDTRIP",isReschedule:!1,showRescheduleFare:G,numOfDecimalPoint:t.numOfDecimalPoint.current,avgPriceEnabled:P}),X(L.map(function(e){return ee.createFlight(e)}),et.createOneWayFare(L,e,W.Ay.ONEWAY),e,W.Ay.ONEWAY,g,m,y),r.next=25,JSON.stringify(K({flightStore:g.current,mapDataStore:b.current,fareStore:m.current,flightStoreV2:y.current,entryTime:new Date().getTime(),preloadAPIKeyRoundTrip:O,preloadAPIKeyDepart:v,preloadAPIKeyReturn:S,applicablePromoDataMap:R.current,topPickTitle:x.current},D.current),function(e,t){return Q(e,t)});case 25:return er=r.sent,r.next=28,C.set(F("twoway"),er,1/0);case 28:r.next=33;break;case 30:r.prev=30,r.t0=r.catch(16),Z.Z.error("Prefetch Twoway Error: Fail to fetch ".concat(1===e?"return2w":"depart2w"," prefetch data"),r.t0);case 33:return o.current||k||(o.current=!0),r.abrupt("return",!0===k);case 35:case"end":return r.stop()}},r,null,[[16,30]])})),function(e){return r.apply(this,arguments)}}function z(e,t,r){var n=(0,a.Z)(r.current,2),o=n[0],i=n[1];return o?r.current[0]=K(K({},o),e):r.current[0]=e,i?r.current[1]=K(K({},i),t):r.current[1]=t,r.current}function X(e,t,r,a,o,i,c){var l,u,s,d,p="adult",f={},h=null!==(l=i.current.cheapestOneWayReturnFlightFare)&&void 0!==l?l:1/0,g=null!==(u=i.current.cheapestOneWayReturnAirlineFare)&&void 0!==u?u:1/0,m=null!==(s=i.current.cheapestOneWayReturnLoyaltyPoints)&&void 0!==s?s:1/0,y=V(e);try{for(y.s();!(d=y.n()).done;){var b=d.value,v=b.journeyId,S=f[v];if(!S||!(b.routes.length>S.routes.length)){f[v]=b;var O=c.current[v];if(O?O[a]=b:c.current[v]=(0,n.Z)({oneway:null,package:null,airlinePackage:null},a,b),D.BH&&1===r&&"oneway"===a){var P=Number(t[v].agentFare[p].amount),x=t[v].loyaltyPoints[0];P<h&&(h=P,g=Number(t[v].airlineFare[p].amount),m=t[v].loyaltyPoints[0]),x<m&&(m=x)}}}}catch(e){y.e(e)}finally{y.f()}if(o.current[r]=o.current[r]?K(K({},o.current[r]),f):f,i.current[a]=K(K({},i.current[a]),t),D.BH&&1===r&&(i.current.cheapestOneWayReturnFlightFare=h,i.current.cheapestOneWayReturnAirlineFare=g,i.current.cheapestOneWayReturnLoyaltyPoints=m),"airlinePackage"===a){var R=i.current.breakdownAirlinePackage.depart,Z=i.current.breakdownAirlinePackage.return;0===r?i.current.breakdownAirlinePackage.depart=K(K({},R),t):i.current.breakdownAirlinePackage.return=K(K({},Z),t)}}var Q=function(e,t){return["airlineFacilityMap"].includes(e)&&"object"==typeof t?Array.from(t):t},$=r(79391),ee={VAR_REVAMP:!0,AB_TEST:{CONTROL:!1,VAR_REVAMP:!0}},et=function(e){var t,r=e.fcKey,n=(0,b.Jd)(r),a=(0,$.Z)({namespace:O.u_,fallbackVariant:"CONTROL"});return{isAbTestLoading:(null==n||null===(t=n.properties)||void 0===t?void 0:t.value)==="AB_TEST"&&a.isLoading,isAPIRevampEnabled:(0,l.useMemo)(function(){if(!(null!=n&&n.enabled)||!(null!=n&&n.properties.value))return!1;var e=ee[n.properties.value];return"boolean"==typeof e?e:!!a.variant&&!!(null==e?void 0:e[a.variant])},[a,n])}};function er(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function en(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?er(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):er(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ea(){var e,t,r,n,i,P,Z,j,C,T,E,F,k,N,M,H,U,B,W,V,G,J,q,z,X,Q,$,ee,er,ea,eo,ei,ec,el,eu,es,ed,ep,ef,eh,eg,em,ey,eb,ev,eS,eO,eD=(0,u.U8)().code,eP=(0,s.bU)().languageTag,ex=(r=(t=(0,b.Jd)(S.yY)).enabled,n=t.properties,i=r&&n.productFeature,Z=(null==(P=(0,v.Z)(O.sl))||null===(e=P.variant)||void 0===e?void 0:e.toUpperCase())||"CONTROL",(0,l.useMemo)(function(){return"ENABLE"===i?{enabled:!0}:"DISABLE"===i?{enabled:!1}:"AB_TEST"===i&&"ENABLE"===Z?{enabled:!0}:{enabled:!1}},[Z,i])),eR=(0,l.useState)({}),eZ=eR[0],ew=eR[1],ej=(0,l.useState)({}),eC=ej[0],eT=ej[1],eA=(0,f.ZP)(),eE=et({fcKey:S.mg}).isAPIRevampEnabled,eI=et({fcKey:S.HF}).isAPIRevampEnabled;return C=eZ.payload,T=eZ.preloadAPIKey,E=l.useRef(!1),F=l.useRef(null),k=l.useRef(void 0),N=(0,x.w)(),M=(0,u.U8)().code,H=(0,s.bU)().languageTag,U=l.useRef(!1),B=l.useMemo(function(){var e;return null==C||null===(e=C.data)||void 0===e?void 0:e.flightDate},[null==C||null===(j=C.data)||void 0===j?void 0:j.flightDate]),W=(0,w.Q)(),V=(0,R.hw)(I.Uu),G=l.useRef({}),J=l.useRef([]),q=A(),z=l.useRef({}),X=l.useRef({topPickFlightSectionTitle:"",otherFlightSectionTitle:""}),l.useEffect(function(){if(!E.current){E.current=!0;return}if(!B){var e;null===(e=F.current)||void 0===e||e.stop();return}return function(e){L.apply(this,arguments)}(_(_({},eZ),{},{preloadAPIKey:T,regularPoller:F,numOfDecimalPoint:k,isPolling:U,props:{setValue:N,currency:M,locale:H.replace("-","_"),fetcherFn:W,searchSpec:{numAdult:C.data.numSeats.numAdults,numChild:C.data.numSeats.numChildren,numInfant:C.data.numSeats.numInfants,seatClass:C.data.seatPublishedClass},contentResource:V},flightLookup:G,mapData:J,isAvgPriceEnabled:!!q,currentApplicablePromoDataMap:z,topPickTitle:X})),function(){var e=null==F?void 0:F.current;e&&(null==e||e.stop())}},[B]),null==F||F.current,$=eC.depart,ee=l.useRef(!1),er=l.useRef([]),ea=l.useRef(void 0),eo=(0,x.w)(),ei=(0,u.U8)().code,ec=(0,s.bU)().languageTag,el=l.useRef(!1),eu=l.useMemo(function(){var e;return null==$||null===(e=$.data)||void 0===e?void 0:e.flightDate},[null==$||null===(Q=$.data)||void 0===Q?void 0:Q.flightDate]),es=(0,w.Q)(),ed=(0,R.hw)(I.Uu),ep=l.useRef(null),ef=l.useRef([{},{}]),eh=l.useRef({oneway:{},package:{},airlinePackage:{},breakdownAirlinePackage:{depart:{},return:{}},cheapestOneWayReturnFlightFare:1/0,cheapestOneWayReturnLoyaltyPoints:1/0,cheapestOneWayReturnAirlineFare:1/0,cheapestPackageFare:{},cheapestPackageLoyaltyPoints:{},cheapestPackageAirlineFare:{}}),eg=l.useRef([]),em=l.useRef({}),ey=l.useRef({return2w:{},depart2w:{},roundTrip:{}}),eb=A(),ev=l.useRef({}),eS=l.useRef({topPickFlightSectionTitle:"",otherFlightSectionTitle:""}),l.useEffect(function(){if(!ee.current){ee.current=!0;return}if(!eu){er.current.forEach(function(e){e&&(null==e||e.stop())});return}return function(e){Y.apply(this,arguments)}(K(K({},eC),{},{regularPoller:er,numOfDecimalPoint:ea,isPolling:el,searchIdRef:ep,formatICU:eo,currency:ei,locale:ec.replace("-","_"),fetcherFn:es,searchSpecs:eC.searchSpecs,contentResource:ed,flightStore:ef,fareStore:eh,flightStoreV2:em,mapDataStore:eg,fetcherContextData:ey,isAvgPriceEnabled:!!eb,currentApplicablePromoDataMap:ev,topPickTitle:eS})),function(){var e=er.current;null==e||e.forEach(function(e){e&&(null==e||e.stop())})}},[eu]),(0,l.useCallback)((eO=(0,o.Z)(c().mark(function e(t,r){var n,o,i,l,u,s,b,v,S,O,P;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(D.pl){e.next=2;break}return e.abrupt("return");case 2:if(n=t.split("?"),i=Object.fromEntries(new URLSearchParams(o=(0,a.Z)(n,2)[1])),l=t.includes("fullsearch"),u=t.includes("fulltwosearch"),s=eP.replace("-","_"),b="?"+o,v=eP.toLowerCase(),S=eE&&l||eI&&u,!("stop"===r&&S)){e.next=14;break}return ew({}),eT({}),e.abrupt("return");case 14:null!=ex&&ex.enabled&&(l?ew({payload:function(e){var t,r=e.ap.split("."),n=(0,a.Z)(r,2),o=n[0],i=n[1],c=e.dt.split("."),l=(0,a.Z)(c,1)[0],u=e.ps.split(".").map(Number),s=(0,a.Z)(u,3),d=s[0],m=s[1],b=s[2],v=e.sc,S=e.currency,O=e.locale;return{data:{couponApplyDisabled:!1,currency:S,destinationAirportOrArea:i,flexibleTicket:!1,flightDate:y(l),isReschedule:!1,journeyIndex:0,locale:O,newResult:!0,numSeats:{numAdults:d,numChildren:m,numInfants:b},searchId:(0,f.ZP)(),searchSpecRouteIndex:0,searchSpecRoutesTotal:1,seatPublishedClass:v,seqNo:null,sourceAirportOrArea:o,visitId:(0,h.Z)(),trackingContext:null,utmId:(0,p.H2)(),utmSource:(0,p.x_)(),metasearchClickId:null===(t=(0,g.Z)())||void 0===t?void 0:t.cid,funnelId:null,funnelSource:null,geo:null}}}(en(en({},i),{},{currency:eD,locale:s})),preloadAPIKey:"flight.".concat(v).concat(d.fE,".").concat(b)}):u&&(O=m(en(en({},i),{},{currency:eD,locale:s}),0,eA),P=function(e){var t=e.ap.split("."),r=(0,a.Z)(t,2),n=r[0],o=r[1],i=e.dt.split("."),c=(0,a.Z)(i,2),l=c[0],u=c[1],s=e.ps.split(".").map(Number),d=(0,a.Z)(s,3),p=d[0],f=d[1],h=d[2],g=e.sc,m=y(l),b=y(u);return[{numAdult:p,numChildren:f,numInfant:h,departureDate:m,returnDate:b,departureAirport:n,destinationAirport:o,seatClass:g},{numAdult:p,numChildren:f,numInfant:h,departureDate:m,returnDate:b,departureAirport:n,destinationAirport:o,seatClass:g}]}(en({},i)),eT({depart:O,returnPayload:m(en(en({},i),{},{currency:eD,locale:s}),1,eA),roundTrip:O,preloadAPIKeyDepart:"flight.".concat(v).concat(d.Qz,".").concat(b),preloadAPIKeyReturn:"flight.".concat(v).concat(d.wZ,".").concat(b),preloadAPIKeyRoundTrip:"flight.".concat(v).concat(d.XQ,".").concat(b),searchSpecs:P})));case 15:case"end":return e.stop()}},e)})),function(e,t){return eO.apply(this,arguments)}),[eP,eD,ex,eA])}},65401:function(e,t,r){r.d(t,{eo:function(){return _},ES:function(){return F},tb:function(){return L},P1:function(){return N},Fi:function(){return V}});var n,a=r(34635),o=r(76089),i=r(45216),c=r(6907),l=r(25773);r(74512),c.Z.create({minimalLabel:{width:"100%",textAlign:"left",fontWeight:"700"},minimalLabelWrapper:{position:"absolute",top:l.Z.spacing.xxs,zIndex:100,fontWeight:"700",color:l.Z.color.uiDarkPrimary}}),r(84438),c.Z.create({row:{flexDirection:"row",alignItems:"center"}}),r(67945),r(75453);var u=r(32735);r(75873),c.Z.create({searchButton:{height:l.Z.spacing.xxl}}),r(96491),c.Z.create({iconWrapper:{marginRight:l.Z.spacing.xs},container:{paddingVertical:l.Z.spacing.s,paddingLeft:l.Z.spacing.m,alignItems:"center",flexDirection:"row"}});var s=r(6160);r(86349),r(33795),r(86834),r(57954),c.Z.create({selectedItemIndicator:{width:l.Z.spacing.xs,height:l.Z.spacing.xs,backgroundColor:l.Z.color.uiBluePrimary,borderRadius:l.Z.border.radius.rounded,marginRight:l.Z.spacing.s},selectedItemIndicatorHovered:{backgroundColor:l.Z.color.uiLightSecondary},unselectedItem:{paddingLeft:l.Z.spacing.ml}}),r(46356),r(80787),r(5084),r(66230),r(25122),u.Fragment,c.Z.create({bannerNew:{borderBottomLeftRadius:l.Z.spacing.ml,justifyContent:"flex-start",alignItems:"center",paddingLeft:l.Z.spacing.s,paddingRight:l.Z.spacing.l,paddingVertical:l.Z.spacing.s,flexDirection:"row",backgroundColor:l.Z.color.brandGoodNight,height:"100%"},wrapperImage:{width:22,height:20,justifyContent:"center",alignItems:"center"},bannerAction:{marginLeft:26,cursor:"pointer"}});var d=r(11887),p=r(10954),f=(0,a.lV)({HotelSearch:{checkOut:""}},{AccomPayAtPropertyInfoDisplay:{payAtPropertyInfoLabel:""}},{HotelSearch:{searchAccom:""}},{MultiSearchContainer:{accomRecentlyViewed:""}},s.BI,{HotelPriceFinder:{disclaimerTooltip:"",geoCheckbox:"",geoLegend:"",geoTooltip:"",hotelCheckbox:"",hotelLegend:""},HotelSearch:{checkIn:""},SearchContainerJs:{datePlaceholder:""}},{HotelSearch:{checkIn:""}},{HotelDetailPage:{nightsLabelWithNumberFormatted:""}},{HotelSearch:{noOfNights:""}},{SimpleSentences:{adult:"",guest:"",done:""},HotelSearch:{guestAndRoomLabel:"",roomLabelWithNumberFormatted:"",childLabelWithNumberFormatted:"",childInfoTitle:"",childInfoDescription:"",childNumber:"",childLabel:"",childAgeLabel:"",childAgeTooltip:"",exceedMaxWithChildTooltip:""},HotelSearchResultPage:{roomLabel:""},HotelDetailPage:{numOfAdultLabel:"",numOfGuestsLabel:""},SearchContainerJs:{numOfRoomsExceedGuestsMessage:""}},{HotelSearch:{guestAndRoomLabel:"",occupancyWithChildTooltip:""}},{AccomDPPromoLabel:{ALLINTERFACE_RACPOPUP_CONTENT_SEARCHACCOM:""}},{AccomDPPromoLabel:{ALLINTERFACE_RACPOPUP_OPTOUT_CONTENT_TITLE:"",ALLINTERFACE_RACPOPUP_OPTOUT_CONTENT_MESSAGE:"",ALLINTERFACE_RACPOPUP_OPTOUT_CONTENT_ACTION:"",ALLINTERFACE_RACPOPUP_OPTOUT_CONTENT_CANCEL:""}},{AccomDPPromoLabel:{ALLINTERFACE_RACBANNER_OPTOUT_DESC:""}},p.$Q.contentResource,p.DO.contentResource,null!==(n=null===i.Lj||void 0===i.Lj?void 0:i.Lj.contentResource)&&void 0!==n?n:{},d.n),h=(0,a.q_)(s.nI),g={FlightFloatingBanner:{BannerImage:{link:"",linkTo:"",altText:""}}},m=r(98571),y=r(47718),b=r(77553),v=r(94474),S=r(9596),O=r(82087),D=r(5511),P=r(50509),x=r(45115),R=r(45671),Z=r(82070),w=r.n(Z);r(56525),w()(function(){return Promise.resolve().then(r.bind(r,45115))},{ssr:!1,loadableGenerated:{webpack:function(){return[45115]}}});var j=r(51861),C=r(1630);c.Z.create({wrapper:{paddingVertical:l.Z.spacing.m,marginBottom:l.Z.spacing.m,backgroundColor:l.Z.color.uiLightPrimary,marginTop:l.Z.spacing.m},redirectAction:{marginHorizontal:l.Z.spacing.m}});var T=r(62132),A=r(32721),E=r(76067);r(83836);var I={imageResource:{SEO_URL_IMAGE:{SEO_OG_IMAGE:{link:""},SEO_TWITTER_IMAGE:{link:""}}}},F={SearchContainer:{discoverAllDealsText:""}},k=(0,a.lV)(m.Z,y.Z,v.Z,S.Z,b.Z,O.Z,P.X.contentResource),_=(0,a.lV)({FlightCheckIn:{searchFormFooter1:"",searchFormFooter2:"",searchFormFooter3:"",searchFormFooter4:"",emptyStateTitle:"",emptyStateContent:"",availableCheckIn:"",onlineCheckIn:"",pleaseLoginOrRegister:"",awaitingCheckIn:"",terminal:"",selectUpcomingFlight:"",login:"",register:"",noAccountYet:"",pleaseLoginEase:"",learnMore:"",whatIsOnlineCheckIn:"",yourUpcomingFlight:"",emptyFieldMessage:"",bookingHeaderStep1:"",bookingHeaderStep2:"",bookingHeaderStep3:"",tooltipNotAvailableCheckIn:"",tooltipSelectFlight:"",checkIn:"",cancelCheckIn:"",cancelCheckInMessage:"",backToMyBooking:"",checkedInSnackbar:""},GeneralBookingSentences:{bookingNumber:""}}),L=(0,a.lV)({AddExtraBaggageSearch:{title:"",inputLabel:"",buttonText:"",loginText:"",noAccount:"",register:"",info:"","features-0":"","features-1":"","features-2":"","features-3":"",inputPlaceholder:"",multiAirlines:"",terminal:"",noFlightsAvailable:"",loginButtonText:""}}),N={MultiSearchContainer:{flightSearch:"",onlineCheckIn:"",addBaggage:"",airportTransportSearch:""}},M={contentResource:{FlightFrontPage:{whyCheapTitle:""},HomepageMobileWeb:{uspTitle:""}},imageSlider:{FlightUSP:{link:"",titleText:""},FlightUSPV2:{link:"",titleText:""}}},H={WhyTraveloka:{whatIsTraveloka:"",header:"",subheader:"",title:""},contentSectionFlight:{readMoreTitle:"",close:""},GeneralLayout:{seeMore:"",seeLess:""}},U={contentResource:{popularTopFlight:{popularRouteFlightTitle:"",popularRouteFlight:"",popularRouteFlightTitle2:"",popularRouteFlight2:""}}},B={contentSectionFlight:{sectionTitle:"",sectionContent:"",sectionTitle2:"",sectionContent2:"",sectionTitle3:"",sectionContent3:"",sectionTitle4:"",sectionContent4:"",readMoreTitle:"",close:""}},W={FlightHomepageMerchandisingRenderer:{}},V=(0,o.Z)({contentResource:{HomepageWeb:{partnerFlight:"",partnerFlightDesc:"",partnerFlightSubtitle:"",partnerPayment:"",partnerPaymentDesc:""}},imageResource:{PaymentLogo:{paylater:{link:"",linkTo:"",titleText:"",altText:"",key:""}}},imageSlider:{FlightPartners:{link:"",linkTo:"",titleText:"",altText:"",key:""},PaymentPartners:{link:"",linkTo:"",titleText:"",altText:"",key:""}}},{contentResource:(0,a.lV)({FlightFrontPage:{pageTitle:"",pageTitleGclid:"",pageDescription:""}},F,N,k,_,L,f,{HomepageWeb:{seeAllPromo:"",bannerDescription:""},FrontPage:{pageTitle:"",pageDescription:""},MultiSearchContainer:{searchMessageBanner:""}},M.contentResource,H,U.contentResource,{HomepageWeb:{bannerDescription:"",bannerLoggedInTagline:""},SearchContainer:{cheapBlurb:""}},B,W,D.Uu),imageResource:(0,a.q_)(g,I.imageResource,h),imageSlider:M.imageSlider}),G=(0,a.lV)({FlightFrontPage:{pageTitle:"",pageDescription:""},AppInstallBanner:{flightInstallBadgeTitle:""},MW_FlightSearch:{paxNumber:"",updateSearchFormNavbar:"",bannerPageTitle:""},FlightSeatClass:{}},{FlightFrontPage:{pageTitle:"",pageDescription:""}},{HomepageMobileWeb:{menuMyBooking:""}},j.b,C.b,{FlightDiscover:{redirectToDiscoverAction:""}},T.B,A.B,{FlightFormOpenSearch:{searchTitle:"",discoverTitle:""}},E.B,x.CRQuery,R.BI,{MW_FlightSearch:{paxNumber:"",updateSearchFormNavbar:""},FlightSeatClass:{}},{SearchContainerJs:{sharedFlightEmptyDialogSubtitle:"",sharedFlightEmptyDialogDismiss:""}},m.Z,W,P.X.contentResource);(0,o.Z)({contentResource:(0,a.lV)(G,H,B),imageResource:(0,a.q_)(g)},M,{contentResource:{HomepageMobileWeb:{partnerAirline:"",partnerPayment:""}},imageResource:{PaymentLogo:{paylater:{link:"",linkTo:"",titleText:"",altText:"",key:""}}},imageSlider:{FlightPartners:{link:"",linkTo:"",titleText:"",altText:"",key:""},PaymentPartners:{link:"",linkTo:"",titleText:"",altText:"",key:""}}},U,I)},20890:function(e,t,r){r.d(t,{Z:function(){return M}});var n=r(72664),a=r(37051),o=r(87904),i=r(46122),c=r(58928),l=r(73771),u=r(21560),s=r(66230),d=r.n(s),p=r(37800),f=r.n(p),h=r(62827),g=r(9076),m=r(10010),y=r(66170),b=r(74512);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var O={container:{display:"flex",flexDirection:"row",alignItems:"center",padding:y.V.BMSize.sm,gap:10,borderRadius:y.V.BMRadius.md}},D=function(e){var t=e.show,r=e.description,n=e.imageUrl,a=e.entranceAnimation,o=e.exitAnimation,i=(0,h.vC)().BMComponents;return(0,b.jsx)(l.M,{children:t&&(0,b.jsxs)(u.E.div,{style:S(S({},O.container),{},{backgroundColor:i.BMStyleSurfaceBgcolorHighlight}),initial:{y:"slide-down"===(void 0===a?"slide-down":a)?-20:20,opacity:0},animate:{y:0,opacity:1},exit:{y:"slide-down"===(void 0===o?"slide-up":o)?20:-20,opacity:0},children:[n&&(0,b.jsx)(g.Z,{src:n,width:80,Placeholder:(0,b.jsx)(b.Fragment,{})}),(0,b.jsx)(m.Z,{variant:"paragraphSmall",numberOfLines:4,children:d()(f()(r))})]})})},P=r(32735),x=r(22016),R=r(97647),Z=r(18442),w=r(65422),j=r(7467),C={isAvgPriceEnabled:!1},T=(0,P.createContext)(C),A=r(30384),E=r(16001),I={single:!0,round:!0,openJaw:!1,multi:!1},F=function(e){var t=e.children,r=e.initialRouteType,n=(0,x.H)().pathname,a=null!=r?r:n.includes("fulltwosearch")?"round":n.includes("multicitysearch")?"multi":"single",o=(0,R.Jd)(j.FE),i=(0,Z.Z)(w.L6),c=(0,P.useMemo)(function(){if("forced"===E.qO)return!0;if(!I[a]||!E.qO||!(null!=o&&o.enabled))return!1;var e=A.P[o.properties.productFeature];return"boolean"==typeof e?e:void 0!==(null==i?void 0:i.variant)&&(null==e?void 0:e[i.variant])},[null==i?void 0:i.variant,o,a]);return(0,b.jsx)(T.Provider,{value:{isAvgPriceEnabled:c},children:t})},k=r(50509),_=["routeType"];function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function N(e){var t,r,n,a=e.passengers,l=e.containerStyle,u=(0,i.hw)(k.X.contentResource),s=(0,c.qr)(),d=(r=((0,P.useContext)(T)||C).isAvgPriceEnabled,n=(0,R.Jd)(j._y),r&&n.enabled?{isEnabled:!0,imageUrl:null==n||null===(t=n.properties)||void 0===t?void 0:t.imageUrl}:{isEnabled:!1}),p="desktop"===s,f=a[1]>0||a[2]>0,h=d.isEnabled&&f;return(0,b.jsx)(o.Z,{style:l,children:(0,b.jsx)(D,{show:h,description:u.PTAGuideBanner.bannerDescription,entranceAnimation:p?"slide-down":"slide-up",exitAnimation:p?"slide-up":"slide-down",imageUrl:d.imageUrl})})}function M(e){var t=e.routeType,r=(0,a.Z)(e,_);return(0,b.jsx)(F,{initialRouteType:t,children:(0,b.jsx)(N,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},r))})}},30384:function(e,t,r){r.d(t,{P:function(){return n}});var n={NONE:!1,PAX_AVERAGE:!0,AB_TEST:{CONTROL:!1,PAX_AVERAGE:!0}}},499:function(e,t,r){r.d(t,{$i:function(){return D},D_:function(){return S},EN:function(){return v},Ff:function(){return b},N4:function(){return m},lk:function(){return g},uH:function(){return f},wk:function(){return h}});var n=r(72664);r(97593);var a=r(3335),o=r(1972),i=r(53119),c=r(1405),l=r(45425),u=r(30538),s=r(1973);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function f(e){return e?{month:e.getMonth()+1,day:e.getDate(),year:e.getFullYear()}:null}function h(e,t,r,n){return"ROUNDTRIP_FIXED_DEPARTDATE"===e?r:new Date(n,t)}function g(e){var t=e.routeType,r=e.monthIndex,n=e.yearIndex,a=e.departureDate,o=e.returnDate,i=new Date(n,r);switch(t){case"ROUNDTRIP_FIXED_DURATION":return(0,c.Z)((0,l.Z)(i),(0,u.Z)(o,a));case"ROUNDTRIP_FIXED_DEPARTDATE":return a.getMonth()===r?a:(0,l.Z)(i);default:return null}}function m(e){var t=e.currency,r=e.localeJetty,n=e.clientInterface,a=e.timeType,o=e.routeType,i=e.roundTripSourceType,c=e.searchSpec,l=e.flightDate,u=e.returnFlightDate,s=e.departFilterSpec,d=e.returnFilterSpec,p=e.isAvgPriceEnabled;return{data:{roundTripSourceType:void 0===i?"ALL":i,routeType:o,timeType:a,routeSearchSpec:{clientInterface:n,currency:t,locale:r,sourceAirportOrArea:c.originAirport,destinationAirportOrArea:c.destinationAirport,numSeats:{numAdults:c.passengers[0],numChildren:c.passengers[1],numInfants:c.passengers[2]},flightDate:l,returnFlightDate:u,seatPublishedClass:c.seatClass},departFilterSpec:s,returnFilterSpec:d,isPaxTypePriceAverage:p}}}var y=function(e,t){var r=t.month,n=t.day,a=t.year,o=e[Number(a)];o||(o={},e[Number(a)]=o);var i=o[Number(r)];i||(i={},o[Number(r)]=i);var c=i[Number(n)];return c||(c={},i[Number(n)]=c),c};function b(e,t,r,n,i){if(n&&Object.keys(t).length>0){var c=Object.values(t)[0],l=(0,a.Z)(new Date(Number(c.dateDepart.year),Number(c.dateDepart.month)-1));O({year:Number(c.dateDepart.year),month:Number(c.dateDepart.month),day:1},(0,s.x5)(l)).forEach(function(t){var r,n,a=y(e,t);a.bottom={text:null===(r=a.bottom)||void 0===r?void 0:r.text,ink:null===(n=a.bottom)||void 0===n?void 0:n.ink,loading:!1}})}Object.keys(t).forEach(function(n){var a=t[n],c=a[r?"dateReturn":"dateDepart"],l=(0,s.Tl)(c),u=Number(c.year),d=Number(c.month),p=Number(c.day),f=e[Number(u)];f||(f={},e[Number(u)]=f);var h=f[Number(d)];h||(h={},f[Number(d)]=h);var g=h[Number(p)];g||(g={},h[Number(p)]=g),g.bottom={text:!i||(0,o.Z)(l,i)?a.displayPrice:"",ink:"HIGHLIGHT_CHEAP"===a.displayType?"positive":"secondary",loading:!1}}),Object.keys(e).forEach(function(t){var r=e[Number(t)];Object.keys(r).forEach(function(e){var t=r[Number(e)];Object.keys(t).forEach(function(e){var r=t[Number(e)];r.bottom=p(p({},r.bottom),{},{loading:!1})})})})}function v(e,t,r){Object.keys(t).forEach(function(n){var a=t[n],o=Number(a[r?"dateReturn":"dateDepart"].year),i=Number(a[r?"dateReturn":"dateDepart"].month),c=Number(a[r?"dateReturn":"dateDepart"].day),l=e[o];l||(l={},e[o]=l);var u=l[i];u||(u={},l[i]=u);var s=u[c];s||(s=a,u[c]=s)})}function S(e,t){var r=t.data.routeSearchSpec.flightDate,n=(0,a.Z)(new Date(Number(r.year),Number(r.month)-1));O({year:Number(r.year),month:Number(r.month),day:Number(r.day)},(0,s.x5)(n)).forEach(function(t){var r=e[Number(t.year)];r||(r={},e[Number(t.year)]=r);var n=r[Number(t.month)];n||(n={},r[Number(t.month)]=n);var a=n[Number(t.day)];a||(a={bottom:{loading:!0}},(0,s.Uw)((0,s.Tl)(t))||(n[Number(t.day)]=a))})}var O=function(e,t){return(0,i.Z)({start:new Date(Number(e.year),Number(e.month)-1,Number(e.day)),end:new Date(Number(t.year),Number(t.month)-1,Number(t.day))}).map(function(e){return(0,s.x5)(e)})};function D(e,t){var r={};for(var n in e)for(var a in r[n]={},e[n])for(var o in r[n][a]={},e[n][a])new Date("".concat(n,"-").concat(a,"-").concat(o))>=t&&(r[n][a][o]=e[n][a][o]);return r}},45115:function(e,t,r){r.r(t),r.d(t,{CRQuery:function(){return ek},default:function(){return eM}});var n=r(72664),a=r(67009),o=r(32735),i=r(47533),c=r(87904),l=r(6907),u=r(20108),s=r(31416),d=r(5716),p=r(81611),f=r(25773),h=r(34599),g=r(34635),m=r(46122),y=r(97647),b=r(61090),v=r(22016),S=r(20830),O=r(7467),D=r(50100),P=r(46506),x=r(98969),R=r(78296),Z=r(82070),w=r.n(Z),j=r(98571),C=r(79164),T=r(91169),A=r(21542),E=r(53001),I=r(48306),F=r(14323),k=r.n(F),_=r(82545),L=r.n(_),N=r(52443),M=r.n(N),H=r(77411),U=r(29654),B=r(93009),W=r(38573),V=r(81402);function G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function J(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?G(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var K=function(){var e,t,r=(0,B.i)(),n=r.airportDefaultValues,i=r.pageSource,c=(0,V.Z)([J(J({},n[0]),{},{displayName:(null===(e=n[0])||void 0===e?void 0:e.code)||""}),J(J({},n[1]),{},{displayName:(null===(t=n[1])||void 0===t?void 0:t.code)||""})],U.ds,W.f,W.B,"seoAirport"===i),l=(0,a.Z)(c,2),u=(0,a.Z)(l[0],2),s=u[0],d=u[1],p=l[1],f=(0,H.Z)({airportCodes:n.map(function(e){return(null==e?void 0:e.code)||""}),onSuccess:function(e){var t=s.code,r=d.code,n=e[t],o=e[r],i=n?"".concat(n," (").concat(t,")"):t,c=o?"".concat(o," (").concat(r,")"):r;p(function(e){var t=(0,a.Z)(e,2),r=t[0],n=t[1];return[J(J({},r),{},{displayName:i}),J(J({},n),{},{displayName:c})]})}}).refetch;return(0,o.useEffect)(function(){f()},[]),{persistedOriginAirport:s,persistedDestinationAirport:d,setPersistedAirport:p}},Y=r(74512),q=l.Z.create({origin:{marginBottom:f.Z.spacing.m,zIndex:10},switcher:{position:"absolute",bottom:0,right:0,zIndex:20,transform:[{translateY:"50%"}]}}),z=function(e){var t,r=e.inSearchResult,n=e.setBtnDisabled,i=e.CR,l=(0,o.useRef)(null),u=(0,o.useRef)(null),s=(0,x.U)().setShowSearchSpec,d=K(),p=d.persistedOriginAirport,g=d.persistedDestinationAirport,m=d.setPersistedAirport;function y(e){var t=(0,a.Z)(e,2);m([t[0],t[1]])}return(0,o.useEffect)(function(){C.Z.current.originAirport=p.code,C.Z.current.destinationAirport=null==g?void 0:g.code},[p.code,null==g?void 0:g.code]),(0,o.useEffect)(function(){p.code&&null!=g&&g.code&&n(!1)},[n,p.code,null==g?void 0:g.code]),(0,Y.jsxs)(c.Z,{children:[(0,Y.jsxs)(c.Z,{style:q.origin,children:[(0,Y.jsx)(A.Z,{value:p.displayName,variant:"minimal",label:i.MW_Flight_Search_Form.originAirportLabel,labelId:"mFSFOrigin",iconLeft:(0,Y.jsx)(E.Z,{src:k(),alt:i.MW_Flight_Search_Form.originAirportLabel,width:16,height:16}),editable:!1,onFocus:function(){l.current.open(),r&&s(!1)}}),(0,Y.jsx)(h.default,{children:(0,Y.jsx)(T.Z,{inSearchResult:r||!1,ref:l,urlHash:"origin",placeholder:i.BlocksMobile.ChooseSourceAirportEmpty,onAirportSelected:function(e){y([e,g]),l.current.close(),r&&s(!0)}})}),(0,Y.jsx)(c.Z,{style:q.switcher,children:(0,Y.jsx)(I.Z.Icon,{testID:"swap-airports",onPress:function(){y([g,p])},icon:function(){return(0,Y.jsx)(E.Z,{src:M(),width:24,height:24,alt:"switch",style:{marginTop:4,marginBottom:4}})},variant:"secondary",style:{borderRadius:f.Z.border.radius.rounded}})})]}),(0,Y.jsxs)(c.Z,{children:[(0,Y.jsx)(A.Z,{value:(null==g?void 0:g.displayName)||"",variant:"minimal",label:i.MW_Flight_Search_Form.destinationAirportLabel,placeholder:(null===(t=i.SearchContainer)||void 0===t?void 0:t.seoAirportDestinationPlaceholder)||i.MW_Flight_Search_Form.destinationAirportLabel,labelId:"mFSFDestination",iconLeft:(0,Y.jsx)(E.Z,{src:L(),alt:i.MW_Flight_Search_Form.destinationAirportLabel,width:16,height:16}),editable:!1,onFocus:function(){u.current.open(),r&&s(!1)}}),(0,Y.jsx)(h.default,{children:(0,Y.jsx)(T.Z,{inSearchResult:r||!1,ref:u,urlHash:"destination",placeholder:i.BlocksMobile.ChooseDestinationAirportEmpty,onAirportSelected:function(e){y([p,e]),u.current.close(),r&&s(!0)},originAirport:p?p.code:void 0})})]})]})},X=w()(function(){return r.e(6037).then(r.bind(r,36037))},{loadableGenerated:{webpack:function(){return[36037]}}}),Q=(0,g.lV)({SearchContainer:{seoAirportDestinationPlaceholder:"",seoAirportOriginPlaceholder:""}},{MW_Flight_Search_Form:{originAirportLabel:"",destinationAirportLabel:""},BlocksMobile:{ChooseSourceAirportEmpty:"",ChooseDestinationAirportEmpty:""}},j.Z),$=function(e){var t=e.ignorePersistedState,r=e.ignorePersistedAirportState,n=e.inSearchResult,a=(0,m.hw)(Q);return t||r?(0,Y.jsx)(X,{inSearchResult:n,CR:a}):(0,Y.jsx)(z,{setBtnDisabled:e.setBtnDisabled,inSearchResult:n,CR:a})},ee=r(32721),et=r(51861),er=r(46546),en=r(69800),ea=r.n(en),eo=r(3553),ei=r(19805),ec=function(e){var t=e.inSearchResult,r=e.CR,n=(0,eo.w)(),i=(0,o.useRef)(null),l=(0,x.U)().setShowSearchSpec,u=(0,V.Z)([1,0,0],U.M9,ei.h,ei.H),s=(0,a.Z)(u,2),d=s[0],p=s[1],f=(0,o.useMemo)(function(){return String(d[0]+d[1]+d[2])},[d]);(0,o.useEffect)(function(){C.Z.current.passengers=[d[0],d[1],d[2]]},[d]);var g=function(e){p(e)};return(0,Y.jsxs)(c.Z,{children:[(0,Y.jsx)(A.Z,{value:n(r.MW_Flight_Search_Form.paxCount,{paxCount:f}),variant:"minimal",label:r.MW_Flight_Search_Form.paxLabel,labelId:"mFSFPassenger",testID:"mFSFPassenger",iconLeft:(0,Y.jsx)(E.Z,{src:ea(),alt:r.MW_Flight_Search_Form.paxLabel,width:16,height:16}),editable:!1,onFocus:function(){i.current.open(),t&&l(!1)}}),(0,Y.jsx)(h.default,{children:(0,Y.jsx)(er.Z,{ref:i,numAdults:d[0],numChildren:d[1],numInfants:d[2],onClose:function(e,r,n){g([e,r,n]),t&&l(!0)},onCancel:function(){t&&l(!0)},onDismiss:function(){t&&l(!0)}})})]})},el=w()(function(){return r.e(3004).then(r.bind(r,23004))},{loadableGenerated:{webpack:function(){return[23004]}}}),eu=(0,g.lV)({MW_Flight_Search_Form:{paxLabel:"",paxCount:""}},er.B),es=function(e){var t=e.ignorePersistedState,r=e.inSearchResult,n=(0,m.hw)(eu);return t?(0,Y.jsx)(el,{inSearchResult:r,CR:n}):(0,Y.jsx)(ec,{inSearchResult:r,CR:n})},ed=r(40373),ep=r.n(ed),ef=r(80524),eh=function(e){return e},eg=function(e){var t=e.inSearchResult,r=e.CR,n=(0,B.i)().staticConfig,i=(0,V.Z)(n.seatClass[0].seatClass,U.gS,eh,eh),l=(0,a.Z)(i,2),u=l[0],s=l[1],d=(0,o.useMemo)(function(){return n.seatClass.find(function(e){return e.seatClass===u})},[n.seatClass,u]),p=(0,x.U)().setShowSearchSpec,f=(0,o.useRef)(null);return(0,o.useEffect)(function(){C.Z.current.seatClass=u},[u]),(0,Y.jsxs)(c.Z,{children:[(0,Y.jsx)(A.Z,{value:d.description,variant:"minimal",label:r.MW_Flight_Search_Form.seatClassLabel,labelId:"mFSFSeatClass",testID:"mFSFSeatClass",iconLeft:(0,Y.jsx)(E.Z,{src:ep(),alt:"Change Me",width:16,height:16}),editable:!1,onFocus:function(){f.current.open(),t&&p(!1)}}),(0,Y.jsx)(h.default,{children:(0,Y.jsx)(ef.Z,{inSearchResult:t,ref:f,initialValue:u,options:n.seatClass,onChange:function(e){s(e)},setShowSearchSpec:p,CR:r})})]})},em=w()(function(){return r.e(3046).then(r.bind(r,73046))},{loadableGenerated:{webpack:function(){return[73046]}}}),ey={MW_Flight_Search_Form:{seatClassLabel:"",seatClassTrayTitle:"",modalDone:"",modalCancel:""}},eb=function(e){var t=e.ignorePersistedState,r=e.inSearchResult,n=(0,m.hw)(ey);return t?(0,Y.jsx)(em,{inSearchResult:r,CR:n}):(0,Y.jsx)(eg,{inSearchResult:r,CR:n})},ev=r(76067),eS=r(42490),eO=r(96111),eD=r(34547),eP=r(14169),ex=r(97984),eR=r(72153),eZ=r(99908),ew=r(45671),ej=r(16001),eC=r(67568),eT=r(50509);function eA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eE(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eA(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eA(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var eI={state:"clean"};function eF(e,t){switch(t.type){case"validationFailed":return{state:"errored",context:{message:t.message}};case"searchStarted":return{state:"loading"};case"dismissError":return{state:"clean"};default:return e}}var ek=(0,g.lV)({MW_Flight_Search_Form:{searchCTA:""},MW_FlightJs:{sameOriginAndDestination:"",chooseOrigin:"",chooseDestination:""},FlightMultiCity:{departureAirportEmptyError:"",destinationAirportEmptyError:""}},Q,eT.X.contentResource,et.b,ee.B,eu,ey),e_=new u.QueryClient({defaultOptions:{queries:{refetchOnWindowFocus:!1,keepPreviousData:!0}}});function eL(e){var t=e.ignorePersistedState,r=void 0!==t&&t,n=e.ignorePersistedAirportState,i=e.inSearchResult,l=void 0!==i&&i,f=e.headerContent,g=e.onSubmitCallback,S=(0,m.hw)(ek),Z=(0,B.i)().pageSource,w=o.useState("seoAirport"===Z),j=(0,a.Z)(w,2),T=j[0],A=j[1],E=(0,Y.jsx)($,{setBtnDisabled:A,ignorePersistedState:r,ignorePersistedAirportState:void 0!==n&&n,inSearchResult:l}),I=(0,Y.jsx)(et.Z,{ignorePersistedState:r,inSearchResult:l,handlePrefetch:function(){var e=C.Z.current;if(null!==e){var t=e.originAirport,r=e.destinationAirport;if(t&&r&&t!==r){var n=e.roundTrip?D.aS:D.K3,a={};"AIRLINE"===Z&&(a.far=M.params.airline.split(".")[1]||"");var o=eE(eE(eE(eE({},M.query),eH(e)),U&&{funnelSource:U}),a);W&&(o["hide-appbanner"]="1");var i=L(n,{query:o});"function"==typeof g&&ej.AE&&g(i)}}}}),F=(0,Y.jsx)(es,{ignorePersistedState:r,inSearchResult:l}),k=(0,Y.jsx)(eb,{ignorePersistedState:r,inSearchResult:l}),_=(0,y.Jd)(O.sg).properties.searchFormEntryPoint,L=(0,b.Z)(),N=(0,s.Fg)().color,M=(0,v.H)(),H=(0,eD.Q)(),U=(0,eR.U_)("SearchForm"),W=(0,ex.Z)();(0,eO.Gx)(H);var V=(0,o.useReducer)(eF,eI),G=V[0],J=V[1],K=(0,x.U)().setShowSearchSpec;return(0,Y.jsx)(u.QueryClientProvider,{client:e_,children:(0,Y.jsxs)(c.Z,{style:[{backgroundColor:l?eP.rv:N.lightNeutral}],children:[f&&(0,Y.jsx)(c.Z,{style:{marginBottom:-56},children:f}),(0,Y.jsxs)(c.Z,{style:eN.wrapper,children:[!l&&!f&&(0,Y.jsx)(c.Z,{style:eN.headerOverflow}),(0,Y.jsxs)(d.Z,{style:eN.card,elevation:"container",children:[(0,Y.jsx)(c.Z,{style:eN.row,children:E}),(0,Y.jsx)(c.Z,{style:eN.row,children:I}),(0,Y.jsxs)(c.Z,{style:[eN.row,eN.twoColumn],children:[(0,Y.jsx)(c.Z,{style:eN.column,children:F}),(0,Y.jsx)(c.Z,{style:eN.column,children:k})]}),!W&&_&&"true"===_&&(0,Y.jsx)(ev.Z,{}),(0,Y.jsx)(p.Z,{loading:"loading"===G.state,testID:"mFSFSearchButton",text:S.MW_Flight_Search_Form.searchCTA,variant:"main-cta",style:eN.cta,disabled:T,onPress:function(){J({type:"searchStarted"});var e=C.Z.current;if(null===e)return J({type:"dismissError"});var t=e.originAirport,r=e.destinationAirport;if(!t)return J({type:"validationFailed",message:S.MW_FlightJs.chooseOrigin});if(!r)return J({type:"validationFailed",message:S.MW_FlightJs.chooseDestination});if(t===r)return J({type:"validationFailed",message:S.MW_FlightJs.sameOriginAndDestination});var n=e.roundTrip?D.aS:D.K3,a={};"AIRLINE"===Z&&(a.far=M.params.airline.split(".")[1]||"");var o=eE(eE(eE(eE({},M.query),eH(e)),U&&{funnelSource:U}),a);W&&(o["hide-appbanner"]="1"),o.searchId&&delete o.searchId,o.feb&&delete o.feb,Object.keys(o).forEach(function(e){(e.includes("inv")||e.includes("selectedFlight"))&&delete o[e]});var i=L(n,{query:o});l&&(0,R.Z)(function(){J({type:"dismissError"}),K(!1)}),"function"!=typeof g||ej.AE||g(i),window.location.assign(i)}}),"errored"===G.state&&(0,Y.jsx)(eS.Z,{inSearchResult:l,message:G.context.message,onHide:function(){return J({type:"dismissError"})}})]}),(0,Y.jsx)("div",{hidden:!0,children:(0,Y.jsx)(P.E_,{landingPageType:"FLIGHT_HOMEPAGE"})}),(0,Y.jsx)(h.default,{children:(0,Y.jsx)(eZ.Z,{utmId:(0,eO.H2)(),utmSource:(0,eO.x_)()})})]})]})})}var eN=l.Z.create({wrapper:{padding:16},headerOverflow:{position:"absolute",top:-50,left:0,width:"100%",height:172,backgroundColor:"#1ba0e1",borderBottomLeftRadius:f.Z.border.radius.normal,borderBottomRightRadius:f.Z.border.radius.normal},card:{padding:16},row:{marginBottom:f.Z.spacing.m},twoColumn:{flexDirection:"row",alignItems:"flex-start",alignContent:"flex-start",justifyContent:"space-between"},column:{width:"calc(50% - ".concat(f.Z.spacing.m/2,"px)")},cta:{marginTop:f.Z.spacing.xs}}),eM=function(e){var t=(0,y.Jd)(O.vQ).enabled,r=(ej.AE?eC.Z:function(){return{}})(),n=ej.AE?r:null==e?void 0:e.onSubmitCallback;return(0,Y.jsx)(i.ErrorBoundary,{fallbackRender:function(){return null},onError:function(e,r){S.Z.error("mobile-flight-search-form-error",{err:e,contexts:{react:r,metadata:{errorKind:"flight_search_form_error_mobile",enableV2SearchForm:t}}})},children:t?(0,Y.jsx)(ew.ZP,eE({},e)):(0,Y.jsx)(eL,eE(eE({},e),{},{onSubmitCallback:n}))})};function eH(e){var t=e.originAirport,r=e.destinationAirport,n=e.departureDate,a=e.returnDate,o=e.roundTrip,i=e.passengers,c=e.seatClass;return{ap:"".concat(t,".").concat(r),dt:"".concat(eU(n),".").concat(o?eU(a):"NA"),ps:i.join("."),sc:c}}function eU(e){var t=e.getFullYear(),r=e.getMonth()+1,n=e.getDate();return"".concat(n,"-").concat(r,"-").concat(t)}},45671:function(e,t,r){r.d(t,{BI:function(){return eZ},ZP:function(){return eC}});var n=r(72664),a=r(67009),o=r(32735),i=r(87904),c=r(6907),l=r(20108),u=r(31416),s=r(25773),d=r(5716),p=r(81611),f=r(34599),h=r(34635),g=r(46122),m=r(97647),y=r(61090),b=r(95060),v=r(71418),S=r(22016),O=r(75600),D=r(7467),P=r(50100),x=r(46506),R=r(98969),Z=r(78296),w=r(82070),j=r.n(w),C=r(98571),T=r(79164),A=r(81402),E=r(91169),I=r(93009),F=r(29654),k=r(21542),_=r(48306),L=r(89306),N=r(77450),M=r(42404),H=r(47499),U=r(58581),B=r(93277),W=r(74512),V=c.Z.create({origin:{marginBottom:s.Z.spacing.xs,zIndex:10},switcher:{position:"absolute",bottom:-1*s.Z.spacing.xs,right:s.Z.spacing.s,zIndex:20,transform:[{translateY:"50%"}]}}),G=function(e){var t,r=e.inSearchResult,n=e.setBtnDisabled,c=e.CR,l=(0,o.useRef)(null),u=(0,o.useRef)(null),d=(0,I.i)(),p=d.airportDefaultValues,h=d.pageSource,g=(0,R.U)().setShowSearchSpec,m=(0,U.ZP)(),y=m.trackSelectSearchForm,b=m.trackClickBackForm,v=(0,A.Z)(p,F.ds,L.f,L.B,"seoAirport"===h),S=(0,a.Z)(v,2),O=(0,a.Z)(S[0],2),D=O[0],P=O[1],x=S[1];function Z(e){var t=(0,a.Z)(e,2);x([t[0],t[1]])}return(0,o.useEffect)(function(){T.Z.current.originAirport=D.code,T.Z.current.destinationAirport=null==P?void 0:P.code},[D.code,null==P?void 0:P.code]),(0,o.useEffect)(function(){D.code&&null!=P&&P.code&&n(!1)},[n,D.code,null==P?void 0:P.code]),(0,W.jsxs)(i.Z,{children:[(0,W.jsxs)(i.Z,{style:V.origin,children:[(0,W.jsx)(k.Z,{value:D.displayName,variant:"formal",label:"",iconLeft:(0,W.jsx)(N.Z,{width:16,height:16,color:s.Z.color.uiDarkSecondary,accentColor:s.Z.color.uiDarkNeutral}),editable:!1,onFocus:function(){l.current.open(),r&&g(!1)}}),(0,W.jsx)(f.default,{children:(0,W.jsx)(E.Z,{onClose:function(){b({fieldName:B.Sd.SOURCE_AIRPORT,fieldValue:D.code})},inSearchResult:r||!1,ref:l,urlHash:"origin",placeholder:c.BlocksMobile.ChooseSourceAirportEmpty,onAirportSelected:function(e){Z([e,P]),l.current.close(),r&&g(!0),y({fieldName:B.Sd.SOURCE_AIRPORT,fieldValue:e.code})}})}),(0,W.jsx)(i.Z,{style:V.switcher,children:(0,W.jsx)(_.Z.Icon,{testID:"swap-airports",onPress:function(){Z([P,D])},icon:function(){return(0,W.jsx)(H.Z,{width:18,height:18})},variant:"secondary",style:{borderRadius:s.Z.border.radius.rounded,width:40,height:40,transform:[{rotate:"-90deg"}],boxShadow:"0 2px 4px 1px rgb(0 0 0 / 14%)"}})})]}),(0,W.jsxs)(i.Z,{children:[(0,W.jsx)(k.Z,{value:(null==P?void 0:P.displayName)||"",variant:"formal",placeholder:null===(t=c.SearchContainer)||void 0===t?void 0:t.seoAirportDestinationPlaceholder,label:"",iconLeft:(0,W.jsx)(M.Z,{width:16,height:16,color:s.Z.color.uiDarkSecondary,accentColor:s.Z.color.uiDarkNeutral}),editable:!1,onFocus:function(){u.current.open(),r&&g(!1)}}),(0,W.jsx)(f.default,{children:(0,W.jsx)(E.Z,{onClose:function(){b({fieldName:B.Sd.DESTINATION_AIRPORT,fieldValue:null==P?void 0:P.code})},inSearchResult:r||!1,ref:u,urlHash:"destination",placeholder:c.BlocksMobile.ChooseDestinationAirportEmpty,onAirportSelected:function(e){Z([D,e]),u.current.close(),r&&g(!0),y({fieldName:B.Sd.DESTINATION_AIRPORT,fieldValue:e.code})},originAirport:D?D.code:void 0})})]})]})},J=j()(function(){return r.e(4822).then(r.bind(r,84822))},{loadableGenerated:{webpack:function(){return[84822]}}}),K=(0,h.lV)({SearchContainer:{seoAirportDestinationPlaceholder:"",seoAirportOriginPlaceholder:""}},{MW_Flight_Search_Form:{originAirportLabel:"",destinationAirportLabel:""},BlocksMobile:{ChooseSourceAirportEmpty:"",ChooseDestinationAirportEmpty:""}},C.Z),Y=function(e){var t=e.ignorePersistedState,r=e.ignorePersistedAirportState,n=e.inSearchResult,a=(0,g.hw)(K);return t||r?(0,W.jsx)(J,{setBtnDisabled:e.setBtnDisabled,inSearchResult:n,CR:a}):(0,W.jsx)(G,{setBtnDisabled:e.setBtnDisabled,inSearchResult:n,CR:a})},q=r(1630),z=r(32721),X=r(77420),Q=r(28033),$=r(3553),ee=r(24956),et=function(e){var t=e.inSearchResult,r=e.CR,n=(0,$.w)(),c=(0,o.useRef)(null),l=(0,U.ZP)().trackSelectSearchForm,u=(0,R.U)().setShowSearchSpec,d=(0,A.Z)([1,0,0],F.M9,ee.h,ee.H),p=(0,a.Z)(d,2),h=p[0],g=p[1],m=(0,o.useMemo)(function(){return String(h[0]+h[1]+h[2])},[h]);(0,o.useEffect)(function(){T.Z.current.passengers=[h[0],h[1],h[2]]},[h]);var y=function(e){g(e),l({fieldName:B.Sd.NUM_PASSENGER,fieldValue:e.join(",")})};return(0,W.jsxs)(i.Z,{children:[(0,W.jsx)(k.Z,{value:n(r.MW_Flight_Search_Form.paxCount,{paxCount:m}),variant:"formal",label:r.MW_Flight_Search_Form.paxLabel,customLabelStyle:{color:s.Z.color.uiDarkSecondary},labelId:"mFSFPassenger",testID:"mFSFPassenger",iconLeft:(0,W.jsx)(Q.Z,{width:16,height:16,color:s.Z.color.uiDarkNeutral,accentColor:s.Z.color.uiDarkSecondary}),editable:!1,onFocus:function(){c.current.open(),t&&u(!1)}}),(0,W.jsx)(f.default,{children:(0,W.jsx)(X.Z,{ref:c,numAdults:h[0],numChildren:h[1],numInfants:h[2],onClose:function(e,r,n){y([e,r,n]),t&&u(!0)},onCancel:function(){t&&u(!0)},onDismiss:function(){t&&u(!0)}})})]})},er=j()(function(){return r.e(7942).then(r.bind(r,67942))},{loadableGenerated:{webpack:function(){return[67942]}}}),en=(0,h.lV)({MW_Flight_Search_Form:{paxLabel:"",paxCount:""}},X.B),ea=function(e){var t=e.ignorePersistedState,r=e.inSearchResult,n=(0,g.hw)(en);return t?(0,W.jsx)(er,{inSearchResult:r,CR:n}):(0,W.jsx)(et,{inSearchResult:r,CR:n})},eo=r(26048),ei=r(12706),ec=function(e){return e},el=function(e){var t=e.inSearchResult,r=e.CR,n=(0,I.i)().staticConfig,c=(0,A.Z)(n.seatClass[0].seatClass,F.gS,ec,ec),l=(0,a.Z)(c,2),u=l[0],d=l[1],p=(0,o.useMemo)(function(){return n.seatClass.find(function(e){return e.seatClass===u})},[n.seatClass,u]),h=(0,U.ZP)().trackSelectSearchForm,g=(0,R.U)().setShowSearchSpec,m=(0,o.useRef)(null);return(0,o.useEffect)(function(){T.Z.current.seatClass=u},[u]),(0,W.jsxs)(i.Z,{children:[(0,W.jsx)(k.Z,{value:p.description,variant:"formal",label:r.MW_Flight_Search_Form.seatClassLabel,customLabelStyle:{color:s.Z.color.uiDarkSecondary},labelId:"mFSFSeatClass",testID:"mFSFSeatClass",iconLeft:(0,W.jsx)(eo.Z,{width:16,height:16,color:s.Z.color.uiDarkSecondary,accentColor:s.Z.color.uiDarkNeutral}),editable:!1,onFocus:function(){var e;null==m||null===(e=m.current)||void 0===e||e.open(),t&&g(!1)}}),(0,W.jsx)(f.default,{children:(0,W.jsx)(ei.Z,{inSearchResult:t,ref:m,initialValue:u,options:n.seatClass,onChange:function(e){d(e),h({fieldName:B.Sd.SEAT_PUBLISHED_CLASS,fieldValue:e})},setShowSearchSpec:g,CR:r})})]})},eu=j()(function(){return r.e(4314).then(r.bind(r,34314))},{loadableGenerated:{webpack:function(){return[34314]}}}),es={MW_Flight_Search_Form:{seatClassLabel:"",seatClassTrayTitle:"",modalDone:"",modalCancel:""}},ed=function(e){var t=e.ignorePersistedState,r=e.inSearchResult,n=(0,g.hw)(es);return t?(0,W.jsx)(eu,{inSearchResult:r,CR:n}):(0,W.jsx)(el,{inSearchResult:r,CR:n})},ep=r(76067),ef=r(42490),eh=r(96111),eg=r(67933),em=r(55152),ey=r(34547),eb=r(14169),ev=r(97984),eS=r(72153),eO=r(99908);function eD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eP(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eD(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eD(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var ex={state:"clean"};function eR(e,t){switch(t.type){case"validationFailed":return{state:"errored",context:{message:t.message}};case"searchStarted":return{state:"loading"};case"dismissError":return{state:"clean"};default:return e}}var eZ=(0,h.lV)({MW_Flight_Search_Form:{searchCTA:""},MW_FlightJs:{sameOriginAndDestination:""},FlightMultiCity:{departureAirportEmptyError:"",destinationAirportEmptyError:""}},K,q.b,z.B,en,es),ew=new l.QueryClient({defaultOptions:{queries:{refetchOnWindowFocus:!1,keepPreviousData:!0}}}),ej=c.Z.create({wrapper:{paddingVertical:s.Z.spacing.m},headerOverflow:{position:"absolute",top:-50,left:0,width:"100%",height:172,backgroundColor:"#1ba0e1",borderBottomLeftRadius:s.Z.border.radius.normal,borderBottomRightRadius:s.Z.border.radius.normal},card:{padding:16,borderTopLeftRadius:4*s.Z.border.radius.normal,borderTopRightRadius:4*s.Z.border.radius.normal},row:{marginBottom:s.Z.spacing.m},twoColumn:{flexDirection:"row",alignItems:"flex-start",alignContent:"flex-start",justifyContent:"space-between"},column:{width:"calc(50% - ".concat(s.Z.spacing.m/2,"px)")},cta:{marginTop:s.Z.spacing.xs}}),eC=function(e){var t=e.ignorePersistedState,r=void 0!==t&&t,n=e.ignorePersistedAirportState,c=e.inSearchResult,h=void 0!==c&&c,w=e.withHeader,j=e.headerContent,C=e.isFlightHomePage,A=(0,I.i)().pageSource,E=o.useState("seoAirport"===A),F=(0,a.Z)(E,2),k=F[0],_=F[1],L=(0,g.hw)(eZ),N=(0,W.jsx)(Y,{setBtnDisabled:_,ignorePersistedState:r,ignorePersistedAirportState:void 0!==n&&n,inSearchResult:h}),M=(0,W.jsx)(q.Z,{ignorePersistedState:r,inSearchResult:h,isFlightHomePage:void 0!==C&&C}),H=(0,W.jsx)(ea,{ignorePersistedState:r,inSearchResult:h}),U=(0,W.jsx)(ed,{ignorePersistedState:r,inSearchResult:h}),B=(0,m.Jd)(D.sg).properties.searchFormEntryPoint,V=(0,y.Z)(),G=(0,b.U8)(),J=(0,v.bU)().languageTag,K=(0,u.Fg)().color,z=(0,S.H)(),X=(0,ey.Q)(),Q=(0,eS.U_)("SearchForm"),$=(0,ev.Z)();(0,eh.Gx)(X);var ee=(0,o.useReducer)(eR,ex),et=ee[0],er=ee[1],en=(0,R.U)().setShowSearchSpec,eo=o.useCallback(function(e,t){(0,O.Z)({},eP(eP({},t),{},{cacheOptions:{key:e,preload:!0}}))},[]);return(0,W.jsx)(l.QueryClientProvider,{client:ew,children:(0,W.jsxs)(i.Z,{style:[ej.wrapper,{backgroundColor:h?eb.rv:K.lightNeutral,paddingHorizontal:h?s.Z.spacing.m:0},j?{paddingTop:0}:{}],testID:e.testID,children:[(void 0===w||w)&&!h&&(j?(0,W.jsx)(i.Z,{style:{marginBottom:-42},children:j}):(0,W.jsx)(i.Z,{style:ej.headerOverflow})),(0,W.jsxs)(d.Z,{style:ej.card,elevation:"container",children:[(0,W.jsx)(i.Z,{style:ej.row,children:N}),(0,W.jsx)(i.Z,{style:ej.row,children:M}),(0,W.jsxs)(i.Z,{style:[ej.row,ej.twoColumn],children:[(0,W.jsx)(i.Z,{style:ej.column,children:H}),(0,W.jsx)(i.Z,{style:ej.column,children:U})]}),!$&&B&&"true"===B&&(0,W.jsx)(ep.Z,{}),(0,W.jsx)(p.Z,eP(eP({loading:"loading"===et.state,testID:"mFSFSearchButton",text:L.MW_Flight_Search_Form.searchCTA,variant:"main-cta",style:ej.cta},"seoAirport"===A&&{disabled:k}),{},{onPress:function(){er({type:"searchStarted"});var e,t,r,n,a,o,i,c,l=T.Z.current;if(null===l)return er({type:"dismissError"});var u=l.originAirport,s=l.destinationAirport;if(!u)return er({type:"validationFailed",message:L.FlightMultiCity.departureAirportEmptyError});if(!s)return er({type:"validationFailed",message:L.FlightMultiCity.destinationAirportEmptyError});if(u===s)return er({type:"validationFailed",message:L.MW_FlightJs.sameOriginAndDestination});var d=l.roundTrip?P.aS:P.K3,p={};"AIRLINE"===A&&(p.far=z.params.airline.split(".")[1]||"");var f=eP(eP(eP(eP({},z.query),(e=l.originAirport,t=l.destinationAirport,r=l.departureDate,n=l.returnDate,a=l.roundTrip,o=l.passengers,i=l.seatClass,c=l.directOnly,eP({ap:"".concat(e,".").concat(t),dt:"".concat(eT(r),".").concat(a?eT(n):"NA"),ps:o.join("."),sc:i},c?{fnt:"0"}:void 0))),Q&&{funnelSource:Q}),p);$&&(f["hide-appbanner"]="1");var g=V(d,{query:f});d.includes("two")||eo("?"+g.split("?")[1],{domain:"flight",path:"/v2/flight/search/oneway",method:"post",payload:{data:{currency:G.code,destinationAirportOrArea:l.destinationAirport,flexibleTicket:!1,flightDate:{year:l.departureDate.getFullYear(),month:l.departureDate.getMonth()+1,day:l.departureDate.getDate()},isReschedule:!1,locale:J.replace("-","_"),newResult:!0,numSeats:{numAdults:l.passengers[0],numChildren:l.passengers[1],numInfants:l.passengers[2]},searchId:(0,eg.ZP)(),seatPublishedClass:l.seatClass,seqNo:null,sourceAirportOrArea:l.originAirport,utmId:(0,eh.H2)(),utmSource:(0,eh.x_)(),visitId:(0,em.Z)()}}}),h&&(0,Z.Z)(function(){er({type:"dismissError"}),en(!1)}),window.location.assign(g)}})),"errored"===et.state&&(0,W.jsx)(ef.Z,{inSearchResult:h,message:et.context.message,onHide:function(){return er({type:"dismissError"})}})]}),(0,W.jsx)("div",{hidden:!0,children:(0,W.jsx)(x.E_,{landingPageType:"FLIGHT_HOMEPAGE"})}),(0,W.jsx)(f.default,{children:(0,W.jsx)(eO.Z,{utmId:(0,eh.H2)(),utmSource:(0,eh.x_)()})})]})})};function eT(e){var t=e.getFullYear(),r=e.getMonth()+1,n=e.getDate();return"".concat(n,"-").concat(r,"-").concat(t)}},70570:function(e,t,r){r.d(t,{C:function(){return b},p:function(){return y}});var n=r(32735),a=r(97889),o=r(95060),i=r(71418),c=r(58928),l=r(97647),u=r(78296),s=r(34547),d=r(499),p=r(7467),f=r(82665),h=r(74512),g=(0,n.createContext)(null),m={};function y(e){var t=e.children,r=e.searchSpec,y=e.monthIndex,b=e.yearIndex,v=e.timeType,S=e.routeType,O=e.calendarSelected,D=void 0!==O&&O,P=(0,s.Q)(),x=(0,o.U8)().code,R=(0,i.bU)(),Z=R.language,w=R.country,j=(0,c.yG)({buildTime:!0}),C=(0,l.Jd)(p.LG).enabled,T="".concat(Z,"_").concat(w.toUpperCase()),A=(0,n.useState)({}),E=A[0],I=A[1],F=(0,n.useState)({}),k=F[0],_=F[1],L=(0,n.useState)(!1),N=L[0],M=L[1],H=(0,n.useCallback)(function(e){_((0,a.ZP)(function(t){(0,d.EN)(t,e.data.summaries,"ROUNDTRIP_FIXED_DEPARTDATE"===S)})),I((0,a.ZP)(function(t){(0,d.Ff)(t,e.data.summaries,"ROUNDTRIP_FIXED_DEPARTDATE"===S)}))},[S]),U=(0,f.S)({fetcher:P,isActive:C,calendarSelected:D,payload:(0,d.N4)({currency:x,localeJetty:T,clientInterface:j,routeType:S,timeType:v,roundTripSourceType:"ALL",searchSpec:r,flightDate:(0,d.uH)((0,d.wk)(S,y,r.departureDate,b)),returnFlightDate:(0,d.uH)((0,d.lk)({routeType:S,monthIndex:y,yearIndex:b,departureDate:r.departureDate,returnDate:r.returnDate}))}),onSuccess:function(e){H(e),M(!0)},onFetching:function(e){I((0,a.ZP)(function(t){(0,d.D_)(t,e)}))}}),B=U.data,W=U.status,V=U.isFetching;return(0,n.useEffect)(function(){var e=!V&&!N&&D;if(e&&0===Object.keys(E).length)"success"===W&&void 0!==B&&H(B);else if(e&&Object.keys(E).length>0){if(void 0!==E[b]){var t=String(Number(y+1));Object.keys(E[b]).includes(t)||"success"!==W||void 0===B||H(B)}else"success"===W&&void 0!==B&&H(B)}},[V,W,B,y,b,D]),(0,h.jsx)(g.Provider,{value:{isFetching:V,dateConfig:C?E:m,rawDateConfig:C?k:m,resetDateConfig:function(){(0,u.Z)(function(){I({}),M(!1)})}},children:t})}function b(e){var t=(0,n.useContext)(g);return e?{isFetching:!1,dateConfig:{},rawDateConfig:{},resetDateConfig:function(){}}:t||{isFetching:!1,dateConfig:m,rawDateConfig:m,resetDateConfig:function(){}}}},93009:function(e,t,r){r.d(t,{S:function(){return h},i:function(){return g}});var n=r(72664),a=r(67009),o=r(37051),i=r(32735),c=r(81451),l=r(88610),u=r(74512),s=["children","airportDefaultValues"];function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var f=(0,i.createContext)(null);function h(e){var t=e.children,r=e.airportDefaultValues,n=(0,o.Z)(e,s),d=i.useState(r),h=(0,a.Z)(d,2),g=h[0],m=h[1],y=i.useState(function(){return new c.S}),b=(0,a.Z)(y,1)[0];return(0,u.jsx)(l.aH,{client:b,children:(0,u.jsx)(f.Provider,{value:p(p({},n),{},{airportDefaultValues:g,overrideDefaultAirportValues:m}),children:t})})}function g(){return(0,i.useContext)(f)}},99908:function(e,t,r){r.d(t,{Z:function(){return s}});var n=r(82038),a=r(50380),o=r(32735);r(67945);var i={OfflineFair:!0,affiliate:!0},c=function(){sessionStorage.removeItem(a.YF)},l=r(74512),u=function(e){var t=e.utmSource,r=e.utmId,i=(0,n.he)().coords;return(0,o.useEffect)(function(){i&&sessionStorage.setItem(a.YF,JSON.stringify({utmId:r,utmSource:t}))},[i]),null},s=function(e){var t=e.utmSource,r=e.utmId;return((0,o.useEffect)(function(){i[t]||c()},[]),i[t])?(0,l.jsx)(u,{utmId:r,utmSource:t}):null}},42490:function(e,t,r){r.d(t,{Z:function(){return c}});var n=r(47556),a=r(99708),o=r(58289),i=r(74512);function c(e){var t=e.inSearchResult,r=e.message,c=e.onHide;return(0,o.Z)()?(0,n.createPortal)((0,i.jsx)(a.Z,{text:r,style:{position:"fixed",zIndex:t?1e4:360},onHide:c,durationMs:5e3,variant:"alert",position:"bottom",isVisible:!0}),document.body):null}},91169:function(e,t,r){r.d(t,{Z:function(){return V}});var n=r(72664),a=r(89594),o=r(67945),i=r.n(o),c=r(32735),l=r(71938),u=r(87904),s=r(6907),d=r(34547),p=r(46122),f=r(98969),h=r(15150),g=r(86380),m=r(9409),y=r(48179),b=r(98571),v=r(25122),S=r(25773),O=r(55188),D=r(48306),P=r(53001),x=r(5060),R=r(36454),Z=r.n(R),w=r(14169),j=r(74512);function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var A=function(e){return(0,j.jsx)(x.Z,T(T({accessibilityLabel:"Clear search input"},e),{},{children:(0,j.jsx)(P.Z,{src:Z(),height:w.ZG,width:w.ZG})}))},E=r(16024);function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function k(e){var t=e.cancelButonText,r=e.placeholderText,n=e.searchInputValue,a=e.style,o=e.onCancelButtonPress,i=e.onClearSearchInputButtonPress,c=e.onSearchInputChange,l=e.inputRef,s=e.testID,d=(0,E.d)();return(0,j.jsxs)(u.Z,{style:[_.navBar,{backgroundColor:"#1ba0e1"},a],children:[(0,j.jsx)(u.Z,{style:_.input,children:(0,j.jsx)(O.Z,{ref:l,variant:"formal",iconRight:(0,j.jsx)(A,{onPress:function(){c(""),"function"==typeof i&&i()}}),placeholder:r,value:n,onChangeText:c,containerStyle:_.inputContainer,textInputStyle:_.textInput,testID:void 0===s?"input_flight_search":s})}),(0,j.jsx)(D.Z,{variant:"text-white",text:t,style:w.kT.button,onPress:function(){"function"==typeof o&&("function"==typeof d?d(o):o())}})]})}var _=s.Z.create({input:{flexGrow:1,flexShrink:1},navBar:{alignItems:"center",flexDirection:"row",paddingLeft:S.Z.spacing.s,height:w.ik},inputContainer:{padding:S.Z.spacing.xxs},textInput:{paddingHorizontal:S.Z.spacing.xxs,fontSize:14}}),L=(0,c.forwardRef)(function(e,t){return(0,j.jsx)(k,F(F({},e),{},{inputRef:t}))}),N=r(69114),M=r(66022);function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var B=(0,c.forwardRef)(function(e,t){var r=e.placeholder,n=e.urlHash,o=e.inSearchResult,s=e.inForgotBooking,S=e.wrapperStyle,O=e.onAirportSelected,D=e.originAirport,P=e.filters,x=(0,p.hw)(b.Z),R=(0,c.useState)(""),Z=R[0],w=R[1],C=(0,c.useState)(Z),T=C[0],A=C[1],E=(0,f.U)().setShowSearchSpec,I=(0,d.Q)(),F=(0,g.Z)(I),k=(0,m.Z)(T,F,I,D,P),_=(0,c.useMemo)(function(){return(0,y.Z)(k,x)},[k,x]),H=(0,c.useRef)(null),B=(0,c.useRef)(null),V=(0,c.useCallback)(function(){return B.current.focus()},[]),G=(0,c.useCallback)(function(){w(function(e){return""!==e?"":e}),A(function(e){return""!==e?"":e})},[]),J=(0,c.useCallback)((0,a.Z)(i().mark(function r(){var n;return i().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.current.close();case 2:o&&E(!0),null==e||null===(n=e.onClose)||void 0===n||n.call(e);case 4:case"end":return r.stop()}},r)})),[o,E,null==e?void 0:e.onClose]),K=(0,c.useRef)(),Y=(0,c.useCallback)(function(){return K.current.getScrollableNode().scrollTop<=0},[]);return(0,j.jsx)(h.Z,{wrapperStyle:S,inSearchResult:o,inForgotBooking:s,ref:t,urlHash:n,onClose:G,onOpen:V,shouldCaptureGesture:Y,navbar:(0,j.jsx)(L,{ref:B,cancelButonText:x.SimpleSentences.cancel,placeholderText:r,searchInputValue:Z,onCancelButtonPress:J,onClearSearchInputButtonPress:G,onSearchInputChange:function(e){w(e),clearTimeout(H.current),H.current=setTimeout(function(){A(e)},300)},testID:"search_bar_".concat(n)}),children:(0,j.jsx)(M.Z.Provider,{value:Z,children:(0,j.jsx)(l.Z,{windowSize:21,testID:"autocompleteSectionList-".concat(n),ref:K,renderItem:function(e){var t=e.item;return(0,j.jsx)(N.Z,U(U({},t),{},{tag:t.tag,onPress:function(){return O({code:t.code,displayName:t.displayName})}}))},keyExtractor:function(e,t){return"".concat(e.variant,"-").concat(e.title,"-").concat(t)},renderSectionHeader:function(e){var t=e.section.title;return Z?null:(0,j.jsx)(N.Z,{variant:"TITLE",title:t})},ListHeaderComponent:k.header?(0,j.jsx)(N.Z,{variant:"HEADER_LINK",title:k.header.text,link:k.header.link}):null,ListEmptyComponent:T?(0,j.jsxs)(u.Z,{style:W.noResultsFoundWrapper,children:[(0,j.jsx)(v.Z,{variant:"ui-baseline",children:"".concat(x.FlightAutocomplete.noResultsFoundTitle,' "').concat(T,'"')}),(0,j.jsx)(v.Z,{variant:"ui-small",ink:"secondary",children:x.FlightAutocomplete.noResultsFoundMsg})]}):null,sections:_,stickySectionHeadersEnabled:!0})})})}),W=s.Z.create({noResultsFoundWrapper:{flex:1,alignItems:"center",alignContent:"center",justifyContent:"center",padding:S.Z.spacing.m}});B.displayName="FlightAirportAutocomplete";var V=B},38573:function(e,t,r){r.d(t,{B:function(){return a},f:function(){return n}});var n=function(e){return JSON.stringify(e)},a=function(e){return JSON.parse(e)}},89306:function(e,t,r){r.d(t,{B:function(){return a},f:function(){return n}});var n=function(e){return JSON.stringify(e)},a=function(e){return JSON.parse(e)}},62132:function(e,t,r){r.d(t,{B:function(){return A},Z:function(){return I}});var n=r(32735),a=r(87904),o=r(46122),i=r(25773),c=r(18806),l=r(31416),u=r(25122),s=r(5060),d=r(6907),p=r(72664),f=r(37051),h=r(53001),g=r(30742),m=r.n(g),y=r(14169),b=r(74512),v=["style"];function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach(function(t){(0,p.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var D=(0,n.forwardRef)(function(e,t){var r=e.style,n=(0,f.Z)(e,v);return(0,b.jsx)(s.Z,O(O({ref:t,accessibilityLabel:"Close Button"},n),{},{style:r,children:(0,b.jsx)(a.Z,{style:{padding:16,margin:-16},children:(0,b.jsx)(h.Z,{src:m(),height:y.Tr,width:y.Tr})})}))}),P=r(16024),x=(0,n.forwardRef)(function(e,t){var r=e.subtitle,n=e.title,o=e.additionalActionLabel,i=e.style,c=e.onCloseButtonPress,d=e.onAdditionalActionLabelPress,p=(0,P.d)(),f={text:{color:(0,l.Fg)().color.uiLightPrimary}};return(0,b.jsxs)(a.Z,{style:[R.navBar,i],children:[(0,b.jsx)(D,{testID:"".concat(e.testID,"-close"),ref:t,onPress:function(){"function"==typeof c&&("function"==typeof p?p(c):c())},style:R.icon,dataSet:{element:"modalCloseBtn"}}),(0,b.jsxs)(a.Z,{style:R.middleContent,children:[(0,b.jsx)(u.Z,{variant:"title-2",style:f.text,ellipsizeMode:"tail",numberOfLines:1,children:n}),r&&(0,b.jsx)(u.Z,{variant:"ui-tiny",style:f.text,ellipsizeMode:"tail",numberOfLines:1,children:r})]}),o&&(0,b.jsx)(s.Z,{onPress:function(){"function"==typeof d&&d()},style:{paddingVertical:10,marginVertical:-10},testID:"".concat(e.testID,"-cta"),children:(0,b.jsx)(u.Z,{variant:"ui-tiny",style:f.text,ellipsizeMode:"tail",numberOfLines:1,children:o})})]})});x.displayName="NavBar";var R=d.Z.create({navBar:{alignItems:"center",flexDirection:"row",height:y.ik,paddingRight:i.Z.spacing.m,backgroundColor:y.rv},middleContent:{alignItems:"center",flex:1,justifyContent:"center",position:"relative",maxWidth:"80%",marginHorizontal:"auto"},icon:{left:i.Z.spacing.s,zIndex:1}}),Z=r(19360),w=r(1973),j=r(15150),C=r(98969),T=r(70570),A={RENTAL_SEARCH:{TXT_searchForm_selectDate:""},FlightDateFlow:{firstDayOfTheWeek:""}},E=(0,n.forwardRef)(function(e,t){var r=e.inSearchResult,l=e.urlHash,u=e.selectedDate,s=e.header,d=e.testID,p=e.onChange,f=e.onClose,h=e.onVisibleDateChange,g=e.withoutPromo,m=(0,o.hw)(A),y=(0,C.U)().setShowSearchSpec,v=(0,T.C)(g),S=v.dateConfig,O=v.resetDateConfig,D=(0,n.useRef)(null),P=(0,n.useMemo)(function(){return(0,b.jsx)(x,{ref:D,testID:"".concat(d,"-navbar"),title:m.RENTAL_SEARCH.TXT_searchForm_selectDate,onCloseButtonPress:function(){t.current.close(),r&&y(!0)}})},[m.RENTAL_SEARCH.TXT_searchForm_selectDate]),R=(0,n.useCallback)(function(){null!==D.current&&D.current.focus()},[]);return(0,b.jsxs)(j.Z,{inSearchResult:r,ref:t,urlHash:l,navbar:P,onOpen:R,onClose:function(){null==f||f(),O()},hideContentWhenClosed:!0,children:[s,(0,b.jsx)(a.Z,{style:{height:i.Z.spacing.xs}}),(0,b.jsx)(c.ko,{value:S,children:(0,b.jsx)(Z.Zi,{firstDayOfTheWeek:(0,w.qb)(m.FlightDateFlow.firstDayOfTheWeek),autoScrollToSelectedDate:"none",selectedDate:u,onChange:p,onVisibleDateChange:h})})]})});E.displayName="DatePickerModal";var I=E},32721:function(e,t,r){r.d(t,{B:function(){return n}});var n={RENTAL_SEARCH:{TXT_searchForm_selectDate:""},SearchContainerJs:{allAirport:"",departureLabel:"",returnLabel:""},FlightDatePickerRevamp:{selectDate:"",selectReturnDate:"",cheapestDepartPrice:"",cheapestRoundtripPrice:"",applyDateCTAOneWay:"",applyDateCTARoundtrip:"",applyDateCTATitlePlaceholder:"",applyDateCTASubtitlePlaceholder:"",applyDateCTASubtitlePrice:"",roundtripLegendTitle:""}}},51861:function(e,t,r){r.d(t,{b:function(){return _},Z:function(){return L}});var n=r(82070),a=r.n(n),o=r(46122),i=r(67009),c=r(32735),l=r(87904),u=r(6907),s=r(78296),d=r(31416),p=r(18806),f=r(25122),h=r(38292),g=r(25773),m=r(77735),y=r.n(m),b=r(38080),v=r.n(b),S=r(1405),O=r(75294),D=r(29654),P=r(28440),x=r(81402),R=r(79164),Z=r(32631),w=r(70194),j=r(70570),C=r(9809),T=r(74512),A=(0,w.mC)(),E=(0,w.mq)(),I=u.Z.create({departureDate:{zIndex:10},switcher:{position:"absolute",top:"50%",right:0,zIndex:20,transform:[{translateY:"-50%"}],alignItems:"flex-end"},switcherLabel:{marginBottom:g.Z.spacing.xxs},returnDate:{overflow:"hidden"}}),F=function(e){var t=e.inSearchResult,r=e.CR,n=(0,d.Fg)().color,a=(0,P.Z)(200),o=(0,x.Z)(A,D.VN,w.yl,w.cN),u=(0,i.Z)(o,2),m=u[0],b=u[1],F=(0,x.Z)(E,D.ap,w.yl,w.cN),k=(0,i.Z)(F,2),_=k[0],L=k[1],N=new Date,M=new Date(m),H=new Date(_);M<N&&b(N),H<N&&L((0,S.Z)(N,2));var U=M.getMonth(),B=M.getFullYear(),W=(0,c.useState)(U),V=W[0],G=W[1],J=(0,c.useState)(B),K=J[0],Y=J[1],q=(0,c.useState)(""),z=q[0],X=q[1],Q=(0,x.Z)(!1,D.mX,String,w.oA,!1),$=(0,i.Z)(Q,2),ee=$[0],et=$[1],er=(0,C.Z)().initialTripType;(0,c.useEffect)(function(){er&&et("ROUND_TRIP"===er)},[er,et]);var en=(0,c.useCallback)(function(e){b(e),e>_&&L((0,S.Z)(e,2))},[_]),ea=(0,c.useCallback)(function(e){b(e),e>_&&L((0,S.Z)(e,2))},[_]),eo=(0,c.useCallback)(function(e){if(L(e),e<m){var t=(0,S.Z)(e,-2);(0,O.Z)(t)?b(new Date):b(t)}},[m]),ei=(0,c.useCallback)(function(e){if(L(e),e<m){var t=(0,S.Z)(e,-2);(0,O.Z)(t)?b(new Date):b(t)}},[m]),ec=(0,c.useCallback)(function(e){Y(e[0].year),a(function(){return G(e[0].realMonth-1)})},[a]);return(0,c.useEffect)(function(){R.Z.current.departureDate=m,R.Z.current.returnDate=_,R.Z.current.roundTrip=ee},[m,_,ee]),(0,T.jsx)(j.p,{searchSpec:R.Z.current,monthIndex:V,yearIndex:K,timeType:"MONTHLY",routeType:(0,w.HJ)(ee,z),calendarSelected:""!==z,children:(0,T.jsxs)(l.Z,{children:[(0,T.jsxs)(l.Z,{style:[I.departureDate,{backgroundColor:n.lightPrimary}],children:[(0,c.useMemo)(function(){return(0,T.jsx)(p.Pq,{value:ee?_:void 0,children:(0,T.jsx)(Z.Z,{inSearchResult:t,value:m,deferredValue:m,onFocus:function(){return X("departure")},onClose:function(){(0,s.Z)(function(){X(""),G(U),Y(B)})},onBeforeChange:en,onAfterChange:ea,onVisibleDateChange:ec,label:r.MW_Flight_Search_Form.departureDateLabel,labelId:"mFSFDepartDate",testID:"mFSFDepartDate",iconSrc:y(),urlHash:"departure-date"})})},[t,U,B,m,_,ee,en,ea,ec,r]),(0,T.jsxs)(l.Z,{style:I.switcher,children:[(0,T.jsx)(f.Z,{variant:"ui-tiny",ink:"secondary",style:I.switcherLabel,children:r.MW_Flight_Search_Form.roundTripLabel}),(0,T.jsx)(h.Z,{testID:"mFSFRoundTripToggle",value:ee,onChange:function(){return et(!ee)}})]})]}),(0,T.jsx)(l.Z,{testID:"mFSFContainerReturnDate",style:[I.returnDate,{height:ee?68:0,marginTop:ee?g.Z.spacing.m:0}],children:(0,c.useMemo)(function(){return(0,T.jsx)(p.Pq,{value:m,children:(0,T.jsx)(Z.Z,{inSearchResult:t,value:_,deferredValue:_,onFocus:function(){return X("return")},onClose:function(){(0,s.Z)(function(){X(""),G(U),Y(B)})},onBeforeChange:eo,onAfterChange:ei,onVisibleDateChange:ec,label:r.MW_Flight_Search_Form.returnDateLabel,labelId:"mFSFReturnDate",testID:"mFSFReturnDate",iconSrc:v(),urlHash:"return-date",containerStyle:{transform:[{translateY:ee?0:-g.Z.spacing.m}],transitionProperty:"transform",transitionDuration:"250ms",transitionTimingFunction:"ease-out"}})})},[t,U,B,m,_,ee,eo,ei,ec,r])})]})})},k=a()(function(){return r.e(4939).then(r.bind(r,35350))},{loadableGenerated:{webpack:function(){return[35350]}}}),_={MW_Flight_Search_Form:{departureDateLabel:"",returnDateLabel:"",roundTripLabel:"",returnSelectBtn:""},RENTAL_SEARCH:{TXT_searchForm_selectDate:""}},L=function(e){var t=e.ignorePersistedState,r=e.inSearchResult,n=e.handlePrefetch,a=(0,o.hw)(_);return t?(0,T.jsx)(k,{inSearchResult:r,handlePrefetch:n,CR:a}):(0,T.jsx)(F,{inSearchResult:r,CR:a})}},32631:function(e,t,r){var n=r(32735),a=r(34599),o=r(46122),i=r(71418),c=r(21542),l=r(53001),u=r(78296),s=r(98969),d=r(62132),p=r(74512);t.Z=function(e){var t=e.inSearchResult,r=e.value,f=e.deferredValue,h=e.label,g=e.labelId,m=e.testID,y=e.iconSrc,b=e.urlHash,v=e.containerStyle,S=e.onFocus,O=e.onClose,D=e.onBeforeChange,P=e.onAfterChange,x=e.onVisibleDateChange,R=e.formatDateTime;(0,o.hw)(d.B);var Z=(0,s.U)().setShowSearchSpec,w=(0,n.useRef)(),j=(0,i.bU)().languageTag,C=(0,n.useMemo)(function(){var e=j;return e.endsWith("-TH")&&(e="".concat(e,"-u-ca-iso8601")),new Intl.DateTimeFormat(e,{day:"numeric",month:"long",year:"numeric"})},[j]),T=(0,n.useCallback)(function(e){"function"==typeof D&&D(e),w.current.close({onRest:function(){"function"==typeof P&&(0,u.Z)(function(){P(e)})}}),t&&Z(!0)},[D,P]);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(c.Z,{value:r?void 0!==R?R(r,{day:"numeric",month:"long",year:"numeric"}):C.format(r):"",variant:"minimal",label:h,labelId:g,testID:m,iconLeft:(0,p.jsx)(l.Z,{src:y,alt:h,width:16,height:16}),editable:!1,onFocus:function(){w.current.open(),null==S||S(),t&&Z(!1)},containerStyle:v}),(0,p.jsx)(a.default,{children:(0,p.jsx)(d.Z,{inSearchResult:t,ref:w,urlHash:b,selectedDate:f,testID:m,onChange:T,onClose:O,onVisibleDateChange:x})})]})}},70194:function(e,t,r){r.d(t,{HJ:function(){return d},cN:function(){return s},mC:function(){return i},mq:function(){return c},oA:function(){return l},yl:function(){return u}});var n=r(50146),a=r(1405),o=r(55019);function i(){var e=new Date;return 12>e.getHours()?e:(0,n.Z)()}function c(){return(0,a.Z)(i(),o.zn)}var l=function(e){return"true"===e},u=function(e){return e.toISOString()},s=function(e){try{var t=JSON.parse(e);return new Date(t)}catch(t){return new Date(e)}};function d(e,t){return e?"return"===t?"ROUNDTRIP_FIXED_DEPARTDATE":"ROUNDTRIP_FIXED_DURATION":"ONEWAY"}},1630:function(e,t,r){r.d(t,{b:function(){return eY},Z:function(){return eQ}});var n=r(72664),a=r(32735),o=r(87904),i=r(6907),c=r(31416),l=r(25773),u=r(38080),s=r.n(u),d=r(46122),p=r(71418),f=r(20830),h=r(21542),g=r(14035),m=r(32721),y=r(74512),b=function(e){var t=e.value,r=e.label,n=e.labelId,o=e.testID,i=e.containerStyle,c=e.onFocus,u=e.formatDateTime;(0,d.hw)(m.B);var s=(0,p.bU)().languageTag,b=(0,a.useMemo)(function(){var e=s;return e.endsWith("-TH")&&(e="".concat(e,"-u-ca-iso8601")),new Intl.DateTimeFormat(e,{day:"numeric",month:"short",year:"numeric"})},[s]);return(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(h.Z,{value:function(e){if(e){if(void 0!==u)return u(e,{day:"numeric",month:"short",year:"numeric"});try{return b.format(e)}catch(t){return f.Z.error("Flight Mobile Search Form, Error Date Formatter",{err:t}),e.toString()}}return""}(t),variant:"formal",label:r,labelId:n,customLabelStyle:{color:l.Z.color.uiDarkSecondary},testID:o,iconLeft:(0,y.jsx)(g.Z,{width:16,height:16,color:l.Z.color.uiDarkSecondary,accentColor:l.Z.color.uiDarkNeutral}),editable:!1,onFocus:function(){null==c||c()},containerStyle:i})})},v=r(5060),S=r(27871),O=r(24388),D=function(e){var t=e.value,r=e.label,n=e.labelId,o=e.testID,i=e.containerStyle,c=e.persistedShowReturn,u=e.CR,s=e.onFocus,g=e.formatDateTime,b=e.onToggleRoundtrip;(0,d.hw)(m.B);var D=(0,p.bU)().languageTag,P=(0,a.useMemo)(function(){var e=D;return e.endsWith("-TH")&&(e="".concat(e,"-u-ca-iso8601")),new Intl.DateTimeFormat(e,{day:"numeric",month:"short",year:"numeric"})},[D]),x=function(){null==s||s()};return(0,y.jsx)(y.Fragment,{children:c?(0,y.jsx)(h.Z,{value:function(e){if(e){if(void 0!==g)return g(e,{day:"numeric",month:"short",year:"numeric"});try{return P.format(e)}catch(t){return f.Z.error("Flight Mobile Search Form, Error Date Formatter",{err:t}),e.toString()}}return""}(t),variant:"formal",label:r,labelId:n,testID:o,customLabelStyle:{color:l.Z.color.uiDarkSecondary},iconLeft:(0,y.jsx)(O.Z,{width:16,height:16,color:l.Z.color.uiDarkSecondary,accentColor:l.Z.color.uiDarkNeutral}),iconRight:(0,y.jsx)(v.Z,{onPress:b,style:{width:18,height:18,backgroundColor:l.Z.color.uiDarkSecondary,borderRadius:l.Z.border.radius.rounded,display:"flex",justifyContent:"center",alignItems:"center"},children:(0,y.jsx)(S.Z,{width:12,height:12,color:l.Z.color.uiLightPrimary})}),editable:!1,onFocus:x,containerStyle:i}):(0,y.jsx)(h.Z,{label:u.MW_Flight_Search_Form.returnDateLabel,labelId:"mFSFReturnDate",customLabelStyle:{color:l.Z.color.uiDarkSecondary},testID:"mFSFReturnDate",placeholder:u.MW_Flight_Search_Form.returnSelectBtn,value:"",pointerEvents:"box-none",onFocus:function(){b(),x()},iconLeft:(0,y.jsx)(O.Z,{width:16,height:16,color:l.Z.color.uiDarkSecondary,accentColor:l.Z.color.uiDarkNeutral})})})},P=r(67009),x=r(89638),R=r(34599),Z=r(78296),w=r(27727),j=r(29654),C=r(18806),T=r(97889),A=r(95060),E=r(58928),I=r(97647),F=r(89793),k=r.n(F),_=(0,a.createContext)({journeyIdx:0,transformedFilter:{},getFilterEachJourney:function(){return{}}}),L=function(){},N=function(e,t){var r=(0,a.useContext)(_),n=(0,a.useRef)(null==r?void 0:r.transformedFilter),o=(0,a.useMemo)(function(){var e;return null!==(e=null==t?void 0:t.journeyIdx)&&void 0!==e?e:null==r?void 0:r.journeyIdx},[t,r]),i=(0,a.useRef)(o),c=new URL(window.location.href).searchParams,l="".concat(c.get("ap"),"+").concat(c.get("dt"),"+").concat(c.get("ps"),"+").concat(c.get("sc")),u=(0,a.useRef)(l),s=(0,a.useRef)(!1);(0,a.useEffect)(function(){r&&(k()(n.current,r.transformedFilter)||(s.current=!1),n.current=r.transformedFilter)},[r]),(0,a.useEffect)(function(){u.current!==l&&(s.current=!1),u.current=l},[l]),(0,a.useEffect)(function(){r&&(o!==i.current&&(s.current=!1),i.current=o)},[r,o]);var d=(0,a.useMemo)(function(){return null!=e?e:L},[e]);return(0,a.useEffect)(function(){!s.current&&("boolean"!=typeof(null==t?void 0:t.enabled)||t.enabled)&&(s.current=!0,d({currentFilteredValue:r.transformedFilter,filterEachJourneyMap:r.getFilterEachJourney()}))},[r,d,t]),r},M=r(34547),H=r(499),U=r(7467),B=r(82665),W=a.createContext({journeyIdx:0,setJourneyIdx:function(){throw Error("Cannot setJourneyIdx as JouneyIdxControlProvider was not initialized")}});function V(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?V(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var J=(0,a.createContext)(null),K={};function Y(e){var t=e.children,r=e.searchSpec,n=e.monthIndex,o=e.yearIndex,i=e.timeType,c=e.routeType,l=e.calendarSelected,u=void 0!==l&&l,s=N(),d=s.transformedFilter,f=s.getFilterEachJourney,h=(0,a.useContext)(W),g=(null==h?void 0:h.journeyIdx)===1,m=(0,M.Q)(),b=(0,A.U8)().code,v=(0,p.bU)(),S=v.language,O=v.country,D=(0,E.yG)({buildTime:!0}),x=(0,I.Jd)(U.LG).enabled,R="".concat(S,"_").concat(O.toUpperCase()),w=(0,a.useState)({}),j=w[0],C=w[1],F=(0,a.useState)({}),k=F[0],_=F[1],L=(0,a.useState)(!1),V=L[0],Y=L[1];(0,a.useEffect)(function(){X()},[c]);var q=(0,a.useCallback)(function(e){C((0,T.ZP)(function(t){(0,H.Ff)(t,e.data.summaries,"ROUNDTRIP_FIXED_DEPARTDATE"===c,!0)})),_((0,T.ZP)(function(t){(0,H.EN)(t,e.data.summaries,"ROUNDTRIP_FIXED_DEPARTDATE"===c)}))},[c]),z=function(e){C((0,T.ZP)(function(t){(0,H.D_)(t,e)}))},X=function(){(0,Z.Z)(function(){C({}),_({}),Y(!1)})},Q=(0,P.Z)(n,2),$=Q[0],ee=Q[1],et=(0,P.Z)(o,2),er=et[0],en=et[1],ea=(0,B.S)({fetcher:m,isActive:x,calendarSelected:u,payload:(0,H.N4)(G({currency:b,localeJetty:R,clientInterface:D,routeType:c,timeType:i,roundTripSourceType:"ALL",searchSpec:r,flightDate:(0,H.uH)((0,H.wk)(c,$,r.departureDate,er)),returnFlightDate:(0,H.uH)((0,H.lk)({routeType:c,monthIndex:$,yearIndex:er,departureDate:r.departureDate,returnDate:r.returnDate})),departFilterSpec:d},g&&{departFilterSpec:f()[0],returnFilterSpec:d})),onSuccess:function(e){q(e),Y(!0)},onFetching:z}),eo=ea.data,ei=ea.status,ec=ea.isFetching,el=(0,B.S)({fetcher:m,isActive:x,calendarSelected:u,payload:(0,H.N4)(G({currency:b,localeJetty:R,clientInterface:D,routeType:c,timeType:i,roundTripSourceType:"ALL",searchSpec:r,flightDate:(0,H.uH)((0,H.wk)(c,ee,r.departureDate,en)),returnFlightDate:(0,H.uH)((0,H.lk)({routeType:c,monthIndex:ee,yearIndex:en,departureDate:r.departureDate,returnDate:r.returnDate})),departFilterSpec:d},g&&{departFilterSpec:f()[0],returnFilterSpec:d})),onSuccess:function(e){q(e),Y(!0)},onFetching:z}),eu=el.data,es=el.status,ed=el.isFetching;return(0,a.useEffect)(function(){var e=!ec&&!ed&&!V&&u;if(e&&0===Object.keys(j).length)"success"===ei&&void 0!==eo&&q(eo),"success"===es&&void 0!==eu&&q(eu);else if(e&&Object.keys(j).length>0){if(void 0!==j[er]){var t=String(Number($+1)),r=String(Number(ee+1)),n=Object.keys(j[er]);n.includes(t)||"success"!==ei||void 0===eo||q(eo),n.includes(r)||"success"!==es||void 0===eu||q(eu)}else"success"===ei&&void 0!==eo&&q(eo),"success"===es&&void 0!==eu&&q(eu)}},[ec,u,n,ei,eo]),(0,y.jsx)(J.Provider,{value:{isFetching:ec||ed,dateConfig:x?j:K,rawDateConfig:x?k:K,resetDateConfig:X},children:t})}function q(e){var t=(0,a.useContext)(J);return e?{isFetching:!1,dateConfig:{},rawDateConfig:{},resetDateConfig:function(){}}:t||{isFetching:!1,dateConfig:K,rawDateConfig:K,resetDateConfig:function(){}}}var z=r(25122),X=r(16024),Q=r(14169),$=(0,a.forwardRef)(function(e,t){var r=e.subtitle,n=e.title,a=e.additionalActionLabel,i=e.style,u=e.onCloseButtonPress,s=e.onAdditionalActionLabelPress,d=(0,X.d)(),p={text:{color:(0,c.Fg)().color.darkPrimary}};return(0,y.jsxs)(o.Z,{style:[ee.navBar,i],children:[(0,y.jsx)(v.Z,{testID:"".concat(e.testID,"-close"),ref:t,accessibilityLabel:"Close Button",style:ee.icon,onPress:function(){"function"==typeof u&&("function"==typeof d?d(u):u())},children:(0,y.jsx)(o.Z,{style:{padding:16,margin:-16},children:(0,y.jsx)(S.Z,{})})}),(0,y.jsxs)(o.Z,{style:ee.middleContent,children:[(0,y.jsx)(z.Z,{variant:"title-2",style:p.text,ellipsizeMode:"tail",numberOfLines:1,children:n}),r&&(0,y.jsx)(z.Z,{variant:"ui-tiny",style:p.text,ellipsizeMode:"tail",numberOfLines:1,children:r})]}),a&&(0,y.jsx)(v.Z,{onPress:function(){"function"==typeof s&&s()},style:{paddingVertical:10,marginVertical:-10},testID:"".concat(e.testID,"-cta"),children:(0,y.jsx)(z.Z,{variant:"ui-tiny",style:[p.text,{color:l.Z.color.uiBluePrimary,fontWeight:"bold"}],ellipsizeMode:"tail",numberOfLines:1,children:a})})]})});$.displayName="LightNavBar";var ee=i.Z.create({navBar:{alignItems:"center",flexDirection:"row",height:Q.ik,paddingRight:l.Z.spacing.m,backgroundColor:l.Z.color.uiLightPrimary},middleContent:{alignItems:"center",flex:1,justifyContent:"center",position:"relative"},icon:{left:l.Z.spacing.s,zIndex:1,color:l.Z.color.uiDarkPrimary}}),et=r(37051),er=r(4126),en=r(96416),ea=r(13208),eo=["maxDate"];function ei(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ec(e){var t=e.maxDate,r=void 0===t?(0,er.Z)(new Date,1):t,a=(0,et.Z)(e,eo),o=(0,p.bU)().languageTag,i=(0,en.Z)(e.minDate);return(0,y.jsx)(C.d8,{value:i,children:(0,y.jsx)(ea.ZP,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ei(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ei(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({languageTag:o,maxDate:r},a))})}var el=r(98969),eu=r(15150),es=r(5716),ed=r(3553),ep=r(1973),ef=r(87222),eh=r(50146),eg=r(1405),em=r(19479);function ey(){var e=new Date;return 12>e.getHours()?e:(0,eh.Z)()}var eb=function(e){return"true"===e},ev=function(e){return e.toISOString()},eS=function(e){try{var t=JSON.parse(e);return new Date(t)}catch(t){return new Date(e)}},eO=function(e,t){var r=new Date,n=new Date(e),a=new Date(t),o=null,i=null;return!(0,em.Z)(n,r)&&n<r&&(o=r),o&&t&&a<o&&(i=(0,eg.Z)(o,2)),[o,i]},eD=r(86532),eP=r(58581),ex=r(53285),eR=i.Z.create({wrapper:{},legend:{padding:l.Z.spacing.s,backgroundColor:l.Z.color.uiLightNeutral,display:"flex",flexDirection:"row",alignItems:"center"},box:{height:12,width:12,backgroundColor:l.Z.color.uiGreenPrimary,borderRadius:2,marginRight:l.Z.spacing.xs},cardRouteWrapper:{display:"flex",flexDirection:"row",gap:l.Z.spacing.s,justifyContent:"space-between",padding:l.Z.spacing.m},cardWrapper:{flex:1},cardRoute:{padding:l.Z.spacing.s,borderWidth:1,borderColor:l.Z.color.uiLightNeutral},cardRouteActive:{borderColor:l.Z.color.uiBluePrimary},cardRouteTitle:{fontWeight:"bold"},actionWrapper:{paddingHorizontal:l.Z.spacing.m,paddingBottom:l.Z.spacing.m},cta:{padding:l.Z.spacing.s,backgroundColor:l.Z.color.uiBluePrimary,textAlign:"center",borderRadius:l.Z.border.radius.normal},ctaDisable:{backgroundColor:l.Z.color.uiLightNeutral},ctaTextDisable:{color:l.Z.color.uiLightSecondary},textCTATitle:{textAlign:"center",fontWeight:"bold"},textCTASubtitle:{textAlign:"center"},textCTAActive:{color:l.Z.color.uiBluePrimary}}),eZ=function(e){var t=e.withoutPromo,r=(0,p.bU)(),n=(0,d.hw)(m.B),i=(0,ed.w)(),c=(0,eD.Z)(),l=(0,eP.ZP)().trackSelectSearchForm,u=q(t),s=u.rawDateConfig,f=u.dateConfig,h=eB(),g=h.onSubmit,b=h.setSelectedCalendar,S=h.setCalendarReturnDate,O=h.setCalendarShowReturn,D=h.calendarShowReturn,P=h.routeType,x=h.selectedCalendar,R=h.calendarDepartureDate,Z=h.calendarReturnDate,w=(0,a.useCallback)(function(e){var t={month:e.getMonth()+1,day:e.getDate(),year:e.getFullYear()},r=t.month,n=t.day,a=t.year;return a in s&&r in s[a]&&s[a][r][n]?c(s[a][r][n].cheapestFare.amount):null},[s,f,x,R,Z]),j=(0,a.useMemo)(function(){return R&&(0,ep.o0)(R,"EEE, dd MMM yyyy",r.languageTag)},[R]),C=(0,a.useMemo)(function(){return Z&&D?(Z&&R?(0,ef.Z)(Z,R):0)<=0?n.FlightDatePickerRevamp.selectDate:Z?(0,ep.o0)(Z,"EEE, dd MMM yyyy",r.languageTag):"":n.FlightDatePickerRevamp.selectReturnDate},[R,Z,P,D]),T=(0,a.useMemo)(function(){var e=R?(0,ep.o0)(R,"d MMM"):"";if(!D){var t=R?w(R):"";return{title:i(n.FlightDatePickerRevamp.applyDateCTAOneWay,{date:e}),subtitle:t?i(n.FlightDatePickerRevamp.applyDateCTASubtitlePrice,{price:String(t)}):"",isDisabled:!1,legendTitle:n.FlightDatePickerRevamp.cheapestDepartPrice}}var a=Z&&R?(0,ef.Z)(Z,R):0,o=Z?(0,ep.o0)(Z,"d MMM"):"",c=a<0||!o,l=n.FlightDatePickerRevamp.applyDateCTATitlePlaceholder,u=i(n.FlightDatePickerRevamp.applyDateCTASubtitlePlaceholder,{currency:r.defaultCurrency}),s="-";if(!c){var d=Z?w(Z):null;l=i(n.FlightDatePickerRevamp.applyDateCTARoundtrip,{date:"".concat(e," - ").concat(o),dayDiff:String(a)}),u=d?i(n.FlightDatePickerRevamp.applyDateCTASubtitlePrice,{price:String(d)}):"",s=i(n.FlightDatePickerRevamp.roundtripLegendTitle,{date:e})}return{title:l,subtitle:u,isDisabled:c,legendTitle:s}},[w,D,x,R,Z]),A=(0,a.useCallback)(function(){D||null==S||S(void 0),null==O||O(!0),null==b||b("return")},[D,R]);return(0,y.jsxs)(o.Z,{style:eR.wrapper,children:[(0,y.jsxs)(o.Z,{style:eR.legend,children:[(0,y.jsx)(o.Z,{style:eR.box}),(0,y.jsx)(z.Z,{variant:"ui-tiny",children:T.legendTitle})]}),(0,y.jsxs)(o.Z,{style:eR.cardRouteWrapper,children:[(0,y.jsx)(v.Z,{style:eR.cardWrapper,onPress:function(){return null==b?void 0:b("departure")},children:(0,y.jsxs)(es.Z,{style:[eR.cardRoute,"departure"===x&&eR.cardRouteActive],elevation:"flat",children:[(0,y.jsx)(z.Z,{variant:"ui-tiny",style:[eR.cardRouteTitle,"departure"===x&&eR.textCTAActive],children:n.SearchContainerJs.departureLabel}),(0,y.jsx)(z.Z,{variant:"ui-small",ink:"secondary",style:["departure"===x&&eR.textCTAActive],children:j})]})}),(0,y.jsx)(v.Z,{style:eR.cardWrapper,onPress:A,children:(0,y.jsxs)(es.Z,{style:[eR.cardRoute,"return"===x&&eR.cardRouteActive],elevation:"flat",children:[(0,y.jsx)(z.Z,{variant:"ui-tiny",style:[eR.cardRouteTitle,"return"===x&&eR.textCTAActive],children:n.SearchContainerJs.returnLabel}),(0,y.jsx)(z.Z,{variant:"ui-small",ink:"primary-interactive",children:C})]})})]}),(0,y.jsx)(o.Z,{style:eR.actionWrapper,children:(0,y.jsxs)(v.Z,{style:[eR.cta,T.isDisabled&&eR.ctaDisable],onPress:function(){if(!T.isDisabled&&(null==g||g(),""!==x)){var e="",t={calendarDepartureDate:R,calendarReturnDate:Z}[ex.wA[x]];t&&(e=(0,ep.o0)(t,"yyyy-MM-dd")),l({fieldName:ex.a7[x],fieldValue:e})}},testID:"button_apply_date",children:[(0,y.jsx)(z.Z,{style:[eR.textCTATitle,T.isDisabled&&eR.ctaTextDisable],variant:"ui-small",ink:"white",children:T.title}),(0,y.jsx)(z.Z,{style:[eR.textCTASubtitle,T.isDisabled&&eR.ctaTextDisable],variant:"ui-tiny",ink:"white",children:T.subtitle})]})})]})},ew=(0,a.forwardRef)(function(e,t){var r=e.inSearchResult,n=e.maxDate,i=e.urlHash,c=e.selectedDate,u=e.header,s=e.testID,p=e.onChange,f=e.onClose,h=e.onVisibleDateChange,g=e.withoutPromo,b=e.forceNotSyncUrl,v=(0,d.hw)(m.B),S=eB(),O=S.onReset,D=S.calendarDepartureDate,P=S.calendarReturnDate,x=S.calendarShowReturn,R=(0,el.U)().setShowSearchSpec,Z=q(g),w=Z.dateConfig,j=Z.resetDateConfig,T=(0,a.useRef)(null),A=(0,a.useMemo)(function(){return(0,y.jsx)($,{ref:T,testID:"".concat(s,"-navbar"),title:v.FlightDatePickerRevamp.selectDate,style:{backgroundColor:l.Z.color.uiLightPrimary},onCloseButtonPress:function(){t.current.close(),null==O||O(),r&&R(!0)}})},[v.FlightDatePickerRevamp.selectDate,D,P,x]),E=(0,a.useCallback)(function(){null!==T.current&&T.current.focus()},[]);return(0,y.jsxs)(eu.Z,{inSearchResult:r,ref:t,urlHash:i,navbar:A,onOpen:E,onClose:function(){null==f||f(),j()},hideContentWhenClosed:!0,forceNotSyncUrl:b,children:[u,(0,y.jsx)(o.Z,{style:{height:l.Z.spacing.xs}}),(0,y.jsx)(C.ko,{value:w,children:(0,y.jsxs)(o.Z,{style:ej.wrappper,children:[(0,y.jsx)(o.Z,{style:ej.calendarContainer,children:(0,y.jsx)(ec,{autoScrollToSelectedDate:"none",selectedDate:c,onChange:p,onVisibleDateChange:h,variant:"vertical",maxDate:n})}),(0,y.jsx)(o.Z,{style:ej.footerContainer,children:(0,y.jsx)(eZ,{withoutPromo:g})})]})})]})}),ej=i.Z.create({wrappper:{display:"flex",flex:1},calendarContainer:{flex:1},footerContainer:{paddingBottom:l.Z.spacing.m,backgroundColor:l.Z.color.uiLightPrimary}});ew.displayName="FlightDatePickerModalV2";var eC=r(28440),eT=(0,a.createContext)(null),eA=r(81402);function eE(e,t,r,n,o){var i=(0,eA.Z)(e,t,r,n),c=(0,P.Z)(i,2),l=c[0],u=c[1],s=(0,a.useState)(e),d=s[0],p=s[1];return o?[d,p]:[l,u]}var eI=r(9809),eF=r(79164),ek=r(53806);function e_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var eL=ey(),eN=(0,eg.Z)(ey(),2),eM=(0,er.Z)(new Date,1),eH=(0,a.createContext)({formDepartureDate:eL,formReturnDate:eN,formShowReturn:!1,calendarDepartureDate:eL,calendarReturnDate:eN,calendarShowReturn:!1,selectedCalendar:"",routeType:"ONEWAY",selectedDate:eL,anchorDate:eN,urlHash:"depart-date",maxDate:eM}),eU=function(e){var t=e.mode,r=e.children,o=e.inSearchResult,i=e.ignorePersistedState,c=e.searchSpec,l=e.onSubmit,u=(0,eC.Z)(200),s="DATE_FLOW"===(void 0===t?"DEFAULT":t),d=(0,a.useContext)(eT),p=(0,a.useMemo)(function(){return i&&c?(0,x.Z)(c.departureDateStr.split(", ")[1],"dd MMM yyyy",new Date):eL},[i,c]),f=(0,a.useMemo)(function(){return i&&c?"round"===c.routeType&&c.returnDateStr?(0,x.Z)(c.returnDateStr.split(", ")[1],"dd MMM yyyy",new Date):(0,eg.Z)(p,2):eN},[i,p,c]),h=(0,el.U)().setShowSearchSpec,g=(0,a.useRef)(),m=eE(p,j.VN,ev,eS,i),b=(0,P.Z)(m,2),v=b[0],S=b[1],O=eE(f,j.ap,ev,eS,i),D=(0,P.Z)(O,2),T=D[0],A=D[1],E=eE(!1,j.mX,String,eb,i),I=(0,P.Z)(E,2),F=I[0],k=I[1],_=(0,a.useState)(v),L=_[0],N=_[1],M=(0,a.useState)(T),H=M[0],U=M[1],B=(0,a.useState)(F),W=B[0],V=B[1],G=(0,a.useState)([new Date().getMonth(),new Date().getMonth()]),J=G[0],K=G[1],q=(0,a.useState)([new Date().getFullYear(),new Date().getFullYear()]),z=q[0],X=q[1],Q=(0,a.useState)(T?"return":"departure"),$=Q[0],ee=Q[1],et=(0,a.useState)(!0),er=et[0],en=et[1],ea=(0,a.useMemo)(function(){return W?"return"===$?"ROUNDTRIP_FIXED_DEPARTDATE":"ROUNDTRIP_FIXED_DURATION":"ONEWAY"},[W,$]),eo=(0,a.useMemo)(function(){return W&&"return"===$?H||void 0:L},[$,L,H,W]),ei=(0,a.useMemo)(function(){if(W)return"departure"===$?H:L},[$,L,H,W]),ec=(0,a.useMemo)(function(){return"ONEWAY"===ea||"departure"===$?"depart-date":"select-date"},[$,ea]),eu=(0,a.useCallback)(function(e){V(e),k(e),e&&(0,em.Z)(L,eM)&&(null==U||U((0,eg.Z)(L,2)))},[L,k]),es=(0,a.useCallback)(function(e){W?(null==N||N(e),(0,em.Z)(e,eM)?null==U||U((0,eg.Z)(e,2)):null==U||U(void 0),ee("return")):null==N||N(e)},[H,W]),ed=(0,a.useCallback)(function(e){e<L?(N(e),U(void 0)):U(e)},[L,H]),ep=(0,a.useCallback)(function(){N(v),U(T),V(F)},[v,T,F]),ef=(0,a.useCallback)(function(){if(k(W),S(L),H&&A(H),g.current.close(),o&&!s&&h(!0),s){var e=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?e_(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e_(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({departureDate:L},W&&H&&{arrivalDate:H,isRoundTrip:!0});null==l||l(e),null==d||d.onSubmitMiniCalendar(e)}},[L,H,W,o,s,l]),eh=(0,a.useCallback)(function(e){"departure"===$?es(e):ed(e)},[$,L,H]),ey=(0,a.useCallback)(function(e){X([e[0].year,e[0].year]),u(function(){return K([e[0].realMonth-1,e[0].realMonth])})},[u]),eD=(0,eI.Z)({lsIsRoundtripKey:j.mX}).initialTripType;(0,a.useEffect)(function(){var e=w.Z.getItem(j.mX);("ROUND_TRIP"===eD||eb(e||"false"))&&eu(!0)},[eu,eD]),(0,a.useEffect)(function(){er&&(null!=c&&c.departureDate&&(0,ek.isMoment)(c.departureDate)&&S(c.departureDate.toDate()),null!=c&&c.returnDate&&(0,ek.isMoment)(c.returnDate)&&A(c.returnDate.toDate()))},[null==c?void 0:c.departureDate,null==c?void 0:c.returnDate,er,S,A]),(0,a.useEffect)(function(){var e=eO(v,T),t=(0,P.Z)(e,2),r=t[0],n=t[1];r&&(S(r),N(r)),n&&(A(n),U(n))},[v,T,S,A]),(0,a.useEffect)(function(){(null==c?void 0:c.routeType)==="round"&&k(!0);var e=eO(v,T),t=(0,P.Z)(e,2),r=t[0],n=t[1];r&&S(r),n&&A(n);var a=r||v,o=a.getMonth(),i=a.getMonth()+1,l=a.getFullYear();K([o,i]),X([l,l]),ee(T?"return":"departure")},[]),(0,a.useEffect)(function(){if(N(v),V(F),F){var e=new Date(v);new Date(T)<e?U((0,eg.Z)(e,2)):U(T)}else U(null)},[v,T,F]),(0,a.useEffect)(function(){eF.Z.current.departureDate=L,eF.Z.current.returnDate=H||L,eF.Z.current.roundTrip=F},[L,H,F,i]);var eP={selectedCalendar:$,setSelectedCalendar:ee,setShowSearchSpec:h,formDepartureDate:v,setFormDepartureDate:S,formReturnDate:T,setFormReturnDate:A,formShowReturn:F,setFormShowReturn:k,calendarDepartureDate:L,setCalendarDepartureDate:N,calendarReturnDate:H,setCalendarReturnDate:U,calendarShowReturn:W,setCalendarShowReturn:eu,departureMonth:v.getMonth(),departureYear:T.getMonth(),routeType:ea,selectedDate:eo,anchorDate:ei,urlHash:ec,maxDate:eM,toggleReturn:function(){ee("return"),k(!F),V(!F)},onReset:ep,onSubmit:ef,openDepart:function(){en(!0),ee("departure"),g.current.open(),o&&h(!1)},openReturn:function(){en(!0),ee("return"),g.current.open(),o&&h(!1)},onDepartureDateBeforeChange:es,onReturnDateBeforeChange:ed,onVisibleDateChange:ey};return(0,y.jsx)(Y,{searchSpec:eF.Z.current,monthIndex:J,yearIndex:z,timeType:"MONTHLY",routeType:ea,calendarSelected:""!==$,children:(0,y.jsxs)(eH.Provider,{value:eP,children:[r,(0,y.jsx)(R.default,{children:(0,y.jsx)(C.Pq,{value:ei,children:(0,y.jsx)(ew,{inSearchResult:o,ref:g,urlHash:"select-date",selectedDate:eo,testID:"testId",maxDate:eP.maxDate,onChange:eh,onClose:function(){(0,Z.Z)(function(){en(!1),ee(""),K([v.getMonth(),T.getMonth()]),X([v.getFullYear(),T.getFullYear()])})},onVisibleDateChange:ey,routeType:ea,onSubmit:ef,forceNotSyncUrl:s})})})]})})},eB=function(){var e=(0,a.useContext)(eH);if(!e)throw Error("FlightDateSelectionContext must be used within a FlightDateSelectionProvider");return e},eW=i.Z.create({departureDate:{zIndex:10,flex:1},row:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",gap:l.Z.spacing.s},formReturnDate:{overflow:"hidden",flex:1}}),eV=function(e){var t=e.CR,r=(0,c.Fg)().color,n=eB(),i=n.openDepart,l=n.openReturn,u=n.onDepartureDateBeforeChange,d=n.onReturnDateBeforeChange,p=n.onVisibleDateChange,f=n.formDepartureDate,h=n.formReturnDate,g=n.departureMonth,m=n.departureYear,v=n.formShowReturn,S=n.calendarDepartureDate,O=n.calendarReturnDate,P=n.toggleReturn;return(0,y.jsxs)(o.Z,{style:eW.row,children:[(0,y.jsx)(o.Z,{style:[eW.departureDate,{backgroundColor:r.lightPrimary}],children:(0,a.useMemo)(function(){return(0,y.jsx)(b,{value:f,onFocus:i,label:t.MW_Flight_Search_Form.departureDateLabel,labelId:"mFSFDepartDate",testID:"mFSFDepartDate"})},[g,m,S,O,f,h,v,u,p,t])}),(0,y.jsx)(o.Z,{testID:"mFSFContainerReturnDate",style:[eW.formReturnDate,{height:68,marginTop:0}],children:(0,a.useMemo)(function(){return(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(D,{value:h,onFocus:l,label:t.MW_Flight_Search_Form.returnDateLabel,labelId:"mFSFReturnDate",testID:"mFSFReturnDate",iconSrc:s(),containerStyle:{transitionProperty:"transform",transitionDuration:"250ms",transitionTimingFunction:"ease-out",flex:1},onToggleRoundtrip:function(){return null==P?void 0:P()},persistedShowReturn:v,CR:t})})},[g,m,S,O,f,h,v,d,p,t])})]})},eG=r(30980);function eJ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eK(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eJ(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eJ(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var eY={MW_Flight_Search_Form:{departureDateLabel:"",returnDateLabel:"",roundTripLabel:"",returnSelectBtn:""},RENTAL_SEARCH:{TXT_searchForm_selectDate:""}};function eq(e){var t=e.ignorePersistedState,r=e.inSearchResult,n=(0,d.hw)(eY),a=(0,eG.G)().searchSpec;return(0,y.jsx)(eU,{inSearchResult:r,ignorePersistedState:t,searchSpec:a,children:(0,y.jsx)(eV,{CR:n})})}function ez(e){var t=e.ignorePersistedState,r=e.inSearchResult,n=(0,d.hw)(eY);return(0,y.jsx)(eU,{inSearchResult:r,ignorePersistedState:t,children:(0,y.jsx)(eV,{CR:n})})}function eX(e){var t=e.ignorePersistedState,r=e.inSearchResult,n=(0,d.hw)(eY),a=(0,eG.G)().searchSpec;return(0,y.jsx)(eU,{inSearchResult:r,ignorePersistedState:t,searchSpec:a,children:(0,y.jsx)(eV,{CR:n})})}var eQ=function(e){return e.inSearchResult?(0,y.jsx)(eq,eK({},e)):null!=e&&e.isFlightHomePage?(0,y.jsx)(eX,eK({},e)):(0,y.jsx)(ez,eK({},e))}},76067:function(e,t,r){r.d(t,{B:function(){return y},Z:function(){return b}});var n=r(72664),a=r(6907),o=r(87904),i=r(25773),c=r(25122),l=r(51448),u=r(72894),s=r(61090),d=r(46122),p=r(50100),f=r(74512);function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var m=a.Z.create({wrapper:{width:"100%",marginBottom:i.Z.spacing.m},text:g(g({},i.Z.typography.weightMedium),{},{width:"100%",textAlign:"left"}),cta:g(g({},i.Z.typography.weightMedium),{},{marginLeft:i.Z.spacing.xxs})}),y={FlightGroupBookingPage:{entryPointTitle:"",entryPointCTA:""}};function b(){var e=(0,u.Z)(),t=(0,s.Z)(),r=(0,d.hw)(y);return(0,f.jsx)(o.Z,{style:m.wrapper,children:(0,f.jsxs)(c.Z,{variant:"ui-small",style:m.text,children:[r.FlightGroupBookingPage.entryPointTitle,(0,f.jsx)(l.Z,{href:t(p.w4),onClick:function(){e("flight.bookingFlowEvent",{pageName:"SEARCH_FORM",pageEvent:"GROUP_BOOKING_ENTRY",timestamp:new Date().getTime()})},children:(0,f.jsx)(c.Z,{variant:"ui-small",style:m.cta,ink:"primary-interactive",children:r.FlightGroupBookingPage.entryPointCTA})})]})})}},46546:function(e,t,r){r.d(t,{B:function(){return R},Z:function(){return Z}});var n=r(32735),a=r(87904),o=r(5060),i=r(6907),c=r(61650),l=r.n(c),u=r(56032),s=r.n(u),d=r(28511),p=r.n(d),f=r(82753),h=r.n(f),g=r(90242),m=r.n(g),y=r(20890),b=r(46122),v=r(46414),S=r(25122),O=r(53001),D=r(25773),P=r(66170),x=r(74512),R={MW_Flight_Search_Form:{paxTrayTitle:"",modalDone:"",modalCancel:"",paxAdultsTitle:"",paxAdultsDesc:"",paxChildrenTitle:"",paxChildrenDesc:"",paxInfantsTitle:"",paxInfantsDesc:""}},Z=(0,n.forwardRef)(function(e,t){var r=e.numAdults,o=e.numChildren,i=e.numInfants,c=e.onClose,u=e.onCancel,d=e.onDismiss,f=(0,b.hw)(R),h=(0,n.useState)(r),g=h[0],m=h[1],S=(0,n.useState)(o),O=S[0],D=S[1],P=(0,n.useState)(i),Z=P[0],C=P[1],T=(0,n.useRef)(null);return(0,x.jsx)(v.Z,{ref:t,urlHash:"passengers",title:f.MW_Flight_Search_Form.paxTrayTitle,primaryText:f.MW_Flight_Search_Form.modalDone,secondaryText:f.MW_Flight_Search_Form.modalCancel,onPrimaryPress:function(){"function"==typeof c&&c(g,O,Z),t.current.close()},onSecondaryPress:function(){"function"==typeof u&&u(),t.current.close({onRest:function(){m(r),D(o),C(i)}})},onOpen:function(){T.current.focus()},onDismiss:function(){"function"==typeof d&&d()},children:(0,x.jsxs)(a.Z,{style:j.container,children:[(0,x.jsx)(y.Z,{routeType:"single",passengers:[g,O,Z]}),(0,x.jsxs)(a.Z,{style:j.flightPaxOptions,testID:"mFSFPaxOptionsOn",children:[(0,x.jsx)(w,{ref:T,title:f.MW_Flight_Search_Form.paxAdultsTitle,subtitle:f.MW_Flight_Search_Form.paxAdultsDesc,icon:l(),count:g,onChange:m,min:Math.max(1,Z),max:Math.min(7,7-O),testID:"mFSFPaxAdults"}),(0,x.jsx)(w,{title:f.MW_Flight_Search_Form.paxChildrenTitle,subtitle:f.MW_Flight_Search_Form.paxChildrenDesc,icon:s(),count:O,onChange:D,min:0,max:7-g,testID:"mFSFPaxChildren"}),(0,x.jsx)(w,{title:f.MW_Flight_Search_Form.paxInfantsTitle,subtitle:f.MW_Flight_Search_Form.paxInfantsDesc,icon:p(),count:Z,onChange:C,min:0,max:Math.min(g,4),testID:"mFSFPaxInfants"})]})]})})}),w=n.memo((0,n.forwardRef)(function(e,t){var r=e.title,n=e.subtitle,i=e.icon,c=e.count,l=e.onChange,u=e.min,s=e.max,d=e.testID;return(0,x.jsxs)(a.Z,{style:j.flightPaxWrapper,children:[(0,x.jsx)(S.Z,{variant:"ui-small",children:r}),(0,x.jsx)(S.Z,{variant:"ui-tiny",ink:"secondary",children:n}),(0,x.jsxs)(a.Z,{style:j.flightPaxStepperWrapper,children:[(0,x.jsx)(O.Z,{src:i,width:D.Z.spacing.l,height:D.Z.spacing.l}),(0,x.jsxs)(a.Z,{style:j.flightPaxStepper,children:[(0,x.jsx)(o.Z,{ref:t,onPress:function(){return l(c+1)},disabled:c===s,testID:"".concat(d,"-add"),style:j.hitSlop,children:(0,x.jsx)(O.Z,{src:h(),width:D.Z.spacing.m,height:D.Z.spacing.m,style:{opacity:c===s?.5:1,transition:"opacity 0.25s ease"}})}),(0,x.jsx)(S.Z,{variant:"ui-large",ink:"primary-interactive",style:j.flightPaxCount,testID:d,children:c}),(0,x.jsx)(o.Z,{onPress:function(){return l(c-1)},disabled:c===u,testID:"".concat(d,"-remove"),style:j.hitSlop,children:(0,x.jsx)(O.Z,{src:m(),width:D.Z.spacing.m,height:D.Z.spacing.m,style:{opacity:c===u?.5:1,transition:"opacity 0.25s ease"}})})]})]})]})}));w.displayName="FlightPax";var j=i.Z.create({container:{flexDirection:"column",gap:P.V.BMSize.sm,padding:P.V.BMSize.md},flightPaxOptions:{paddingVertical:D.Z.spacing.m,paddingHorizontal:D.Z.spacing.m,flexDirection:"row",justifyContent:"space-between"},flightPaxWrapper:{alignItems:"center",flexGrow:0,flexShrink:0,flexBasis:"33.33%"},flightPaxStepperWrapper:{marginVertical:D.Z.spacing.m,marginLeft:-D.Z.spacing.xl,flexDirection:"row",alignItems:"center"},flightPaxStepper:{marginLeft:D.Z.spacing.xs,alignItems:"center"},flightPaxCount:{marginVertical:D.Z.spacing.xs},hitSlop:{paddingHorizontal:50,paddingVertical:25,marginHorizontal:-50,marginVertical:-25}})},19805:function(e,t,r){r.d(t,{H:function(){return a},h:function(){return n}});var n=function(e){return e.join(".")},a=function(e){return e.split(".").map(Number)}},77420:function(e,t,r){r.d(t,{B:function(){return R},Z:function(){return Z}});var n=r(32735),a=r(87904),o=r(5060),i=r(6907),c=r(61650),l=r.n(c),u=r(56032),s=r.n(u),d=r(28511),p=r.n(d),f=r(82753),h=r.n(f),g=r(90242),m=r.n(g),y=r(46122),b=r(46414),v=r(25122),S=r(53001),O=r(25773),D=r(66170),P=r(20890),x=r(74512),R={MW_Flight_Search_Form:{paxTrayTitle:"",modalDone:"",modalCancel:"",paxAdultsTitle:"",paxAdultsDesc:"",paxChildrenTitle:"",paxChildrenDesc:"",paxInfantsTitle:"",paxInfantsDesc:""}},Z=(0,n.forwardRef)(function(e,t){var r=e.numAdults,o=e.numChildren,i=e.numInfants,c=e.onClose,u=e.onCancel,d=e.onDismiss,f=(0,y.hw)(R),h=(0,n.useState)(r),g=h[0],m=h[1],v=(0,n.useState)(o),S=v[0],O=v[1],D=(0,n.useState)(i),Z=D[0],C=D[1],T=(0,n.useRef)(null);return(0,x.jsx)(b.Z,{ref:t,urlHash:"passengers",title:f.MW_Flight_Search_Form.paxTrayTitle,primaryText:f.MW_Flight_Search_Form.modalDone,secondaryText:f.MW_Flight_Search_Form.modalCancel,onPrimaryPress:function(){"function"==typeof c&&c(g,S,Z),t.current.close()},onSecondaryPress:function(){"function"==typeof u&&u(),t.current.close({onRest:function(){m(r),O(o),C(i)}})},onOpen:function(){var e;null===(e=T.current)||void 0===e||e.focus()},onDismiss:function(){"function"==typeof d&&d()},children:(0,x.jsxs)(a.Z,{style:j.container,children:[(0,x.jsx)(P.Z,{routeType:"single",passengers:[g,S,Z]}),(0,x.jsxs)(a.Z,{style:j.flightPaxOptions,testID:"mFSFPaxOptionsOn",children:[(0,x.jsx)(w,{ref:T,title:f.MW_Flight_Search_Form.paxAdultsTitle,subtitle:f.MW_Flight_Search_Form.paxAdultsDesc,icon:l(),count:g,onChange:m,min:Math.max(1,Z),max:Math.min(7,7-S),testID:"mFSFPaxAdults"}),(0,x.jsx)(w,{title:f.MW_Flight_Search_Form.paxChildrenTitle,subtitle:f.MW_Flight_Search_Form.paxChildrenDesc,icon:s(),count:S,onChange:O,min:0,max:7-g,testID:"mFSFPaxChildren"}),(0,x.jsx)(w,{title:f.MW_Flight_Search_Form.paxInfantsTitle,subtitle:f.MW_Flight_Search_Form.paxInfantsDesc,icon:p(),count:Z,onChange:C,min:0,max:Math.min(g,4),testID:"mFSFPaxInfants"})]})]})})}),w=n.memo((0,n.forwardRef)(function(e,t){var r=e.title,n=e.subtitle,i=e.icon,c=e.count,l=e.onChange,u=e.min,s=e.max,d=e.testID;return(0,x.jsxs)(a.Z,{style:j.flightPaxWrapper,children:[(0,x.jsx)(v.Z,{variant:"ui-small",children:r}),(0,x.jsx)(v.Z,{variant:"ui-tiny",ink:"secondary",children:n}),(0,x.jsxs)(a.Z,{style:j.flightPaxStepperWrapper,children:[(0,x.jsx)(S.Z,{src:i,width:O.Z.spacing.l,height:O.Z.spacing.l}),(0,x.jsxs)(a.Z,{style:j.flightPaxStepper,children:[(0,x.jsx)(o.Z,{ref:t,onPress:function(){return l(c+1)},disabled:c===s,testID:"".concat(d,"-add"),style:j.hitSlop,children:(0,x.jsx)(S.Z,{src:h(),width:O.Z.spacing.m,height:O.Z.spacing.m,style:{opacity:c===s?.5:1,transition:"opacity 0.25s ease"}})}),(0,x.jsx)(v.Z,{variant:"ui-large",ink:"primary-interactive",style:j.flightPaxCount,testID:d,children:c}),(0,x.jsx)(o.Z,{onPress:function(){return l(c-1)},disabled:c===u,testID:"".concat(d,"-remove"),style:j.hitSlop,children:(0,x.jsx)(S.Z,{src:m(),width:O.Z.spacing.m,height:O.Z.spacing.m,style:{opacity:c===u?.5:1,transition:"opacity 0.25s ease"}})})]})]})]})}));w.displayName="FlightPax";var j=i.Z.create({container:{flexDirection:"column",gap:D.V.BMSize.sm,padding:D.V.BMSize.md},flightPaxOptions:{flexDirection:"row",justifyContent:"space-between"},flightPaxWrapper:{alignItems:"center",flexGrow:0,flexShrink:0,flexBasis:"33.33%"},flightPaxStepperWrapper:{marginVertical:O.Z.spacing.m,marginLeft:-O.Z.spacing.xl,flexDirection:"row",alignItems:"center"},flightPaxStepper:{marginLeft:O.Z.spacing.xs,alignItems:"center"},flightPaxCount:{marginVertical:O.Z.spacing.xs},hitSlop:{paddingHorizontal:50,paddingVertical:25,marginHorizontal:-50,marginVertical:-25}})},24956:function(e,t,r){r.d(t,{H:function(){return a},h:function(){return n}});var n=function(e){return e.join(".")},a=function(e){return e.split(".").map(Number)}},80524:function(e,t,r){var n=r(32735),a=r(87904),o=r(6907),i=r(44205),c=r(14994),l=r(25122),u=r(25773),s=r(46414),d=r(74512),p=(0,n.forwardRef)(function(e,t){var r=e.initialValue,a=e.onChange,o=e.options,c=e.inSearchResult,l=e.setShowSearchSpec,u=e.CR,p=(0,n.useState)(r),g=p[0],m=p[1],y=(0,n.useRef)(null);return(0,d.jsx)(s.Z,{ref:t,urlHash:"seat-class",title:u.MW_Flight_Search_Form.seatClassTrayTitle,primaryText:u.MW_Flight_Search_Form.modalDone,secondaryText:u.MW_Flight_Search_Form.modalCancel,onPrimaryPress:function(){c&&l(!0),"function"==typeof a&&a(g),t.current.close()},onSecondaryPress:function(){c&&l(!0),t.current.close({onRest:function(){m(r)}})},onOpen:function(){y.current.focus()},onDismiss:function(){c&&l(!0)},children:(0,d.jsx)(i.Z.Group,{ref:y,value:g,onChange:m,style:h.seatClassOptions,labelID:"mFSFSeatClass",testID:"mFSFSeatOptionsOn",children:o.map(function(e){return(0,d.jsx)(i.Z.Button,{label:e.description,value:e.seatClass,ButtonComponent:function(t){var r=t.isSelected,n=t.isFocused;return(0,d.jsx)(f,{isSelected:r,isFocused:n,seatClass:e})},testID:"mFSFSeatOption-".concat(e.seatClass)},e.seatClass)})})})});function f(e){var t=e.isSelected,r=e.isFocused,n=e.seatClass;return(0,d.jsxs)(a.Z,{style:h.seatClassOption,children:[(0,d.jsx)(c.Z,{isSelected:t,isFocused:r}),(0,d.jsxs)(a.Z,{style:h.seatClassOptionLabel,children:[(0,d.jsx)(l.Z,{variant:"ui-small",ellipsizeMode:"tail",numberOfLines:1,children:n.description}),(0,d.jsx)(l.Z,{variant:"ui-tiny",ink:"secondary",children:n.definition})]})]})}p.displayName="FlightSeatClassOptions";var h=o.Z.create({seatClassOptions:{paddingHorizontal:u.Z.spacing.m,paddingVertical:u.Z.spacing.s,width:"100%",overflow:"hidden"},seatClassOption:{width:"100%",flexDirection:"row",flexWrap:"wrap",alignItems:"center",paddingVertical:u.Z.spacing.xs},seatClassOptionLabel:{flex:1,marginLeft:u.Z.spacing.s}});t.Z=p},12706:function(e,t,r){var n=r(32735),a=r(87904),o=r(6907),i=r(44205),c=r(14994),l=r(25122),u=r(25773),s=r(46414),d=r(74512),p=(0,n.forwardRef)(function(e,t){var r=e.initialValue,a=e.onChange,o=e.options,c=e.inSearchResult,l=e.setShowSearchSpec,u=e.CR,p=(0,n.useState)(r),g=p[0],m=p[1],y=(0,n.useRef)(null);return(0,d.jsx)(s.Z,{ref:t,urlHash:"seat-class",title:u.MW_Flight_Search_Form.seatClassTrayTitle,primaryText:u.MW_Flight_Search_Form.modalDone,secondaryText:u.MW_Flight_Search_Form.modalCancel,onPrimaryPress:function(){c&&l(!0),"function"==typeof a&&a(g),t.current.close()},onSecondaryPress:function(){c&&l(!0),t.current.close({onRest:function(){m(r)}})},onOpen:function(){var e;null==y||null===(e=y.current)||void 0===e||e.focus()},onDismiss:function(){c&&l(!0)},children:(0,d.jsx)(i.Z.Group,{ref:y,value:g,onChange:m,style:h.seatClassOptions,labelID:"mFSFSeatClass",testID:"mFSFSeatOptionsOn",children:o.map(function(e){return(0,d.jsx)(i.Z.Button,{label:e.description,value:e.seatClass,ButtonComponent:function(t){var r=t.isSelected,n=t.isFocused;return(0,d.jsx)(f,{isSelected:r,isFocused:n,seatClass:e})},testID:"mFSFSeatOption-".concat(e.seatClass)},e.seatClass)})})})});function f(e){var t=e.isSelected,r=e.isFocused,n=e.seatClass;return(0,d.jsxs)(a.Z,{style:h.seatClassOption,children:[(0,d.jsx)(c.Z,{isSelected:t,isFocused:r}),(0,d.jsxs)(a.Z,{style:h.seatClassOptionLabel,children:[(0,d.jsx)(l.Z,{variant:"ui-small",ellipsizeMode:"tail",numberOfLines:1,children:n.description}),(0,d.jsx)(l.Z,{variant:"ui-tiny",ink:"secondary",children:n.definition})]})]})}p.displayName="FlightSeatClassOptions";var h=o.Z.create({seatClassOptions:{paddingHorizontal:u.Z.spacing.m,paddingVertical:u.Z.spacing.s,width:"100%",overflow:"hidden"},seatClassOption:{width:"100%",flexDirection:"row",flexWrap:"wrap",alignItems:"center",paddingVertical:u.Z.spacing.xs},seatClassOptionLabel:{flex:1,marginLeft:u.Z.spacing.s}});t.Z=p},15150:function(e,t,r){var n=r(72664),a=r(32735),o=r(91425),i=r(9686),c=r(87904),l=r(6907),u=r(78296),s=r(31416),d=r(46977),p=r(12290),f=r(98969),h=r(74512);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var y=function(){return!0},b=a.memo((0,a.forwardRef)(function(e,t){var r=e.inSearchResult,n=e.inForgotBooking,l=e.children,g=e.urlHash,b=e.navbar,S=e.hideContentWhenClosed,O=e.onClose,D=e.onOpen,P=e.shouldCaptureGesture,x=void 0===P?y:P,R=e.wrapperStyle,Z=e.forceNotSyncUrl,w=(0,s.Fg)().color,j=(0,a.useRef)(!1),C=(0,a.useState)(!1),T=C[0],A=C[1],E=(0,f.U)().setShowSearchSpec,I=(0,a.useMemo)(function(){var e=o.Z.get("window").height;switch(!0){case e<600:return"20px";case e>=600&&e<700:return"24px";case e>=700&&e<800:return"30px";default:return"34px"}},[]),F=(0,a.useCallback)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.syncUrl;(void 0===t||t)&&!Z&&window.location.assign("#"+g);var n=window.__next;n&&(n.style.transition="200ms transform ease-out",n.style.transform="scale3d(0.9, 0.9, 1) translateY(-".concat(I,")"),n.style.borderRadius="6px",n.style.opacity="0.9",document.body.style.backgroundColor="#000"),j.current=!0,_.current.open(function(){j.current=!1,(0,u.Z)(function(){A(!0),r&&E(!1),"function"==typeof D&&D()})})},[g,I,D]),k=(0,a.useCallback)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.syncUrl,a=e.onRest;(void 0===t||t)&&!Z&&(n?window.history.back():window.location.hash="");var o=window.__next;o&&(o.style.transform="none",o.style.borderRadius="0",o.style.opacity="1",document.body.style.backgroundColor="unset"),j.current=!0,_.current.close(function(){j.current=!1,(0,u.Z)(function(){A(!1),r&&E(!0),"function"==typeof O&&O(),"function"==typeof a&&a()})})},[O]),_=(0,a.useRef)(null);(0,a.useImperativeHandle)(t,function(){return{open:F,close:k,setTranslatePercentage:_.current.setTranslatePercentage}},[F,k]),(0,a.useEffect)(function(){if(!Z)return(0,d.sI)(window.location.hash,g)&&F({syncUrl:!1}),window.addEventListener("hashchange",e),function(){window.removeEventListener("hashchange",e)};function e(){!0!==j.current&&((0,d.sI)(window.location.hash,g)?F({syncUrl:!1}):!0===_.current.isOpen()&&k({syncUrl:!1}))}},[g,F,k,Z]);var L=(0,a.useState)(function(){return i.Z.create({onStartShouldSetPanResponder:function(e,t){var r=t.dx;return 0!==t.dy&&15>Math.abs(r)},onMoveShouldSetPanResponder:function(e,t){var r=t.dx;return 0!==t.dy&&15>Math.abs(r)},onPanResponderMove:function(e,r){if(x()){var n=o.Z.get("window").height,a=r.dy/n*100;a>0&&t.current.setTranslatePercentage(a)}},onPanResponderRelease:function(e,r){if(x()){var n=o.Z.get("window").height,a=r.dy/n*100;r.vy>1||a>25?t.current.close():t.current.setTranslatePercentage(0,!1)}}})})[0];return(0,h.jsx)(p.Z,{ref:_,wrapperStyle:[v.root,R],overlayStyle:{opacity:0},contentStyle:[v.contentWrapper,{backgroundColor:w.lightPrimary}],children:(0,h.jsxs)(c.Z,m(m({},L.panHandlers),{},{style:v.gestureResponder,children:[b,!1,(!(void 0!==S&&S)||T)&&l]}))})})),v=l.Z.create({root:{transform:[{translateY:22}],borderRadius:6,overflow:"hidden"},contentWrapper:{flex:1},gestureResponder:{flex:1}});b.displayName="FullPageModal",t.Z=b},79164:function(e,t,r){var n=(0,r(32735).createRef)();null===n.current&&(n.current={originAirport:"CGK",destinationAirport:"SUB",departureDate:new Date,roundTrip:!1,passengers:[1,0,0],seatClass:"ECONOMY",flexibility:!1,directOnly:!1,searchRevampEligibleRoutes:[]}),t.Z=n},81402:function(e,t,r){r.d(t,{Z:function(){return i}});var n=r(32735),a=r(27727),o=n.useLayoutEffect;function i(e,t,r,i){var c=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=(0,n.useState)(e),u=l[0],s=l[1];return(0,n.useEffect)(function(){a.Z.setItem(t,r(u))},[t,u,r]),o(function(){var e=a.Z.getItem(t);c||null==e||s(i(e))},[c]),[u,s]}},53285:function(e,t,r){r.d(t,{a7:function(){return o},hc:function(){return i},wA:function(){return a}});var n=r(93277),a={departure:"calendarDepartureDate",return:"calendarReturnDate"},o={departure:n.Sd.DEPARTURE_DATE,return:n.Sd.RETURN_DATE},i={DEFAULT:"ONE_WAY_OR_ROUND_TRIP",MULTI:"MULTI_CITY"}},58581:function(e,t,r){var n=r(72664),a=r(53806),o=r.n(a),i=r(32735),c=r(72894),l=r(55152),u=r(33273),s=r(76379);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}t.ZP=function(){var e=(0,c.Z)();return{trackSelectSearchForm:(0,i.useCallback)(function(t){var r=t.fieldName,n=t.fieldValue,a=p(p({},s.M),{},{timestamp:o()().unix(),fieldName:r,fieldValue:n||"",visitId:(0,l.Z)()});e(u.S,a).send()},[e]),trackClickBackForm:(0,i.useCallback)(function(t){var r=t.fieldName,n=t.fieldValue,a=p(p({},s.M),{},{timestamp:o()().unix(),fieldName:r,fieldValue:n,visitId:(0,l.Z)()});e(u.S,a).send()},[e])}}},93277:function(e,t,r){r.d(t,{Sd:function(){return a}});var n,a=((n={}).TRIP_TYPE="TRIP_TYPE",n.SEAT_PUBLISHED_CLASS="SEAT_PUBLISHED_CLASS",n.FLEXIBLE_TICKET="FLEXIBLE_TICKET",n.NUM_PASSENGER="NUM_PASSENGER",n.SOURCE_AIRPORT="SOURCE_AIRPORT",n.DESTINATION_AIRPORT="DESTINATION_AIRPORT",n.DEPARTURE_DATE="DEPARTURE_DATE",n.RETURN_DATE="RETURN_DATE",n)},9809:function(e,t,r){r.d(t,{Z:function(){return y}});var n=r(32735),a=r(20830),o=r(97647),i=r(18442),c=r(27727),l=r(29654),u=r(7467),s=r(65422),d=r(22016),p=["flight/fullsearch","flight/fulltwosearch","flight/multicitysearch"],f=["AB_TEST","VAR_ONEWAY","VAR_ROUNDTRIP","CONTROL"],h=["VAR_ONEWAY","VAR_ROUNDTRIP","CONTROL","control"],g={AB_TEST:{VAR_ONEWAY:"ONE_WAY",VAR_ROUNDTRIP:"ROUND_TRIP",CONTROL:null,control:null},VAR_ONEWAY:"ONE_WAY",VAR_ROUNDTRIP:"ROUND_TRIP",CONTROL:null},m=function(e,t){var r=g[e];if(!r)return a.Z.warn("[DEFAULT_TRIP_TYPE] Invalid FC, got ".concat(e),{POSSIBLE_FC_VALUE:f,fcProperties:e}),null;if("string"==typeof r)return r;if(void 0!==t)return h.includes(t)?r[t]||(a.Z.warn("[DEFAULT_TRIP_TYPE] Invalid AB Test, got ".concat(t),{POSSIBLE_AB_TEST_VALUE:h,variant:t}),null):(a.Z.warn("[DEFAULT_TRIP_TYPE] AB Test value is invalid, got ".concat(t),{POSSIBLE_AB_TEST_VALUE:h,variant:t}),null)},y=function(e){var t,r=e||{},a=r.lsIsRoundtripKey,f=void 0===a?"":a,h=r.onStateChange,g=r.skip,y=(t=(0,d.H)().path,p.some(function(e){return t.includes(e)})),b=(0,o.Jd)(u.xW),v=b.enabled,S=b.properties,O=((0,i.Z)(s.zI)||{}).variant,D=(0,n.useMemo)(function(){return v?m(null==S?void 0:S.value,O):null},[v,null==S?void 0:S.value,O]),P=c.Z.getItem(l.Qi),x=!!D;return"localStorage"in window&&!y&&(void 0===g||!g)&&(P&&!D&&void 0!==D&&c.Z.removeItem(l.Qi),D&&P!==D)?(c.Z.setItem(l.Qi,D),f&&c.Z.setItem(f,String("ROUND_TRIP"===D)),h&&h(D),{isSearchFormNewDesign:x,initialTripType:D}):{isSearchFormNewDesign:x}}},82665:function(e,t,r){r.d(t,{S:function(){return d}});var n=r(72664),a=r(20108),o=r(36903),i=r(88739),c=r(96111),l=r(18029);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function d(e){var t=e.fetcher,r=e.isActive,n=e.payload,u=e.calendarSelected,d=e.onSuccess,p=e.onFetching;return(0,a.useQuery)([n],function(){var e=s(s({},n),{},{data:s(s({},n.data),{},{routeSearchSpec:s(s({},n.data.routeSearchSpec),{},{utmId:(0,c.H2)(),utmSource:(0,c.x_)()})})});return"function"==typeof p&&p(e),t({domain:"flight",method:"post",path:i._L,payload:e})},{enabled:r&&u&&""!==n.data.routeSearchSpec.destinationAirportOrArea&&""!==n.data.routeSearchSpec.sourceAirportOrArea,onSuccess:d,onError:function(e){(0,l.K)(e)||(0,o.T)(e,{contexts:{metadata:{errorKind:"".concat(n.data.routeSearchSpec.clientInterface.toLowerCase(),"_promo_finder_fetch_error"),request:{body:n}}}})}})}},98969:function(e,t,r){r.d(t,{U:function(){return o}});var n=r(32735);r(74512);var a=n.createContext({searchSpecs:[],setSearchSpecs:function(){return null},showSearchSpec:!1,setShowSearchSpec:function(){return null}});function o(){return(0,n.useContext)(a)}},30980:function(e,t,r){r.d(t,{G:function(){return l}});var n=r(32735),a=r(55019),o=r(1405),i=new Date;i.setDate(i.getDate()+1);var c=n.createContext({searchSpec:{routeType:"single",departureAirport:"",destinationAirport:"",departureLocation:"",destinationLocation:"",departureDate:i,returnDate:(0,o.Z)(i,a.zn),departureDateStr:"",returnDateStr:"",numAdult:0,numChild:0,numInfant:0,seatClass:"ECONOMY"},searchSpecStr:""});function l(){return(0,n.useContext)(c)}c.Provider},46506:function(e,t,r){r.d(t,{E_:function(){return c}});var n=r(32735),a=r(72894),o=r(85798),i=r(55152);function c(e){e.__testCallback;var t=e.isPromoPageAvailable,r=void 0!==t&&t,c=e.isDownloadButtonAvailable,l=void 0!==c&&c,u=e.landingPageType,s=void 0===u?"TRAVELOKA_HOMEPAGE":u,d=e.landingPageTypeDetail,p=e.action,f=void 0===p?null:p,h=e.delayedTrackingMs,g=void 0===h?0:h,m=e.mutableTrackingData,y=e.componentUnavailable,b=(0,a.Z)();return(0,n.useEffect)(function(){setTimeout(function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isPromoPageAvailable,r=void 0!==t&&t,n=e.isDownloadButtonAvailable,a=void 0!==n&&n,c=e.landingPageType,l=void 0===c?"TRAVELOKA_HOMEPAGE":c,u=e.landingPageTypeDetail,s=e.action,d=void 0===s?null:s,p=e.mutableTrackingData,f=(0,i.Z)();return"ROUTE"===l&&p?{pageName:"SEARCH_FORM",pageEvent:"VISIT",timestamp:Date.now(),visitId:f,isPromoPageAvailable:r,isDownloadButtonAvailable:a,landingPageType:l,landingPageTypeDetail:u,action:d,affiliateId:(0,o.OK)(),isPromoFlightDealAvailable:p.current.isPromoFlightDealAvailable,isPromoCouponAvailable:p.current.isPromoCouponAvailable,isPromoBannerAvailable:p.current.isPromoBannerAvailable,numCheapestPriceNA:p.current.numCheapestPriceNA}:{pageName:"SEARCH_FORM",pageEvent:"VISIT",timestamp:Date.now(),visitId:f,isPromoPageAvailable:r,isDownloadButtonAvailable:a,landingPageType:l,landingPageTypeDetail:u,action:d,affiliateId:(0,o.OK)()}}({isPromoPageAvailable:r,isDownloadButtonAvailable:l,landingPageType:s,landingPageTypeDetail:d,action:f,mutableTrackingData:m});y&&(e.componentUnavailable=y),b("flight.bookingFlowEvent",e).send()},g)},[r,l,s,d,f,b,y]),null}},55152:function(e,t,r){r.d(t,{Z:function(){return o}});var n=r(33685),a=r(50380);function o(){var e=sessionStorage.getItem(a.cM);return null===e&&(e=(0,n.v4)(),sessionStorage.setItem(a.cM,e)),e}},33273:function(e,t,r){r.d(t,{S:function(){return n}});var n="flight.bookingFlowEvent"},29449:function(e,t,r){r.d(t,{J9:function(){return u},Qv:function(){return l},VC:function(){return c}});var n=r(32735),a=r(74512),o=n.createContext(null),i=n.createContext(null);function c(e){var t=(0,n.useState)(),r=t[0],c=t[1],l=(0,n.useState)(),u=l[0],s=l[1];return(0,a.jsx)(o.Provider,{value:{defaultAutocomplete:r,setDefaultAutocomplete:c},children:(0,a.jsx)(i.Provider,{value:{defaultAutocomplete:u,setDefaultAutocomplete:s},children:e.children})})}function l(){return(0,n.useContext)(o)}function u(){return(0,n.useContext)(i)}},46977:function(e,t,r){function n(e,t){return e.slice(1).split("~").some(function(e){return e===t})}function a(e,t){if(""===e||"#"===e)return"#"+t;var r=new Set(e.slice(1).split("~"));return r.add(t),"#"+Array.from(r).join("~")}function o(e,t){if(""===e)return e;var r=e.slice(1).split("~");return r[r.length-1]===t&&r.pop(),"#"+r.join("~")}r.d(t,{Hk:function(){return a},oE:function(){return o},sI:function(){return n}})},38292:function(e,t,r){r.d(t,{Z:function(){return u}});var n=r(72664),a=r(84259),o=r(25773),i=r(74512);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function u(e){var t=l({trackColor:{false:o.Z.color.uiLightSecondary,true:o.Z.color.uiBluePrimary},thumbColor:o.Z.color.uiLightPrimary,activeThumbColor:o.Z.color.uiLightPrimary,activeTrackColor:o.Z.color.uiBluePrimary},e);return(0,i.jsx)(a.Z,l(l({},t),{},{"aria-checked":!!t.value}))}}}]);